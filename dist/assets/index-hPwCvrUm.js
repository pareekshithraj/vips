(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function $v(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Uw(){if(j_)return Vl;j_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:c}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var V_;function Hw(){return V_||(V_=1,dm.exports=Uw()),dm.exports}var p=Hw(),hm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function zw(){if(P_)return Ae;P_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function z(j){return j===null||typeof j!="object"?null:(j=C&&j[C]||j["@@iterator"],typeof j=="function"?j:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function te(j,Y,se){this.props=j,this.context=Y,this.refs=Z,this.updater=se||X}te.prototype.isReactComponent={},te.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},te.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function re(){}re.prototype=te.prototype;function ce(j,Y,se){this.props=j,this.context=Y,this.refs=Z,this.updater=se||X}var Ee=ce.prototype=new re;Ee.constructor=ce,J(Ee,te.prototype),Ee.isPureReactComponent=!0;var fe=Array.isArray;function de(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(j,Y,se){var le=se.ref;return{$$typeof:i,type:j,key:Y,ref:le!==void 0?le:null,props:se}}function D(j,Y){return N(j.type,Y,j.props)}function S(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function k(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return Y[se]})}var A=/\/+/g;function he(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):Y.toString(36)}function Te(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(de,de):(j.status="pending",j.then(function(Y){j.status==="pending"&&(j.status="fulfilled",j.value=Y)},function(Y){j.status==="pending"&&(j.status="rejected",j.reason=Y)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,Y,se,le,we){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Be=!1;if(j===null)Be=!0;else switch(Ce){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(j.$$typeof){case i:case e:Be=!0;break;case T:return Be=j._init,F(Be(j._payload),Y,se,le,we)}}if(Be)return we=we(j),Be=le===""?"."+he(j,0):le,fe(we)?(se="",Be!=null&&(se=Be.replace(A,"$&/")+"/"),F(we,Y,se,"",function(va){return va})):we!=null&&(S(we)&&(we=D(we,se+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(A,"$&/")+"/")+Be)),Y.push(we)),1;Be=0;var kt=le===""?".":le+":";if(fe(j))for(var ct=0;ct<j.length;ct++)le=j[ct],Ce=kt+he(le,ct),Be+=F(le,Y,se,Ce,we);else if(ct=z(j),typeof ct=="function")for(j=ct.call(j),ct=0;!(le=j.next()).done;)le=le.value,Ce=kt+he(le,ct++),Be+=F(le,Y,se,Ce,we);else if(Ce==="object"){if(typeof j.then=="function")return F(Te(j),Y,se,le,we);throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(j,Y,se){if(j==null)return j;var le=[],we=0;return F(j,le,"","",function(Ce){return Y.call(se,Ce,we++)}),le}function pe(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var je=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},$e={map:ie,forEach:function(j,Y,se){ie(j,function(){Y.apply(this,arguments)},se)},count:function(j){var Y=0;return ie(j,function(){Y++}),Y},toArray:function(j){return ie(j,function(Y){return Y})||[]},only:function(j){if(!S(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ae.Activity=E,Ae.Children=$e,Ae.Component=te,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ce,Ae.StrictMode=a,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},Ae.cache=function(j){return function(){return j.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(j,Y,se){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var le=J({},j.props),we=j.key;if(Y!=null)for(Ce in Y.key!==void 0&&(we=""+Y.key),Y)!I.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(le[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=se;else if(1<Ce){for(var Be=Array(Ce),kt=0;kt<Ce;kt++)Be[kt]=arguments[kt+2];le.children=Be}return N(j.type,we,le)},Ae.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Ae.createElement=function(j,Y,se){var le,we={},Ce=null;if(Y!=null)for(le in Y.key!==void 0&&(Ce=""+Y.key),Y)I.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(we[le]=Y[le]);var Be=arguments.length-2;if(Be===1)we.children=se;else if(1<Be){for(var kt=Array(Be),ct=0;ct<Be;ct++)kt[ct]=arguments[ct+2];we.children=kt}if(j&&j.defaultProps)for(le in Be=j.defaultProps,Be)we[le]===void 0&&(we[le]=Be[le]);return N(j,Ce,we)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:m,render:j}},Ae.isValidElement=S,Ae.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:pe}},Ae.memo=function(j,Y){return{$$typeof:_,type:j,compare:Y===void 0?null:Y}},Ae.startTransition=function(j){var Y=R.T,se={};R.T=se;try{var le=j(),we=R.S;we!==null&&we(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(de,je)}catch(Ce){je(Ce)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),R.T=Y}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(j){return R.H.use(j)},Ae.useActionState=function(j,Y,se){return R.H.useActionState(j,Y,se)},Ae.useCallback=function(j,Y){return R.H.useCallback(j,Y)},Ae.useContext=function(j){return R.H.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j,Y){return R.H.useDeferredValue(j,Y)},Ae.useEffect=function(j,Y){return R.H.useEffect(j,Y)},Ae.useEffectEvent=function(j){return R.H.useEffectEvent(j)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(j,Y,se){return R.H.useImperativeHandle(j,Y,se)},Ae.useInsertionEffect=function(j,Y){return R.H.useInsertionEffect(j,Y)},Ae.useLayoutEffect=function(j,Y){return R.H.useLayoutEffect(j,Y)},Ae.useMemo=function(j,Y){return R.H.useMemo(j,Y)},Ae.useOptimistic=function(j,Y){return R.H.useOptimistic(j,Y)},Ae.useReducer=function(j,Y,se){return R.H.useReducer(j,Y,se)},Ae.useRef=function(j){return R.H.useRef(j)},Ae.useState=function(j){return R.H.useState(j)},Ae.useSyncExternalStore=function(j,Y,se){return R.H.useSyncExternalStore(j,Y,se)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.3",Ae}var L_;function hp(){return L_||(L_=1,hm.exports=zw()),hm.exports}var xe=hp();const Fv=$v(xe);var fm={exports:{}},Pl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Bw(){return U_||(U_=1,(function(i){function e(F,ie){var pe=F.length;F.push(ie);e:for(;0<pe;){var je=pe-1>>>1,$e=F[je];if(0<o($e,ie))F[je]=ie,F[pe]=$e,pe=je;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ie=F[0],pe=F.pop();if(pe!==ie){F[0]=pe;e:for(var je=0,$e=F.length,j=$e>>>1;je<j;){var Y=2*(je+1)-1,se=F[Y],le=Y+1,we=F[le];if(0>o(se,pe))le<$e&&0>o(we,se)?(F[je]=we,F[le]=pe,je=le):(F[je]=se,F[Y]=pe,je=Y);else if(le<$e&&0>o(we,pe))F[je]=we,F[le]=pe,je=le;else break e}}return ie}function o(F,ie){var pe=F.sortIndex-ie.sortIndex;return pe!==0?pe:F.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],_=[],T=1,E=null,C=3,z=!1,X=!1,J=!1,Z=!1,te=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Ee(F){for(var ie=n(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=F)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=n(_)}}function fe(F){if(J=!1,Ee(F),!X)if(n(y)!==null)X=!0,de||(de=!0,k());else{var ie=n(_);ie!==null&&Te(fe,ie.startTime-F)}}var de=!1,R=-1,I=5,N=-1;function D(){return Z?!0:!(i.unstable_now()-N<I)}function S(){if(Z=!1,de){var F=i.unstable_now();N=F;var ie=!0;try{e:{X=!1,J&&(J=!1,re(R),R=-1),z=!0;var pe=C;try{t:{for(Ee(F),E=n(y);E!==null&&!(E.expirationTime>F&&D());){var je=E.callback;if(typeof je=="function"){E.callback=null,C=E.priorityLevel;var $e=je(E.expirationTime<=F);if(F=i.unstable_now(),typeof $e=="function"){E.callback=$e,Ee(F),ie=!0;break t}E===n(y)&&a(y),Ee(F)}else a(y);E=n(y)}if(E!==null)ie=!0;else{var j=n(_);j!==null&&Te(fe,j.startTime-F),ie=!1}}break e}finally{E=null,C=pe,z=!1}ie=void 0}}finally{ie?k():de=!1}}}var k;if(typeof ce=="function")k=function(){ce(S)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,he=A.port2;A.port1.onmessage=S,k=function(){he.postMessage(null)}}else k=function(){te(S,0)};function Te(F,ie){R=te(function(){F(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(F){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var pe=C;C=ie;try{return F()}finally{C=pe}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=C;C=F;try{return ie()}finally{C=pe}},i.unstable_scheduleCallback=function(F,ie,pe){var je=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,F){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=pe+$e,F={id:T++,callback:ie,priorityLevel:F,startTime:pe,expirationTime:$e,sortIndex:-1},pe>je?(F.sortIndex=pe,e(_,F),n(y)===null&&F===n(_)&&(J?(re(R),R=-1):J=!0,Te(fe,pe-je))):(F.sortIndex=$e,e(y,F),X||z||(X=!0,de||(de=!0,k()))),F},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(F){var ie=C;return function(){var pe=C;C=ie;try{return F.apply(this,arguments)}finally{C=pe}}}})(pm)),pm}var H_;function qw(){return H_||(H_=1,mm.exports=Bw()),mm.exports}var gm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function $w(){if(z_)return Zt;z_=1;var i=hp();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,T){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:y,containerInfo:_,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},Zt.flushSync=function(y){var _=h.T,T=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=_,a.p=T,a.d.f()}},Zt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Zt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Zt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,E=m(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:z}):T==="script"&&a.d.X(y,{crossOrigin:E,integrity:C,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Zt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,E=m(T,_.crossOrigin);a.d.L(y,T,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zt.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=m(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Zt.requestFormReset=function(y){a.d.r(y)},Zt.unstable_batchedUpdates=function(y,_){return y(_)},Zt.useFormState=function(y,_,T){return h.H.useFormState(y,_,T)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var B_;function Fw(){if(B_)return gm.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=$w(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Gw(){if(q_)return Pl;q_=1;var i=qw(),e=hp(),n=Fw();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(a(188));return s!==t?null:t}for(var r=t,l=s;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return y(d),t;if(f===l)return y(d),s;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=d,l=f;else{for(var b=!1,x=d.child;x;){if(x===r){b=!0,r=d,l=f;break}if(x===l){b=!0,l=d,r=f;break}x=x.sibling}if(!b){for(x=f.child;x;){if(x===r){b=!0,r=f,l=d;break}if(x===l){b=!0,l=f,r=d;break}x=x.sibling}if(!b)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:s}function T(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=T(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=S&&t[S]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case te:return"Profiler";case Z:return"StrictMode";case fe:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case ce:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case Ee:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:he(t.type)||"Memo";case I:s=t._payload,t=t._init;try{return he(t(s))}catch{}}return null}var Te=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],$e=-1;function j(t){return{current:t}}function Y(t){0>$e||(t.current=je[$e],je[$e]=null,$e--)}function se(t,s){$e++,je[$e]=t.current,t.current=s}var le=j(null),we=j(null),Ce=j(null),Be=j(null);function kt(t,s){switch(se(Ce,s),se(we,t),se(le,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=s_(s),t=a_(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),se(le,t)}function ct(){Y(le),Y(we),Y(Ce)}function va(t){t.memoizedState!==null&&se(Be,t);var s=le.current,r=a_(s,t.type);s!==r&&(se(we,t),se(le,r))}function gr(t){we.current===t&&(Y(le),Y(we)),Be.current===t&&(Y(Be),Ml._currentValue=pe)}var yr,_r;function ci(t){if(yr===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);yr=s&&s[1]||"",_r=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+t+_r}var Mo=!1;function Ea(t,s){if(!t||Mo)return"";Mo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch($){var B=$}Reflect.construct(t,[],W)}else{try{W.call()}catch($){B=$}t.call(W.prototype)}}else{try{throw Error()}catch($){B=$}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch($){if($&&B&&typeof $.stack=="string")return[$.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],x=f[1];if(b&&x){var M=b.split(`
`),H=x.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===H.length)for(l=M.length-1,d=H.length-1;1<=l&&0<=d&&M[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==H[d]){var G=`
`+M[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=d);break}}}finally{Mo=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function ko(t,s){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==s&&s!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ea(t.type,!1);case 11:return Ea(t.type.render,!1);case 1:return Ea(t.type,!0);case 31:return ci("Activity");default:return""}}function Oo(t){try{var s="",r=null;do s+=ko(t,r),r=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,ys=i.unstable_cancelCallback,hh=i.unstable_shouldYield,wc=i.unstable_requestPaint,an=i.unstable_now,Ta=i.unstable_getCurrentPriorityLevel,jo=i.unstable_ImmediatePriority,Vo=i.unstable_UserBlockingPriority,_s=i.unstable_NormalPriority,fh=i.unstable_LowPriority,Sc=i.unstable_IdlePriority,Ac=i.log,Nc=i.unstable_setDisableYieldValue,Fn=null,$t=null;function In(t){if(typeof Ac=="function"&&Nc(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:Rc,Ic=Math.log,br=Math.LN2;function Rc(t){return t>>>=0,t===0?32:31-(Ic(t)/br|0)|0}var ui=256,xa=262144,Et=4194304;function di(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,s,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?d=di(l):(b&=x,b!==0?d=di(b):r||(r=x&~t,r!==0&&(d=di(r))))):(x=l&~f,x!==0?d=di(x):b!==0?d=di(b):r||(r=l&~t,r!==0&&(d=di(r)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,r=s&-s,f>=r||f===32&&(r&4194048)!==0)?s:d}function Gn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function mh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function fi(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function wa(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ph(t,s,r,l,d,f){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(r=b&~r;0<r;){var G=31-pt(r),W=1<<G;x[G]=0,M[G]=-1;var B=H[G];if(B!==null)for(H[G]=null,G=0;G<B.length;G++){var $=B[G];$!==null&&($.lane&=-536870913)}r&=~W}l!==0&&Sa(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~s))}function Sa(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-pt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Po(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var l=31-pt(r),d=1<<l;d&s|t[l]&s&&(t[l]|=s),r&=~d}}function Lo(t,s){var r=s&-s;return r=(r&42)!==0?1:Aa(r),(r&(t.suspendedLanes|s))!==0?0:r}function Aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function Yn(t,s){var r=ie.p;try{return ie.p=t,s()}finally{ie.p=r}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,Pt="__reactProps$"+Qn,mi="__reactContainer$"+Qn,vr="__reactEvents$"+Qn,gh="__reactListeners$"+Qn,Mc="__reactHandles$"+Qn,kc="__reactResources$"+Qn,pi="__reactMarker$"+Qn;function Er(t){delete t[Tt],delete t[Pt],delete t[vr],delete t[gh],delete t[Mc]}function gi(t){var s=t[Tt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[mi]||r[Tt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=h_(t);t!==null;){if(r=t[Tt])return r;t=h_(t)}return s}t=r,r=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[mi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function yn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function yi(t){var s=t[kc];return s||(s=t[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(t){t[pi]=!0}var Uo=new Set,Ho={};function _i(t,s){bi(t,s),bi(t+"Capture",s)}function bi(t,s){for(Ho[t]=s,t=0;t<s.length;t++)Uo.add(s[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Oc(t){return vt.call(qo,t)?!0:vt.call(Bo,t)?!1:zo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function Tr(t,s,r){if(Oc(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function _n(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function wt(t,s,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $o(t,s,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){r=""+b,f.call(this,b)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Xe(t){if(!t._valueTracker){var s=bs(t)?"checked":"value";t._valueTracker=$o(t,s,""+t[s])}}function Na(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),l="";return t&&(l=bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(s.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ia=/[\n"\\]/g;function cn(t){return t.replace(Ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xr(t,s,r,l,d,f,b,x){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Lt(s)):t.value!==""+Lt(s)&&(t.value=""+Lt(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Fo(t,b,Lt(s)):r!=null?Fo(t,b,Lt(r)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Lt(x):t.removeAttribute("name")}function jc(t,s,r,l,d,f,b,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Xe(t);return}r=r!=null?""+Lt(r):"",s=s!=null?""+Lt(s):r,x||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Xe(t)}function Fo(t,s,r){s==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function vs(t,s,r,l){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Vc(t,s,r){if(s!=null&&(s=""+Lt(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+Lt(r):""}function Es(t,s,r,l){if(s==null){if(l!=null){if(r!=null)throw Error(a(92));if(Te(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),s=r}r=Lt(s),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Xe(t)}function un(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,s,r){var l=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,r):typeof r!="number"||r===0||Pc.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Yo(t,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&r[d]!==l&&Go(t,d,l)}else for(var f in s)s.hasOwnProperty(f)&&Go(t,f,s[f])}function wr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Qo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Ei=null;function Ra(t){var s=Rn(t);if(s&&(t=s.stateNode)){var r=t[Pt]||null;e:switch(t=s.stateNode,s.type){case"input":if(xr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var l=r[s];if(l!==t&&l.form===t.form){var d=l[Pt]||null;if(!d)throw Error(a(90));xr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)l=r[s],l.form===t.form&&Na(l)}break e;case"textarea":Vc(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&vs(t,!!r.multiple,s,!1)}}}var Ar=!1;function ws(t,s,r){if(Ar)return t(s,r);Ar=!0;try{var l=t(s);return l}finally{if(Ar=!1,(xs!==null||Ei!==null)&&(Du(),xs&&(s=xs,t=Ei,Ei=xs=null,Ra(s),t)))for(s=0;s<t.length;s++)Ra(t[s])}}function Xn(t,s){var r=t.stateNode;if(r===null)return null;var l=r[Pt]||null;if(l===null)return null;r=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(Dn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ca=!1}var Ti=null,Ko=null,Da=null;function Xo(){if(Da)return Da;var t,s=Ko,r=s.length,l,d="value"in Ti?Ti.value:Ti.textContent,f=d.length;for(t=0;t<r&&s[t]===d[t];t++);var b=r-t;for(l=1;l<=b&&s[r-l]===d[f-l];l++);return Da=d.slice(t,1<l?1-l:void 0)}function Ma(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Wn(){return!1}function Ft(t){function s(r,l,d,f,b){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(r=t[x],this[x]=r?r(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Wn,this.isPropagationStopped=Wn,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),s}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Ft($i),Ss=E({},$i,{view:0,detail:0}),Wo=Ft(Ss),As,Nr,wi,Ir=E({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(As=t.screenX-wi.screenX,Nr=t.screenY-wi.screenY):Nr=As=0,wi=t),As)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),Jo=Ft(Ir),ka=E({},Ir,{dataTransfer:0}),Uc=Ft(ka),Hc=E({},Ss,{relatedTarget:0}),Oa=Ft(Hc),Zo=E({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=Ft(Zo),Rr=E({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bc=Ft(Rr),qc=E({},$i,{data:0}),Si=Ft(qc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Gc[t])?!!s[t]:!1}function Ns(){return Yc}var rn=E({},Ss,{key:function(t){if(t.key){var s=$c[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ma(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Ma(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ma(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qc=Ft(rn),Kc=E({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ft(Kc),u=E({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),g=Ft(u),v=E({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(v),L=E({},Ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ft(L),ne=E({},$i,{newState:0,oldState:0}),Ie=Ft(ne),gt=[9,13,27,32],Ye=Dn&&"CompositionEvent"in window,ut=null;Dn&&"documentMode"in document&&(ut=document.documentMode);var Mn=Dn&&"TextEvent"in window&&!ut,Ai=Dn&&(!Ye||ut&&8<ut&&11>=ut),Jn=" ",Zn=!1;function ja(t,s){switch(t){case"keyup":return gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function cx(t,s){switch(t){case"compositionend":return Cr(s);case"keypress":return s.which!==32?null:(Zn=!0,Jn);case"textInput":return t=s.data,t===Jn&&Zn?null:t;default:return null}}function ux(t,s){if(Dr)return t==="compositionend"||!Ye&&ja(t,s)?(t=Xo(),Da=Ko=Ti=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ai&&s.locale!=="ko"?null:s.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!dx[t.type]:s==="textarea"}function gg(t,s,r,l){xs?Ei?Ei.push(l):Ei=[l]:xs=l,s=Lu(s,"onChange"),0<s.length&&(r=new xi("onChange","change",null,r,l),t.push({event:r,listeners:s}))}var el=null,tl=null;function hx(t){J0(t,0)}function Xc(t){var s=yn(t);if(Na(s))return t}function yg(t,s){if(t==="change")return s}var _g=!1;if(Dn){var yh;if(Dn){var _h="oninput"in document;if(!_h){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),_h=typeof bg.oninput=="function"}yh=_h}else yh=!1;_g=yh&&(!document.documentMode||9<document.documentMode)}function vg(){el&&(el.detachEvent("onpropertychange",Eg),tl=el=null)}function Eg(t){if(t.propertyName==="value"&&Xc(tl)){var s=[];gg(s,tl,t,Cn(t)),ws(hx,s)}}function fx(t,s,r){t==="focusin"?(vg(),el=s,tl=r,el.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function mx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(tl)}function px(t,s){if(t==="click")return Xc(s)}function gx(t,s){if(t==="input"||t==="change")return Xc(s)}function yx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var bn=typeof Object.is=="function"?Object.is:yx;function nl(t,s){if(bn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),l=Object.keys(s);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!vt.call(s,d)||!bn(t[d],s[d]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,s){var r=Tg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=s&&l>=s)return{node:r,offset:s-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tg(r)}}function wg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?wg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=vi(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=vi(t.document)}return s}function bh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var _x=Dn&&"documentMode"in document&&11>=document.documentMode,Mr=null,vh=null,il=null,Eh=!1;function Ag(t,s,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eh||Mr==null||Mr!==vi(l)||(l=Mr,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Lu(vh,"onSelect"),0<l.length&&(s=new xi("onSelect","select",null,s,r),t.push({event:s,listeners:l}),s.target=Mr)))}function Va(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var kr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Th={},Ng={};Dn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Pa(t){if(Th[t])return Th[t];if(!kr[t])return t;var s=kr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Ng)return Th[t]=s[r];return t}var Ig=Pa("animationend"),Rg=Pa("animationiteration"),Cg=Pa("animationstart"),bx=Pa("transitionrun"),vx=Pa("transitionstart"),Ex=Pa("transitioncancel"),Dg=Pa("transitionend"),Mg=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function ei(t,s){Mg.set(t,s),_i(s,[t])}var Wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Or=0,wh=0;function Jc(){for(var t=Or,s=wh=Or=0;s<t;){var r=kn[s];kn[s++]=null;var l=kn[s];kn[s++]=null;var d=kn[s];kn[s++]=null;var f=kn[s];if(kn[s++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}f!==0&&kg(r,d,f)}}function Zc(t,s,r,l){kn[Or++]=t,kn[Or++]=s,kn[Or++]=r,kn[Or++]=l,wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sh(t,s,r,l){return Zc(t,s,r,l),eu(t)}function La(t,s){return Zc(t,null,null,s),eu(t)}function kg(t,s,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-pt(r),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=r|536870912),f):null}function eu(t){if(50<Sl)throw Sl=0,jf=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var jr={};function Tx(t,s,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,s,r,l){return new Tx(t,s,r,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,s){var r=t.alternate;return r===null?(r=vn(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Og(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function tu(t,s,r,l,d,f){var b=0;if(l=t,typeof t=="function")Ah(t)&&(b=1);else if(typeof t=="string")b=Nw(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=vn(31,r,s,d),t.elementType=N,t.lanes=f,t;case J:return Ua(r.children,d,f,s);case Z:b=8,d|=24;break;case te:return t=vn(12,r,s,d|2),t.elementType=te,t.lanes=f,t;case fe:return t=vn(13,r,s,d),t.elementType=fe,t.lanes=f,t;case de:return t=vn(19,r,s,d),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:b=10;break e;case re:b=9;break e;case Ee:b=11;break e;case R:b=14;break e;case I:b=16,l=null;break e}b=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return s=vn(b,r,s,d),s.elementType=t,s.type=l,s.lanes=f,s}function Ua(t,s,r,l){return t=vn(7,t,l,s),t.lanes=r,t}function Nh(t,s,r){return t=vn(6,t,null,s),t.lanes=r,t}function jg(t){var s=vn(18,null,null,0);return s.stateNode=t,s}function Ih(t,s,r){return s=vn(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Vg=new WeakMap;function On(t,s){if(typeof t=="object"&&t!==null){var r=Vg.get(t);return r!==void 0?r:(s={value:t,source:s,stack:Oo(s)},Vg.set(t,s),s)}return{value:t,source:s,stack:Oo(s)}}var Vr=[],Pr=0,nu=null,sl=0,jn=[],Vn=0,Is=null,Ni=1,Ii="";function Yi(t,s){Vr[Pr++]=sl,Vr[Pr++]=nu,nu=t,sl=s}function Pg(t,s,r){jn[Vn++]=Ni,jn[Vn++]=Ii,jn[Vn++]=Is,Is=t;var l=Ni;t=Ii;var d=32-pt(l)-1;l&=~(1<<d),r+=1;var f=32-pt(s)+d;if(30<f){var b=d-d%5;f=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Ni=1<<32-pt(s)+d|r<<d|l,Ii=f+t}else Ni=1<<f|r<<d|l,Ii=t}function Rh(t){t.return!==null&&(Yi(t,1),Pg(t,1,0))}function Ch(t){for(;t===nu;)nu=Vr[--Pr],Vr[Pr]=null,sl=Vr[--Pr],Vr[Pr]=null;for(;t===Is;)Is=jn[--Vn],jn[Vn]=null,Ii=jn[--Vn],jn[Vn]=null,Ni=jn[--Vn],jn[Vn]=null}function Lg(t,s){jn[Vn++]=Ni,jn[Vn++]=Ii,jn[Vn++]=Is,Ni=s.id,Ii=s.overflow,Is=t}var Gt=null,rt=null,ze=!1,Rs=null,Pn=!1,Dh=Error(a(519));function Cs(t){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(On(s,t)),Dh}function Ug(t){var s=t.stateNode,r=t.type,l=t.memoizedProps;switch(s[Tt]=t,s[Pt]=l,r){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(r=0;r<Nl.length;r++)Oe(Nl[r],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),jc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Es(s,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||l.suppressHydrationWarning===!0||n_(s.textContent,r)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Kn),s=!0):s=!1,s||Cs(t,!0)}function Hg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Gt=Gt.return}}function Lr(t){if(t!==Gt)return!1;if(!ze)return Hg(t),ze=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Xf(t.type,t.memoizedProps)),r=!r),r&&rt&&Cs(t),Hg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=d_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=d_(t)}else s===27?(s=rt,$s(t.type)?(t=tm,tm=null,rt=t):rt=s):rt=Gt?Un(t.stateNode.nextSibling):null;return!0}function Ha(){rt=Gt=null,ze=!1}function Mh(){var t=Rs;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Rs=null),t}function al(t){Rs===null?Rs=[t]:Rs.push(t)}var kh=j(null),za=null,Qi=null;function Ds(t,s,r){se(kh,s._currentValue),s._currentValue=r}function Ki(t){t._currentValue=kh.current,Y(kh)}function Oh(t,s,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===r)break;t=t.return}}function jh(t,s,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var b=d.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=d;for(var M=0;M<s.length;M++)if(x.context===s[M]){f.lanes|=r,x=f.alternate,x!==null&&(x.lanes|=r),Oh(f.return,r,t),l||(b=null);break e}f=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(a(341));b.lanes|=r,f=b.alternate,f!==null&&(f.lanes|=r),Oh(b,r,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ur(t,s,r,l){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var x=d.type;bn(d.pendingProps.value,b.value)||(t!==null?t.push(x):t=[x])}}else if(d===Be.current){if(b=d.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}d=d.return}t!==null&&jh(s,t,r,l),s.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){za=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return zg(za,t)}function su(t,s){return za===null&&Ba(t),zg(t,s)}function zg(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Qi===null){if(t===null)throw Error(a(308));Qi=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Qi=Qi.next=s;return r}var xx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},wx=i.unstable_scheduleCallback,Sx=i.unstable_NormalPriority,St={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new xx,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&wx(Sx,function(){t.controller.abort()})}var ol=null,Ph=0,Hr=0,zr=null;function Ax(t,s){if(ol===null){var r=ol=[];Ph=0,Hr=zf(),zr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ph++,s.then(Bg,Bg),s}function Bg(){if(--Ph===0&&ol!==null){zr!==null&&(zr.status="fulfilled");var t=ol;ol=null,Hr=0,zr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Nx(t,s){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var qg=F.S;F.S=function(t,s){A0=an(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ax(t,s),qg!==null&&qg(t,s)};var qa=j(null);function Lh(){var t=qa.current;return t!==null?t:st.pooledCache}function au(t,s){s===null?se(qa,qa.current):se(qa,s.pool)}function $g(){var t=Lh();return t===null?null:{parent:St._currentValue,pool:t}}var Br=Error(a(460)),Uh=Error(a(474)),ru=Error(a(542)),ou={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Kn,Kn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Qg(t),t;default:if(typeof s.status=="string")s.then(Kn,Kn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Qg(t),t}throw Fa=s,Br}}function $a(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fa=r,Br):r}}var Fa=null;function Yg(){if(Fa===null)throw Error(a(459));var t=Fa;return Fa=null,t}function Qg(t){if(t===Br||t===ru)throw Error(a(483))}var qr=null,ll=0;function lu(t){var s=ll;return ll+=1,qr===null&&(qr=[]),Gg(qr,t,s)}function cl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function cu(t,s){throw s.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Kg(t){function s(V,O){if(t){var U=V.deletions;U===null?(V.deletions=[O],V.flags|=16):U.push(O)}}function r(V,O){if(!t)return null;for(;O!==null;)s(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function d(V,O){return V=Gi(V,O),V.index=0,V.sibling=null,V}function f(V,O,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<O?(V.flags|=67108866,O):U):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function b(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function x(V,O,U,Q){return O===null||O.tag!==6?(O=Nh(U,V.mode,Q),O.return=V,O):(O=d(O,U),O.return=V,O)}function M(V,O,U,Q){var ge=U.type;return ge===J?G(V,O,U.props.children,Q,U.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&$a(ge)===O.type)?(O=d(O,U.props),cl(O,U),O.return=V,O):(O=tu(U.type,U.key,U.props,null,V.mode,Q),cl(O,U),O.return=V,O)}function H(V,O,U,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Ih(U,V.mode,Q),O.return=V,O):(O=d(O,U.children||[]),O.return=V,O)}function G(V,O,U,Q,ge){return O===null||O.tag!==7?(O=Ua(U,V.mode,Q,ge),O.return=V,O):(O=d(O,U),O.return=V,O)}function W(V,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Nh(""+O,V.mode,U),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return U=tu(O.type,O.key,O.props,null,V.mode,U),cl(U,O),U.return=V,U;case X:return O=Ih(O,V.mode,U),O.return=V,O;case I:return O=$a(O),W(V,O,U)}if(Te(O)||k(O))return O=Ua(O,V.mode,U,null),O.return=V,O;if(typeof O.then=="function")return W(V,lu(O),U);if(O.$$typeof===ce)return W(V,su(V,O),U);cu(V,O)}return null}function B(V,O,U,Q){var ge=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:x(V,O,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===ge?M(V,O,U,Q):null;case X:return U.key===ge?H(V,O,U,Q):null;case I:return U=$a(U),B(V,O,U,Q)}if(Te(U)||k(U))return ge!==null?null:G(V,O,U,Q,null);if(typeof U.then=="function")return B(V,O,lu(U),Q);if(U.$$typeof===ce)return B(V,O,su(V,U),Q);cu(V,U)}return null}function $(V,O,U,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,x(O,V,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return V=V.get(Q.key===null?U:Q.key)||null,M(O,V,Q,ge);case X:return V=V.get(Q.key===null?U:Q.key)||null,H(O,V,Q,ge);case I:return Q=$a(Q),$(V,O,U,Q,ge)}if(Te(Q)||k(Q))return V=V.get(U)||null,G(O,V,Q,ge,null);if(typeof Q.then=="function")return $(V,O,U,lu(Q),ge);if(Q.$$typeof===ce)return $(V,O,U,su(O,Q),ge);cu(O,Q)}return null}function ue(V,O,U,Q){for(var ge=null,Fe=null,me=O,De=O=0,Pe=null;me!==null&&De<U.length;De++){me.index>De?(Pe=me,me=null):Pe=me.sibling;var Ge=B(V,me,U[De],Q);if(Ge===null){me===null&&(me=Pe);break}t&&me&&Ge.alternate===null&&s(V,me),O=f(Ge,O,De),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge,me=Pe}if(De===U.length)return r(V,me),ze&&Yi(V,De),ge;if(me===null){for(;De<U.length;De++)me=W(V,U[De],Q),me!==null&&(O=f(me,O,De),Fe===null?ge=me:Fe.sibling=me,Fe=me);return ze&&Yi(V,De),ge}for(me=l(me);De<U.length;De++)Pe=$(me,V,De,U[De],Q),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?De:Pe.key),O=f(Pe,O,De),Fe===null?ge=Pe:Fe.sibling=Pe,Fe=Pe);return t&&me.forEach(function(Ks){return s(V,Ks)}),ze&&Yi(V,De),ge}function _e(V,O,U,Q){if(U==null)throw Error(a(151));for(var ge=null,Fe=null,me=O,De=O=0,Pe=null,Ge=U.next();me!==null&&!Ge.done;De++,Ge=U.next()){me.index>De?(Pe=me,me=null):Pe=me.sibling;var Ks=B(V,me,Ge.value,Q);if(Ks===null){me===null&&(me=Pe);break}t&&me&&Ks.alternate===null&&s(V,me),O=f(Ks,O,De),Fe===null?ge=Ks:Fe.sibling=Ks,Fe=Ks,me=Pe}if(Ge.done)return r(V,me),ze&&Yi(V,De),ge;if(me===null){for(;!Ge.done;De++,Ge=U.next())Ge=W(V,Ge.value,Q),Ge!==null&&(O=f(Ge,O,De),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Yi(V,De),ge}for(me=l(me);!Ge.done;De++,Ge=U.next())Ge=$(me,V,De,Ge.value,Q),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?De:Ge.key),O=f(Ge,O,De),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(Lw){return s(V,Lw)}),ze&&Yi(V,De),ge}function it(V,O,U,Q){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var ge=U.key;O!==null;){if(O.key===ge){if(ge=U.type,ge===J){if(O.tag===7){r(V,O.sibling),Q=d(O,U.props.children),Q.return=V,V=Q;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&$a(ge)===O.type){r(V,O.sibling),Q=d(O,U.props),cl(Q,U),Q.return=V,V=Q;break e}r(V,O);break}else s(V,O);O=O.sibling}U.type===J?(Q=Ua(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=tu(U.type,U.key,U.props,null,V.mode,Q),cl(Q,U),Q.return=V,V=Q)}return b(V);case X:e:{for(ge=U.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){r(V,O.sibling),Q=d(O,U.children||[]),Q.return=V,V=Q;break e}else{r(V,O);break}else s(V,O);O=O.sibling}Q=Ih(U,V.mode,Q),Q.return=V,V=Q}return b(V);case I:return U=$a(U),it(V,O,U,Q)}if(Te(U))return ue(V,O,U,Q);if(k(U)){if(ge=k(U),typeof ge!="function")throw Error(a(150));return U=ge.call(U),_e(V,O,U,Q)}if(typeof U.then=="function")return it(V,O,lu(U),Q);if(U.$$typeof===ce)return it(V,O,su(V,U),Q);cu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(r(V,O.sibling),Q=d(O,U),Q.return=V,V=Q):(r(V,O),Q=Nh(U,V.mode,Q),Q.return=V,V=Q),b(V)):r(V,O)}return function(V,O,U,Q){try{ll=0;var ge=it(V,O,U,Q);return qr=null,ge}catch(me){if(me===Br||me===ru)throw me;var Fe=vn(29,me,null,V.mode);return Fe.lanes=Q,Fe.return=V,Fe}finally{}}}var Ga=Kg(!0),Xg=Kg(!1),Ms=!1;function Hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,s,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=eu(t),kg(t,null,r),s}return Zc(t,l,s,r),eu(t)}function ul(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Po(t,r)}}function Bh(t,s){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=b:f=f.next=b,r=r.next}while(r!==null);f===null?d=f=s:f=f.next=s}else d=f=s;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var qh=!1;function dl(){if(qh){var t=zr;if(t!==null)throw t}}function hl(t,s,r,l){qh=!1;var d=t.updateQueue;Ms=!1;var f=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var M=x,H=M.next;M.next=null,b===null?f=H:b.next=H,b=M;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==b&&(x===null?G.firstBaseUpdate=H:x.next=H,G.lastBaseUpdate=M))}if(f!==null){var W=d.baseState;b=0,G=H=M=null,x=f;do{var B=x.lane&-536870913,$=B!==x.lane;if($?(Ve&B)===B:(l&B)===B){B!==0&&B===Hr&&(qh=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ue=t,_e=x;B=s;var it=r;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){W=ue.call(it,W,B);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,B=typeof ue=="function"?ue.call(it,W,B):ue,B==null)break e;W=E({},W,B);break e;case 2:Ms=!0}}B=x.callback,B!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[B]:$.push(B))}else $={lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(H=G=$,M=W):G=G.next=$,b|=B;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;$=x,x=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);G===null&&(M=W),d.baseState=M,d.firstBaseUpdate=H,d.lastBaseUpdate=G,f===null&&(d.shared.lanes=0),Us|=b,t.lanes=b,t.memoizedState=W}}function Wg(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function Jg(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wg(r[t],s)}var $r=j(null),uu=j(0);function Zg(t,s){t=ss,se(uu,t),se($r,s),ss=t|s.baseLanes}function $h(){se(uu,ss),se($r,$r.current)}function Fh(){ss=uu.current,Y($r),Y(uu)}var En=j(null),Ln=null;function js(t){var s=t.alternate;se(yt,yt.current&1),se(En,t),Ln===null&&(s===null||$r.current!==null||s.memoizedState!==null)&&(Ln=t)}function Gh(t){se(yt,yt.current),se(En,t),Ln===null&&(Ln=t)}function ey(t){t.tag===22?(se(yt,yt.current),se(En,t),Ln===null&&(Ln=t)):Vs()}function Vs(){se(yt,yt.current),se(En,En.current)}function Tn(t){Y(En),Ln===t&&(Ln=null),Y(yt)}var yt=j(0);function du(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Zf(r)||em(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xi=0,Re=null,tt=null,At=null,hu=!1,Fr=!1,Ya=!1,fu=0,fl=0,Gr=null,Ix=0;function ft(){throw Error(a(321))}function Yh(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!bn(t[r],s[r]))return!1;return!0}function Qh(t,s,r,l,d,f){return Xi=f,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?Py:uf,Ya=!1,f=r(l,d),Ya=!1,Fr&&(f=ny(s,r,l,d)),ty(t),f}function ty(t){F.H=gl;var s=tt!==null&&tt.next!==null;if(Xi=0,At=tt=Re=null,hu=!1,fl=0,Gr=null,s)throw Error(a(300));t===null||Nt||(t=t.dependencies,t!==null&&iu(t)&&(Nt=!0))}function ny(t,s,r,l){Re=t;var d=0;do{if(Fr&&(Gr=null),fl=0,Fr=!1,25<=d)throw Error(a(301));if(d+=1,At=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ly,f=s(r,l)}while(Fr);return f}function Rx(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?ml(s):s,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Re.flags|=1024),s}function Kh(){var t=fu!==0;return fu=0,t}function Xh(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Wh(t){if(hu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}hu=!1}Xi=0,At=tt=Re=null,Fr=!1,fl=fu=0,Gr=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function _t(){if(tt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var s=At===null?Re.memoizedState:At.next;if(s!==null)At=s,tt=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var s=fl;return fl+=1,Gr===null&&(Gr=[]),t=Gg(Gr,t,s),s=Re,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?Py:uf),t}function pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ce)return Yt(t)}throw Error(a(438,String(t)))}function Jh(t){var s=null,r=Re.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=mu(),Re.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),l=0;l<t;l++)r[l]=D;return s.index++,r}function Wi(t,s){return typeof s=="function"?s(t):s}function gu(t){var s=_t();return Zh(s,tt,t)}function Zh(t,s,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var b=d.next;d.next=f.next,f.next=b}s.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var x=b=null,M=null,H=s,G=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Ve&W)===W:(Xi&W)===W){var B=H.revertLane;if(B===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===Hr&&(G=!0);else if((Xi&B)===B){H=H.next,B===Hr&&(G=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=W,b=f):M=M.next=W,Re.lanes|=B,Us|=B;W=H.action,Ya&&r(f,W),f=H.hasEagerState?H.eagerState:r(f,W)}else B={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=B,b=f):M=M.next=B,Re.lanes|=W,Us|=W;H=H.next}while(H!==null&&H!==s);if(M===null?b=f:M.next=x,!bn(f,t.memoizedState)&&(Nt=!0,G&&(r=zr,r!==null)))throw r;t.memoizedState=f,t.baseState=b,t.baseQueue=M,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var s=_t(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,f=s.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do f=t(f,b.action),b=b.next;while(b!==d);bn(f,s.memoizedState)||(Nt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),r.lastRenderedState=f}return[f,l]}function iy(t,s,r){var l=Re,d=_t(),f=ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=s();var b=!bn((tt||d).memoizedState,r);if(b&&(d.memoizedState=r,Nt=!0),d=d.queue,sf(ry.bind(null,l,d,t),[t]),d.getSnapshot!==s||b||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Yr(9,{destroy:void 0},ay.bind(null,l,d,r,s),null),st===null)throw Error(a(349));f||(Xi&127)!==0||sy(l,s,r)}return r}function sy(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Re.updateQueue,s===null?(s=mu(),Re.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function ay(t,s,r,l){s.value=r,s.getSnapshot=l,oy(s)&&ly(t)}function ry(t,s,r){return r(function(){oy(s)&&ly(t)})}function oy(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!bn(t,r)}catch{return!0}}function ly(t){var s=La(t,2);s!==null&&pn(s,t,2)}function tf(t){var s=on();if(typeof t=="function"){var r=t;if(t=r(),Ya){In(!0);try{r()}finally{In(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},s}function cy(t,s,r,l){return t.baseState=r,Zh(t,tt,typeof l=="function"?l:Wi)}function Cx(t,s,r,l,d){if(bu(t))throw Error(a(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=s.pending,r===null?(f.next=s.pending=f,uy(s,f)):(f.next=r.next,s.pending=r.next=f)}}function uy(t,s){var r=s.action,l=s.payload,d=t.state;if(s.isTransition){var f=F.T,b={};F.T=b;try{var x=r(d,l),M=F.S;M!==null&&M(b,x),dy(t,s,x)}catch(H){nf(t,s,H)}finally{f!==null&&b.types!==null&&(f.types=b.types),F.T=f}}else try{f=r(d,l),dy(t,s,f)}catch(H){nf(t,s,H)}}function dy(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){hy(t,s,l)},function(l){return nf(t,s,l)}):hy(t,s,r)}function hy(t,s,r){s.status="fulfilled",s.value=r,fy(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,uy(t,r)))}function nf(t,s,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=r,fy(s),s=s.next;while(s!==l)}t.action=null}function fy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function my(t,s){return s}function py(t,s){if(ze){var r=st.formState;if(r!==null){e:{var l=Re;if(ze){if(rt){t:{for(var d=rt,f=Pn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Un(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){rt=Un(d.nextSibling),l=d.data==="F!";break e}}Cs(l)}l=!1}l&&(s=r[0])}}return r=on(),r.memoizedState=r.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:s},r.queue=l,r=Oy.bind(null,Re,l),l.dispatch=r,l=tf(!1),f=cf.bind(null,Re,!1,l.queue),l=on(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,r=Cx.bind(null,Re,d,f,r),d.dispatch=r,l.memoizedState=t,[s,r,!1]}function gy(t){var s=_t();return yy(s,tt,t)}function yy(t,s,r){if(s=Zh(t,s,my)[0],t=gu(Wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ml(s)}catch(b){throw b===Br?ru:b}else l=s;s=_t();var d=s.queue,f=d.dispatch;return r!==s.memoizedState&&(Re.flags|=2048,Yr(9,{destroy:void 0},Dx.bind(null,d,r),null)),[l,f,t]}function Dx(t,s){t.action=s}function _y(t){var s=_t(),r=tt;if(r!==null)return yy(s,r,t);_t(),s=s.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[s,l,!1]}function Yr(t,s,r,l){return t={tag:t,create:r,deps:l,inst:s,next:null},s=Re.updateQueue,s===null&&(s=mu(),Re.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,s.lastEffect=t),t}function by(){return _t().memoizedState}function yu(t,s,r,l){var d=on();Re.flags|=t,d.memoizedState=Yr(1|s,{destroy:void 0},r,l===void 0?null:l)}function _u(t,s,r,l){var d=_t();l=l===void 0?null:l;var f=d.memoizedState.inst;tt!==null&&l!==null&&Yh(l,tt.memoizedState.deps)?d.memoizedState=Yr(s,f,r,l):(Re.flags|=t,d.memoizedState=Yr(1|s,f,r,l))}function vy(t,s){yu(8390656,8,t,s)}function sf(t,s){_u(2048,8,t,s)}function Mx(t){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=mu(),Re.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Ey(t){var s=_t().memoizedState;return Mx({ref:s,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Ty(t,s){return _u(4,2,t,s)}function xy(t,s){return _u(4,4,t,s)}function wy(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Sy(t,s,r){r=r!=null?r.concat([t]):null,_u(4,4,wy.bind(null,s,t),r)}function af(){}function Ay(t,s){var r=_t();s=s===void 0?null:s;var l=r.memoizedState;return s!==null&&Yh(s,l[1])?l[0]:(r.memoizedState=[t,s],t)}function Ny(t,s){var r=_t();s=s===void 0?null:s;var l=r.memoizedState;if(s!==null&&Yh(s,l[1]))return l[0];if(l=t(),Ya){In(!0);try{t()}finally{In(!1)}}return r.memoizedState=[l,s],l}function rf(t,s,r){return r===void 0||(Xi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=I0(),Re.lanes|=t,Us|=t,r)}function Iy(t,s,r,l){return bn(r,s)?r:$r.current!==null?(t=rf(t,r,l),bn(t,s)||(Nt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Ve&261930)===0?(Nt=!0,t.memoizedState=r):(t=I0(),Re.lanes|=t,Us|=t,s)}function Ry(t,s,r,l,d){var f=ie.p;ie.p=f!==0&&8>f?f:8;var b=F.T,x={};F.T=x,cf(t,!1,s,r);try{var M=d(),H=F.S;if(H!==null&&H(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=Nx(M,l);pl(t,s,G,Sn(t))}else pl(t,s,l,Sn(t))}catch(W){pl(t,s,{then:function(){},status:"rejected",reason:W},Sn())}finally{ie.p=f,b!==null&&x.types!==null&&(b.types=x.types),F.T=b}}function kx(){}function of(t,s,r,l){if(t.tag!==5)throw Error(a(476));var d=Cy(t).queue;Ry(t,d,s,pe,r===null?kx:function(){return Dy(t),r(l)})}function Cy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:pe},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Dy(t){var s=Cy(t);s.next===null&&(s=t.alternate.memoizedState),pl(t,s.next.queue,{},Sn())}function lf(){return Yt(Ml)}function My(){return _t().memoizedState}function ky(){return _t().memoizedState}function Ox(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=Sn();t=ks(r);var l=Os(s,t,r);l!==null&&(pn(l,s,r),ul(l,s,r)),s={cache:Vh()},t.payload=s;return}s=s.return}}function jx(t,s,r){var l=Sn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bu(t)?jy(s,r):(r=Sh(t,s,r,l),r!==null&&(pn(r,t,l),Vy(r,s,l)))}function Oy(t,s,r){var l=Sn();pl(t,s,r,l)}function pl(t,s,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(bu(t))jy(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var b=s.lastRenderedState,x=f(b,r);if(d.hasEagerState=!0,d.eagerState=x,bn(x,b))return Zc(t,s,d,0),st===null&&Jc(),!1}catch{}finally{}if(r=Sh(t,s,d,l),r!==null)return pn(r,t,l),Vy(r,s,l),!0}return!1}function cf(t,s,r,l){if(l={lane:2,revertLane:zf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bu(t)){if(s)throw Error(a(479))}else s=Sh(t,r,l,2),s!==null&&pn(s,t,2)}function bu(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function jy(t,s){Fr=hu=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Vy(t,s,r){if((r&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Po(t,r)}}var gl={readContext:Yt,use:pu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};gl.useEffectEvent=ft;var Py={readContext:Yt,use:pu,useCallback:function(t,s){return on().memoizedState=[t,s===void 0?null:s],t},useContext:Yt,useEffect:vy,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,yu(4194308,4,wy.bind(null,s,t),r)},useLayoutEffect:function(t,s){return yu(4194308,4,t,s)},useInsertionEffect:function(t,s){yu(4,2,t,s)},useMemo:function(t,s){var r=on();s=s===void 0?null:s;var l=t();if(Ya){In(!0);try{t()}finally{In(!1)}}return r.memoizedState=[l,s],l},useReducer:function(t,s,r){var l=on();if(r!==void 0){var d=r(s);if(Ya){In(!0);try{r(s)}finally{In(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=jx.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var s=on();return t={current:t},s.memoizedState=t},useState:function(t){t=tf(t);var s=t.queue,r=Oy.bind(null,Re,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:af,useDeferredValue:function(t,s){var r=on();return rf(r,t,s)},useTransition:function(){var t=tf(!1);return t=Ry.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var l=Re,d=on();if(ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),st===null)throw Error(a(349));(Ve&127)!==0||sy(l,s,r)}d.memoizedState=r;var f={value:r,getSnapshot:s};return d.queue=f,vy(ry.bind(null,l,f,t),[t]),l.flags|=2048,Yr(9,{destroy:void 0},ay.bind(null,l,f,r,s),null),r},useId:function(){var t=on(),s=st.identifierPrefix;if(ze){var r=Ii,l=Ni;r=(l&~(1<<32-pt(l)-1)).toString(32)+r,s="_"+s+"R_"+r,r=fu++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=Ix++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:lf,useFormState:py,useActionState:py,useOptimistic:function(t){var s=on();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=cf.bind(null,Re,!0,r),r.dispatch=s,[t,s]},useMemoCache:Jh,useCacheRefresh:function(){return on().memoizedState=Ox.bind(null,Re)},useEffectEvent:function(t){var s=on(),r={impl:t};return s.memoizedState=r,function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},uf={readContext:Yt,use:pu,useCallback:Ay,useContext:Yt,useEffect:sf,useImperativeHandle:Sy,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Ny,useReducer:gu,useRef:by,useState:function(){return gu(Wi)},useDebugValue:af,useDeferredValue:function(t,s){var r=_t();return Iy(r,tt.memoizedState,t,s)},useTransition:function(){var t=gu(Wi)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:ml(t),s]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:lf,useFormState:gy,useActionState:gy,useOptimistic:function(t,s){var r=_t();return cy(r,tt,t,s)},useMemoCache:Jh,useCacheRefresh:ky};uf.useEffectEvent=Ey;var Ly={readContext:Yt,use:pu,useCallback:Ay,useContext:Yt,useEffect:sf,useImperativeHandle:Sy,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Ny,useReducer:ef,useRef:by,useState:function(){return ef(Wi)},useDebugValue:af,useDeferredValue:function(t,s){var r=_t();return tt===null?rf(r,t,s):Iy(r,tt.memoizedState,t,s)},useTransition:function(){var t=ef(Wi)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:ml(t),s]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:lf,useFormState:_y,useActionState:_y,useOptimistic:function(t,s){var r=_t();return tt!==null?cy(r,tt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:ky};Ly.useEffectEvent=Ey;function df(t,s,r,l){s=t.memoizedState,r=r(l,s),r=r==null?s:E({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hf={enqueueSetState:function(t,s,r){t=t._reactInternals;var l=Sn(),d=ks(l);d.payload=s,r!=null&&(d.callback=r),s=Os(t,d,l),s!==null&&(pn(s,t,l),ul(s,t,l))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var l=Sn(),d=ks(l);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=Os(t,d,l),s!==null&&(pn(s,t,l),ul(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Sn(),l=ks(r);l.tag=2,s!=null&&(l.callback=s),s=Os(t,l,r),s!==null&&(pn(s,t,r),ul(s,t,r))}};function Uy(t,s,r,l,d,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):s.prototype&&s.prototype.isPureReactComponent?!nl(r,l)||!nl(d,f):!0}function Hy(t,s,r,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,l),s.state!==t&&hf.enqueueReplaceState(s,s.state,null)}function Qa(t,s){var r=s;if("ref"in s){r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}if(t=t.defaultProps){r===s&&(r=E({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function zy(t){Wc(t)}function By(t){console.error(t)}function qy(t){Wc(t)}function vu(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function $y(t,s,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ff(t,s,r){return r=ks(r),r.tag=3,r.payload={element:null},r.callback=function(){vu(t,s)},r}function Fy(t){return t=ks(t),t.tag=3,t}function Gy(t,s,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){$y(s,r,l)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){$y(s,r,l),typeof d!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Vx(t,s,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=r.alternate,s!==null&&Ur(s,r,d,!0),r=En.current,r!==null){switch(r.tag){case 31:case 13:return Ln===null?Mu():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===ou?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([l]):s.add(l),Lf(t,l,d)),!1;case 22:return r.flags|=65536,l===ou?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([l]):r.add(l)),Lf(t,l,d)),!1}throw Error(a(435,r.tag))}return Lf(t,l,d),Mu(),!1}if(ze)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Dh&&(t=Error(a(422),{cause:l}),al(On(t,r)))):(l!==Dh&&(s=Error(a(423),{cause:l}),al(On(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=On(l,r),d=ff(t.stateNode,l,d),Bh(t,d),mt!==4&&(mt=2)),!1;var f=Error(a(520),{cause:l});if(f=On(f,r),wl===null?wl=[f]:wl.push(f),mt!==4&&(mt=2),s===null)return!0;l=On(l,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=ff(r.stateNode,l,t),Bh(r,t),!1;case 1:if(s=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Fy(d),Gy(d,t,r,l),Bh(r,d),!1}r=r.return}while(r!==null);return!1}var mf=Error(a(461)),Nt=!1;function Qt(t,s,r,l){s.child=t===null?Xg(s,null,r,l):Ga(s,t.child,r,l)}function Yy(t,s,r,l,d){r=r.render;var f=s.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return Ba(s),l=Qh(t,s,r,b,f,d),x=Kh(),t!==null&&!Nt?(Xh(t,s,d),Ji(t,s,d)):(ze&&x&&Rh(s),s.flags|=1,Qt(t,s,l,d),s.child)}function Qy(t,s,r,l,d){if(t===null){var f=r.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=f,Ky(t,s,f,l,d)):(t=tu(r.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!Tf(t,d)){var b=f.memoizedProps;if(r=r.compare,r=r!==null?r:nl,r(b,l)&&t.ref===s.ref)return Ji(t,s,d)}return s.flags|=1,t=Gi(f,l),t.ref=s.ref,t.return=s,s.child=t}function Ky(t,s,r,l,d){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===s.ref)if(Nt=!1,s.pendingProps=l=f,Tf(t,d))(t.flags&131072)!==0&&(Nt=!0);else return s.lanes=t.lanes,Ji(t,s,d)}return pf(t,s,r,l,d)}function Xy(t,s,r,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=s.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,s.child=null;return Wy(t,s,f,r,l)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(s,f!==null?f.cachePool:null),f!==null?Zg(s,f):$h(),ey(s);else return l=s.lanes=536870912,Wy(t,s,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(au(s,f.cachePool),Zg(s,f),Vs(),s.memoizedState=null):(t!==null&&au(s,null),$h(),Vs());return Qt(t,s,d,r),s.child}function yl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Wy(t,s,r,l,d){var f=Lh();return f=f===null?null:{parent:St._currentValue,pool:f},s.memoizedState={baseLanes:r,cachePool:f},t!==null&&au(s,null),$h(),ey(s),t!==null&&Ur(t,s,l,!0),s.childLanes=d,null}function Eu(t,s){return s=xu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Jy(t,s,r){return Ga(s,t.child,null,r),t=Eu(s,s.pendingProps),t.flags|=2,Tn(s),s.memoizedState=null,t}function Px(t,s,r){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Eu(s,l),s.lanes=536870912,yl(null,t);if(Gh(s),(t=rt)?(t=u_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=jg(t),r.return=s,s.child=r,Gt=s,rt=null)):t=null,t===null)throw Cs(s);return s.lanes=536870912,null}return Eu(s,l)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(Gh(s),d)if(s.flags&256)s.flags&=-257,s=Jy(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(a(558));else if(Nt||Ur(t,s,r,!1),d=(r&t.childLanes)!==0,Nt||d){if(l=st,l!==null&&(b=Lo(l,r),b!==0&&b!==f.retryLane))throw f.retryLane=b,La(t,b),pn(l,t,b),mf;Mu(),s=Jy(t,s,r)}else t=f.treeContext,rt=Un(b.nextSibling),Gt=s,ze=!0,Rs=null,Pn=!1,t!==null&&Lg(s,t),s=Eu(s,l),s.flags|=4096;return s}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Tu(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function pf(t,s,r,l,d){return Ba(s),r=Qh(t,s,r,l,void 0,d),l=Kh(),t!==null&&!Nt?(Xh(t,s,d),Ji(t,s,d)):(ze&&l&&Rh(s),s.flags|=1,Qt(t,s,r,d),s.child)}function Zy(t,s,r,l,d,f){return Ba(s),s.updateQueue=null,r=ny(s,l,r,d),ty(t),l=Kh(),t!==null&&!Nt?(Xh(t,s,f),Ji(t,s,f)):(ze&&l&&Rh(s),s.flags|=1,Qt(t,s,r,f),s.child)}function e0(t,s,r,l,d){if(Ba(s),s.stateNode===null){var f=jr,b=r.contextType;typeof b=="object"&&b!==null&&(f=Yt(b)),f=new r(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hf,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Hh(s),b=r.contextType,f.context=typeof b=="object"&&b!==null?Yt(b):jr,f.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(df(s,r,b,l),f.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&hf.enqueueReplaceState(f,f.state,null),hl(s,l,f,d),dl(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var x=s.memoizedProps,M=Qa(r,x);f.props=M;var H=f.context,G=r.contextType;b=jr,typeof G=="object"&&G!==null&&(b=Yt(G));var W=r.getDerivedStateFromProps;G=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||H!==b)&&Hy(s,f,l,b),Ms=!1;var B=s.memoizedState;f.state=B,hl(s,l,f,d),dl(),H=s.memoizedState,x||B!==H||Ms?(typeof W=="function"&&(df(s,r,W,l),H=s.memoizedState),(M=Ms||Uy(s,r,M,l,B,H,b))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),f.props=l,f.state=H,f.context=b,l=M):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,zh(t,s),b=s.memoizedProps,G=Qa(r,b),f.props=G,W=s.pendingProps,B=f.context,H=r.contextType,M=jr,typeof H=="object"&&H!==null&&(M=Yt(H)),x=r.getDerivedStateFromProps,(H=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==W||B!==M)&&Hy(s,f,l,M),Ms=!1,B=s.memoizedState,f.state=B,hl(s,l,f,d),dl();var $=s.memoizedState;b!==W||B!==$||Ms||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof x=="function"&&(df(s,r,x,l),$=s.memoizedState),(G=Ms||Uy(s,r,G,l,B,$,M)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,M)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=$),f.props=l,f.state=$,f.context=M,l=G):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,Tu(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Ga(s,t.child,null,d),s.child=Ga(s,null,r,d)):Qt(t,s,r,d),s.memoizedState=f.state,t=s.child):t=Ji(t,s,d),t}function t0(t,s,r,l){return Ha(),s.flags|=256,Qt(t,s,r,l),s.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:$g()}}function _f(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=wn),t}function n0(t,s,r){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(ze){if(d?js(s):Vs(),(t=rt)?(t=u_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=jg(t),r.return=s,s.child=r,Gt=s,rt=null)):t=null,t===null)throw Cs(s);return em(t)?s.lanes=32:s.lanes=536870912,null}var x=l.children;return l=l.fallback,d?(Vs(),d=s.mode,x=xu({mode:"hidden",children:x},d),l=Ua(l,d,r,null),x.return=s,l.return=s,x.sibling=l,s.child=x,l=s.child,l.memoizedState=yf(r),l.childLanes=_f(t,b,r),s.memoizedState=gf,yl(null,l)):(js(s),bf(s,x))}var M=t.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(f)s.flags&256?(js(s),s.flags&=-257,s=vf(t,s,r)):s.memoizedState!==null?(Vs(),s.child=t.child,s.flags|=128,s=null):(Vs(),x=l.fallback,d=s.mode,l=xu({mode:"visible",children:l.children},d),x=Ua(x,d,r,null),x.flags|=2,l.return=s,x.return=s,l.sibling=x,s.child=l,Ga(s,t.child,null,r),l=s.child,l.memoizedState=yf(r),l.childLanes=_f(t,b,r),s.memoizedState=gf,s=yl(null,l));else if(js(s),em(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(a(419)),l.stack="",l.digest=b,al({value:l,source:null,stack:null}),s=vf(t,s,r)}else if(Nt||Ur(t,s,r,!1),b=(r&t.childLanes)!==0,Nt||b){if(b=st,b!==null&&(l=Lo(b,r),l!==0&&l!==M.retryLane))throw M.retryLane=l,La(t,l),pn(b,t,l),mf;Zf(x)||Mu(),s=vf(t,s,r)}else Zf(x)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,rt=Un(x.nextSibling),Gt=s,ze=!0,Rs=null,Pn=!1,t!==null&&Lg(s,t),s=bf(s,l.children),s.flags|=4096);return s}return d?(Vs(),x=l.fallback,d=s.mode,M=t.child,H=M.sibling,l=Gi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?x=Gi(H,x):(x=Ua(x,d,r,null),x.flags|=2),x.return=s,l.return=s,l.sibling=x,s.child=l,yl(null,l),l=s.child,x=t.child.memoizedState,x===null?x=yf(r):(d=x.cachePool,d!==null?(M=St._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=$g(),x={baseLanes:x.baseLanes|r,cachePool:d}),l.memoizedState=x,l.childLanes=_f(t,b,r),s.memoizedState=gf,yl(t.child,l)):(js(s),r=t.child,t=r.sibling,r=Gi(r,{mode:"visible",children:l.children}),r.return=s,r.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=r,s.memoizedState=null,r)}function bf(t,s){return s=xu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function xu(t,s){return t=vn(22,t,null,s),t.lanes=0,t}function vf(t,s,r){return Ga(s,t.child,null,r),t=bf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function i0(t,s,r){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Oh(t.return,s,r)}function Ef(t,s,r,l,d,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:f}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=r,b.tailMode=d,b.treeForkCount=f)}function s0(t,s,r){var l=s.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var b=yt.current,x=(b&2)!==0;if(x?(b=b&1|2,s.flags|=128):b&=1,se(yt,b),Qt(t,s,l,r),l=ze?sl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i0(t,r,s);else if(t.tag===19)i0(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&du(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Ef(s,!1,d,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&du(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Ef(s,!0,r,null,f,l);break;case"together":Ef(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ji(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Us|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Ur(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,r=Gi(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Tf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function Lx(t,s,r){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),Ds(s,St,t.memoizedState.cache),Ha();break;case 27:case 5:va(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gh(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(js(s),s.flags|=128,null):(r&s.child.childLanes)!==0?n0(t,s,r):(js(s),t=Ji(t,s,r),t!==null?t.sibling:null);js(s);break;case 19:var d=(t.flags&128)!==0;if(l=(r&s.childLanes)!==0,l||(Ur(t,s,r,!1),l=(r&s.childLanes)!==0),d){if(l)return s0(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(yt,yt.current),l)break;return null;case 22:return s.lanes=0,Xy(t,s,r,s.pendingProps);case 24:Ds(s,St,t.memoizedState.cache)}return Ji(t,s,r)}function a0(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)Nt=!0;else{if(!Tf(t,r)&&(s.flags&128)===0)return Nt=!1,Lx(t,s,r);Nt=(t.flags&131072)!==0}else Nt=!1,ze&&(s.flags&1048576)!==0&&Pg(s,sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=$a(s.elementType),s.type=t,typeof t=="function")Ah(t)?(l=Qa(t,l),s.tag=1,s=e0(null,s,t,l,r)):(s.tag=0,s=pf(null,s,t,l,r));else{if(t!=null){var d=t.$$typeof;if(d===Ee){s.tag=11,s=Yy(null,s,t,l,r);break e}else if(d===R){s.tag=14,s=Qy(null,s,t,l,r);break e}}throw s=he(t)||t,Error(a(306,s,""))}}return s;case 0:return pf(t,s,s.type,s.pendingProps,r);case 1:return l=s.type,d=Qa(l,s.pendingProps),e0(t,s,l,d,r);case 3:e:{if(kt(s,s.stateNode.containerInfo),t===null)throw Error(a(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,zh(t,s),hl(s,l,null,r);var b=s.memoizedState;if(l=b.cache,Ds(s,St,l),l!==f.cache&&jh(s,[St],r,!0),dl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=t0(t,s,l,r);break e}else if(l!==d){d=On(Error(a(424)),s),al(d),s=t0(t,s,l,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Un(t.firstChild),Gt=s,ze=!0,Rs=null,Pn=!0,r=Xg(s,null,l,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ha(),l===d){s=Ji(t,s,r);break e}Qt(t,s,l,r)}s=s.child}return s;case 26:return Tu(t,s),t===null?(r=g_(s.type,null,s.pendingProps,null))?s.memoizedState=r:ze||(r=s.type,t=s.pendingProps,l=Uu(Ce.current).createElement(r),l[Tt]=s,l[Pt]=t,Kt(l,r,t),xt(l),s.stateNode=l):s.memoizedState=g_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return va(s),t===null&&ze&&(l=s.stateNode=f_(s.type,s.pendingProps,Ce.current),Gt=s,Pn=!0,d=rt,$s(s.type)?(tm=d,rt=Un(l.firstChild)):rt=d),Qt(t,s,s.pendingProps.children,r),Tu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ze&&((d=l=rt)&&(l=mw(l,s.type,s.pendingProps,Pn),l!==null?(s.stateNode=l,Gt=s,rt=Un(l.firstChild),Pn=!1,d=!0):d=!1),d||Cs(s)),va(s),d=s.type,f=s.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,Xf(d,f)?l=null:b!==null&&Xf(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=Qh(t,s,Rx,null,null,r),Ml._currentValue=d),Tu(t,s),Qt(t,s,l,r),s.child;case 6:return t===null&&ze&&((t=r=rt)&&(r=pw(r,s.pendingProps,Pn),r!==null?(s.stateNode=r,Gt=s,rt=null,t=!0):t=!1),t||Cs(s)),null;case 13:return n0(t,s,r);case 4:return kt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Ga(s,null,l,r):Qt(t,s,l,r),s.child;case 11:return Yy(t,s,s.type,s.pendingProps,r);case 7:return Qt(t,s,s.pendingProps,r),s.child;case 8:return Qt(t,s,s.pendingProps.children,r),s.child;case 12:return Qt(t,s,s.pendingProps.children,r),s.child;case 10:return l=s.pendingProps,Ds(s,s.type,l.value),Qt(t,s,l.children,r),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Ba(s),d=Yt(d),l=l(d),s.flags|=1,Qt(t,s,l,r),s.child;case 14:return Qy(t,s,s.type,s.pendingProps,r);case 15:return Ky(t,s,s.type,s.pendingProps,r);case 19:return s0(t,s,r);case 31:return Px(t,s,r);case 22:return Xy(t,s,r,s.pendingProps);case 24:return Ba(s),l=Yt(St),t===null?(d=Lh(),d===null&&(d=st,f=Vh(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),s.memoizedState={parent:l,cache:d},Hh(s),Ds(s,St,d)):((t.lanes&r)!==0&&(zh(t,s),hl(s,null,null,r),dl()),d=t.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ds(s,St,l)):(l=f.cache,Ds(s,St,l),l!==d.cache&&jh(s,[St],r,!0))),Qt(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Zi(t){t.flags|=4}function xf(t,s,r,l,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(M0())t.flags|=8192;else throw Fa=ou,Uh}else t.flags&=-16777217}function r0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(s))if(M0())t.flags|=8192;else throw Fa=ou,Uh}function wu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Cc():536870912,t.lanes|=s,Wr|=s)}function _l(t,s){if(!ze)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,s}function Ux(t,s,r){var l=s.pendingProps;switch(Ch(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return r=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ki(St),ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lr(s)?Zi(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mh())),ot(s),null;case 26:var d=s.type,f=s.memoizedState;return t===null?(Zi(s),f!==null?(ot(s),r0(s,f)):(ot(s),xf(s,d,null,l,r))):f?f!==t.memoizedState?(Zi(s),ot(s),r0(s,f)):(ot(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(s),ot(s),xf(s,d,t,l,r)),null;case 27:if(gr(s),r=Ce.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Zi(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return ot(s),null}t=le.current,Lr(s)?Ug(s):(t=f_(d,l,r),s.stateNode=t,Zi(s))}return ot(s),null;case 5:if(gr(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Zi(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return ot(s),null}if(f=le.current,Lr(s))Ug(s);else{var b=Uu(Ce.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?b.createElement(d,{is:l.is}):b.createElement(d)}}f[Tt]=s,f[Pt]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=f;e:switch(Kt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(s)}}return ot(s),xf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&Zi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(a(166));if(t=Ce.current,Lr(s)){if(t=s.stateNode,r=s.memoizedProps,l=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,r)),t||Cs(s,!0)}else t=Uu(t).createTextNode(l),t[Tt]=s,s.stateNode=t}return ot(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(l=Lr(s),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=s}else Ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),t=!1}else r=Mh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(Tn(s),s):(Tn(s),null);if((s.flags&128)!==0)throw Error(a(558))}return ot(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Lr(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Tt]=s}else Ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),d=!1}else d=Mh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Tn(s),s):(Tn(s),null)}return Tn(s),(s.flags&128)!==0?(s.lanes=r,s):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),wu(s,s.updateQueue),ot(s),null);case 4:return ct(),t===null&&Ff(s.stateNode.containerInfo),ot(s),null;case 10:return Ki(s.type),ot(s),null;case 19:if(Y(yt),l=s.memoizedState,l===null)return ot(s),null;if(d=(s.flags&128)!==0,f=l.rendering,f===null)if(d)_l(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=du(t),f!==null){for(s.flags|=128,_l(l,!1),t=f.updateQueue,s.updateQueue=t,wu(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)Og(r,t),r=r.sibling;return se(yt,yt.current&1|2),ze&&Yi(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&an()>Ru&&(s.flags|=128,d=!0,_l(l,!1),s.lanes=4194304)}else{if(!d)if(t=du(f),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,wu(s,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return ot(s),null}else 2*an()-l.renderingStartTime>Ru&&r!==536870912&&(s.flags|=128,d=!0,_l(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(t=l.last,t!==null?t.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,r=yt.current,se(yt,d?r&1|2:r&1),ze&&Yi(s,l.treeForkCount),t):(ot(s),null);case 22:case 23:return Tn(s),Fh(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(r&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),r=s.updateQueue,r!==null&&wu(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048),t!==null&&Y(qa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Ki(St),ot(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Hx(t,s){switch(Ch(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ki(St),ct(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return gr(s),null;case 31:if(s.memoizedState!==null){if(Tn(s),s.alternate===null)throw Error(a(340));Ha()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Tn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ha()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(yt),null;case 4:return ct(),null;case 10:return Ki(s.type),null;case 22:case 23:return Tn(s),Fh(),t!==null&&Y(qa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ki(St),null;case 25:return null;default:return null}}function o0(t,s){switch(Ch(s),s.tag){case 3:Ki(St),ct();break;case 26:case 27:case 5:gr(s);break;case 4:ct();break;case 31:s.memoizedState!==null&&Tn(s);break;case 13:Tn(s);break;case 19:Y(yt);break;case 10:Ki(s.type);break;case 22:case 23:Tn(s),Fh(),t!==null&&Y(qa);break;case 24:Ki(St)}}function bl(t,s){try{var r=s.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var f=r.create,b=r.inst;l=f(),b.destroy=l}r=r.next}while(r!==d)}}catch(x){Je(s,s.return,x)}}function Ps(t,s,r){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=s;var M=r,H=x;try{H()}catch(G){Je(d,M,G)}}}l=l.next}while(l!==f)}}catch(G){Je(s,s.return,G)}}function l0(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{Jg(s,r)}catch(l){Je(t,t.return,l)}}}function c0(t,s,r){r.props=Qa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Je(t,s,l)}}function vl(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){Je(t,s,d)}}function Ri(t,s){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Je(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Je(t,s,d)}else r.current=null}function u0(t){var s=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Je(t,t.return,d)}}function wf(t,s,r){try{var l=t.stateNode;lw(l,t.type,r,s),l[Pt]=s}catch(d){Je(t,t.return,d)}}function d0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Kn));else if(l!==4&&(l===27&&$s(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Af(t,s,r),t=t.sibling;t!==null;)Af(t,s,r),t=t.sibling}function Su(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(l!==4&&(l===27&&$s(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Su(t,s,r),t=t.sibling;t!==null;)Su(t,s,r),t=t.sibling}function h0(t){var s=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Kt(s,l,r),s[Tt]=t,s[Pt]=r}catch(f){Je(t,t.return,f)}}var es=!1,It=!1,Nf=!1,f0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function zx(t,s){if(t=t.containerInfo,Qf=Gu,t=Sg(t),bh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var b=0,x=-1,M=-1,H=0,G=0,W=t,B=null;t:for(;;){for(var $;W!==r||d!==0&&W.nodeType!==3||(x=b+d),W!==f||l!==0&&W.nodeType!==3||(M=b+l),W.nodeType===3&&(b+=W.nodeValue.length),($=W.firstChild)!==null;)B=W,W=$;for(;;){if(W===t)break t;if(B===r&&++H===d&&(x=b),B===f&&++G===l&&(M=b),($=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=$}r=x===-1||M===-1?null:{start:x,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kf={focusedElem:t,selectionRange:r},Gu=!1,Ut=s;Ut!==null;)if(s=Ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ut=t;else for(;Ut!==null;){switch(s=Ut,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=s,d=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=Qa(r.type,d);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Jf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,Ut=t;break}Ut=s.return}}function m0(t,s,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ns(t,r),l&4&&bl(5,r);break;case 1:if(ns(t,r),l&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(b){Je(r,r.return,b)}else{var d=Qa(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(r,r.return,b)}}l&64&&l0(r),l&512&&vl(r,r.return);break;case 3:if(ns(t,r),l&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Jg(t,s)}catch(b){Je(r,r.return,b)}}break;case 27:s===null&&l&4&&h0(r);case 26:case 5:ns(t,r),s===null&&l&4&&u0(r),l&512&&vl(r,r.return);break;case 12:ns(t,r);break;case 31:ns(t,r),l&4&&y0(t,r);break;case 13:ns(t,r),l&4&&_0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Xx.bind(null,r),gw(t,r))));break;case 22:if(l=r.memoizedState!==null||es,!l){s=s!==null&&s.memoizedState!==null||It,d=es;var f=It;es=l,(It=s)&&!f?is(t,r,(r.subtreeFlags&8772)!==0):ns(t,r),es=d,It=f}break;case 30:break;default:ns(t,r)}}function p0(t){var s=t.alternate;s!==null&&(t.alternate=null,p0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Er(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,dn=!1;function ts(t,s,r){for(r=r.child;r!==null;)g0(t,s,r),r=r.sibling}function g0(t,s,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:It||Ri(r,s),ts(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:It||Ri(r,s);var l=dt,d=dn;$s(r.type)&&(dt=r.stateNode,dn=!1),ts(t,s,r),Rl(r.stateNode),dt=l,dn=d;break;case 5:It||Ri(r,s);case 6:if(l=dt,d=dn,dt=null,ts(t,s,r),dt=l,dn=d,dt!==null)if(dn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(f){Je(r,s,f)}else try{dt.removeChild(r.stateNode)}catch(f){Je(r,s,f)}break;case 18:dt!==null&&(dn?(t=dt,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ao(t)):l_(dt,r.stateNode));break;case 4:l=dt,d=dn,dt=r.stateNode.containerInfo,dn=!0,ts(t,s,r),dt=l,dn=d;break;case 0:case 11:case 14:case 15:Ps(2,r,s),It||Ps(4,r,s),ts(t,s,r);break;case 1:It||(Ri(r,s),l=r.stateNode,typeof l.componentWillUnmount=="function"&&c0(r,s,l)),ts(t,s,r);break;case 21:ts(t,s,r);break;case 22:It=(l=It)||r.memoizedState!==null,ts(t,s,r),It=l;break;default:ts(t,s,r)}}function y0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(r){Je(s,s.return,r)}}}function _0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(r){Je(s,s.return,r)}}function Bx(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new f0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new f0),s;default:throw Error(a(435,t.tag))}}function Au(t,s){var r=Bx(t);s.forEach(function(l){if(!r.has(l)){r.add(l);var d=Wx.bind(null,t,l);l.then(d,d)}})}function hn(t,s){var r=s.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],f=t,b=s,x=b;e:for(;x!==null;){switch(x.tag){case 27:if($s(x.type)){dt=x.stateNode,dn=!1;break e}break;case 5:dt=x.stateNode,dn=!1;break e;case 3:case 4:dt=x.stateNode.containerInfo,dn=!0;break e}x=x.return}if(dt===null)throw Error(a(160));g0(f,b,d),dt=null,dn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)b0(s,t),s=s.sibling}var ti=null;function b0(t,s){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(s,t),fn(t),l&4&&(Ps(3,t,t.return),bl(3,t),Ps(5,t,t.return));break;case 1:hn(s,t),fn(t),l&512&&(It||r===null||Ri(r,r.return)),l&64&&es&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=ti;if(hn(s,t),fn(t),l&512&&(It||r===null||Ri(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[pi]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Kt(f,l,r),f[Tt]=t,xt(f),l=f;break e;case"link":var b=b_("link","href",d).get(l+(r.href||""));if(b){for(var x=0;x<b.length;x++)if(f=b[x],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(x,1);break t}}f=d.createElement(l),Kt(f,l,r),d.head.appendChild(f);break;case"meta":if(b=b_("meta","content",d).get(l+(r.content||""))){for(x=0;x<b.length;x++)if(f=b[x],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(x,1);break t}}f=d.createElement(l),Kt(f,l,r),d.head.appendChild(f);break;default:throw Error(a(468,l))}f[Tt]=t,xt(f),l=f}t.stateNode=l}else v_(d,t.type,t.stateNode);else t.stateNode=__(d,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?v_(d,t.type,t.stateNode):__(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wf(t,t.memoizedProps,r.memoizedProps)}break;case 27:hn(s,t),fn(t),l&512&&(It||r===null||Ri(r,r.return)),r!==null&&l&4&&wf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(hn(s,t),fn(t),l&512&&(It||r===null||Ri(r,r.return)),t.flags&32){d=t.stateNode;try{un(d,"")}catch(ue){Je(t,t.return,ue)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,wf(t,d,r!==null?r.memoizedProps:d)),l&1024&&(Nf=!0);break;case 6:if(hn(s,t),fn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){Je(t,t.return,ue)}}break;case 3:if(Bu=null,d=ti,ti=Hu(s.containerInfo),hn(s,t),ti=d,fn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ao(s.containerInfo)}catch(ue){Je(t,t.return,ue)}Nf&&(Nf=!1,v0(t));break;case 4:l=ti,ti=Hu(t.stateNode.containerInfo),hn(s,t),fn(t),ti=l;break;case 12:hn(s,t),fn(t);break;case 31:hn(s,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 13:hn(s,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Iu=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 22:d=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,H=es,G=It;if(es=H||d,It=G||M,hn(s,t),It=G,es=H,fn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||M||es||It||Ka(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){M=r=s;try{if(f=M.stateNode,d)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=M.stateNode;var W=M.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Je(M,M.return,ue)}}}else if(s.tag===6){if(r===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(ue){Je(M,M.return,ue)}}}else if(s.tag===18){if(r===null){M=s;try{var $=M.stateNode;d?c_($,!0):c_(M.stateNode,!1)}catch(ue){Je(M,M.return,ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Au(t,r))));break;case 19:hn(s,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 30:break;case 21:break;default:hn(s,t),fn(t)}}function fn(t){var s=t.flags;if(s&2){try{for(var r,l=t.return;l!==null;){if(d0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,f=Sf(t);Su(t,f,d);break;case 5:var b=r.stateNode;r.flags&32&&(un(b,""),r.flags&=-33);var x=Sf(t);Su(t,x,b);break;case 3:case 4:var M=r.stateNode.containerInfo,H=Sf(t);Af(t,H,M);break;default:throw Error(a(161))}}catch(G){Je(t,t.return,G)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function v0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;v0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ns(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m0(t,s.alternate,s),s=s.sibling}function Ka(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ps(4,s,s.return),Ka(s);break;case 1:Ri(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&c0(s,s.return,r),Ka(s);break;case 27:Rl(s.stateNode);case 26:case 5:Ri(s,s.return),Ka(s);break;case 22:s.memoizedState===null&&Ka(s);break;case 30:Ka(s);break;default:Ka(s)}t=t.sibling}}function is(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,f=s,b=f.flags;switch(f.tag){case 0:case 11:case 15:is(d,f,r),bl(4,f);break;case 1:if(is(d,f,r),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var x=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Wg(M[d],x)}catch(H){Je(l,l.return,H)}}r&&b&64&&l0(f),vl(f,f.return);break;case 27:h0(f);case 26:case 5:is(d,f,r),r&&l===null&&b&4&&u0(f),vl(f,f.return);break;case 12:is(d,f,r);break;case 31:is(d,f,r),r&&b&4&&y0(d,f);break;case 13:is(d,f,r),r&&b&4&&_0(d,f);break;case 22:f.memoizedState===null&&is(d,f,r),vl(f,f.return);break;case 30:break;default:is(d,f,r)}s=s.sibling}}function If(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Rf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&rl(t))}function ni(t,s,r,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)E0(t,s,r,l),s=s.sibling}function E0(t,s,r,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ni(t,s,r,l),d&2048&&bl(9,s);break;case 1:ni(t,s,r,l);break;case 3:ni(t,s,r,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&rl(t)));break;case 12:if(d&2048){ni(t,s,r,l),t=s.stateNode;try{var f=s.memoizedProps,b=f.id,x=f.onPostCommit;typeof x=="function"&&x(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Je(s,s.return,M)}}else ni(t,s,r,l);break;case 31:ni(t,s,r,l);break;case 13:ni(t,s,r,l);break;case 23:break;case 22:f=s.stateNode,b=s.alternate,s.memoizedState!==null?f._visibility&2?ni(t,s,r,l):El(t,s):f._visibility&2?ni(t,s,r,l):(f._visibility|=2,Qr(t,s,r,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&If(b,s);break;case 24:ni(t,s,r,l),d&2048&&Rf(s.alternate,s);break;default:ni(t,s,r,l)}}function Qr(t,s,r,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,b=s,x=r,M=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Qr(f,b,x,M,d),bl(8,b);break;case 23:break;case 22:var G=b.stateNode;b.memoizedState!==null?G._visibility&2?Qr(f,b,x,M,d):El(f,b):(G._visibility|=2,Qr(f,b,x,M,d)),d&&H&2048&&If(b.alternate,b);break;case 24:Qr(f,b,x,M,d),d&&H&2048&&Rf(b.alternate,b);break;default:Qr(f,b,x,M,d)}s=s.sibling}}function El(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,l=s,d=l.flags;switch(l.tag){case 22:El(r,l),d&2048&&If(l.alternate,l);break;case 24:El(r,l),d&2048&&Rf(l.alternate,l);break;default:El(r,l)}s=s.sibling}}var Tl=8192;function Kr(t,s,r){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)T0(t,s,r),t=t.sibling}function T0(t,s,r){switch(t.tag){case 26:Kr(t,s,r),t.flags&Tl&&t.memoizedState!==null&&Iw(r,ti,t.memoizedState,t.memoizedProps);break;case 5:Kr(t,s,r);break;case 3:case 4:var l=ti;ti=Hu(t.stateNode.containerInfo),Kr(t,s,r),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Kr(t,s,r),Tl=l):Kr(t,s,r));break;default:Kr(t,s,r)}}function x0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function xl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];Ut=l,S0(l,t)}x0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w0(t),t=t.sibling}function w0(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Nu(t)):xl(t);break;default:xl(t)}}function Nu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];Ut=l,S0(l,t)}x0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ps(8,s,s.return),Nu(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Nu(s));break;default:Nu(s)}t=t.sibling}}function S0(t,s){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ps(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ut=l;else e:for(r=t;Ut!==null;){l=Ut;var d=l.sibling,f=l.return;if(p0(l),l===r){Ut=null;break e}if(d!==null){d.return=f,Ut=d;break e}Ut=f}}}var qx={getCacheForType:function(t){var s=Yt(St),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return Yt(St).controller.signal}},$x=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,ke=null,Ve=0,We=0,xn=null,Ls=!1,Xr=!1,Cf=!1,ss=0,mt=0,Us=0,Xa=0,Df=0,wn=0,Wr=0,wl=null,mn=null,Mf=!1,Iu=0,A0=0,Ru=1/0,Cu=null,Hs=null,jt=0,zs=null,Jr=null,as=0,kf=0,Of=null,N0=null,Sl=0,jf=null;function Sn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?zf():Dc()}function I0(){if(wn===0)if((Ve&536870912)===0||ze){var t=xa;xa<<=1,(xa&3932160)===0&&(xa=262144),wn=t}else wn=536870912;return t=En.current,t!==null&&(t.flags|=32),wn}function pn(t,s,r){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Zr(t,0),Bs(t,Ve,wn,!1)),wa(t,r),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(Xa|=r),mt===4&&Bs(t,Ve,wn,!1)),Ci(t))}function R0(t,s,r){if((Qe&6)!==0)throw Error(a(327));var l=!r&&(s&127)===0&&(s&t.expiredLanes)===0||Gn(t,s),d=l?Yx(t,s):Pf(t,s,!0),f=l;do{if(d===0){Xr&&!l&&Bs(t,s,0,!1);break}else{if(r=t.current.alternate,f&&!Fx(r)){d=Pf(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var x=t;d=wl;var M=x.current.memoizedState.isDehydrated;if(M&&(Zr(x,b).flags|=256),b=Pf(x,b,!1),b!==2){if(Cf&&!M){x.errorRecoveryDisabledLanes|=f,Xa|=f,d=4;break e}f=mn,mn=d,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}d=b}if(f=!1,d!==2)continue}}if(d===1){Zr(t,0),Bs(t,s,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Bs(l,s,wn,!Ls);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=Iu+300-an(),10<d)){if(Bs(l,s,wn,!Ls),hi(l,0,!0)!==0)break e;as=s,l.timeoutHandle=r_(C0.bind(null,l,r,mn,Cu,Mf,s,wn,Xa,Wr,Ls,f,"Throttled",-0,0),d);break e}C0(l,r,mn,Cu,Mf,s,wn,Xa,Wr,Ls,f,null,-0,0)}}break}while(!0);Ci(t)}function C0(t,s,r,l,d,f,b,x,M,H,G,W,B,$){if(t.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},T0(s,f,W);var ue=(f&62914560)===f?Iu-an():(f&4194048)===f?A0-an():0;if(ue=Rw(W,ue),ue!==null){as=f,t.cancelPendingCommit=ue(L0.bind(null,t,s,f,r,l,d,b,x,M,G,W,null,B,$)),Bs(t,f,b,!H);return}}L0(t,s,f,r,l,d,b,x,M)}function Fx(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bs(t,s,r,l){s&=~Df,s&=~Xa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var f=31-pt(d),b=1<<f;l[f]=-1,d&=~b}r!==0&&Sa(t,r,s)}function Du(){return(Qe&6)===0?(Al(0),!1):!0}function Vf(){if(ke!==null){if(We===0)var t=ke.return;else t=ke,Qi=za=null,Wh(t),qr=null,ll=0,t=ke;for(;t!==null;)o0(t.alternate,t),t=t.return;ke=null}}function Zr(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),as=0,Vf(),st=t,ke=r=Gi(t.current,null),Ve=s,We=0,xn=null,Ls=!1,Xr=Gn(t,s),Cf=!1,Wr=wn=Df=Xa=Us=mt=0,mn=wl=null,Mf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-pt(l),f=1<<d;s|=t[d],l&=~f}return ss=s,Jc(),r}function D0(t,s){Re=null,F.H=gl,s===Br||s===ru?(s=Yg(),We=3):s===Uh?(s=Yg(),We=4):We=s===mf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,ke===null&&(mt=1,vu(t,On(s,t.current)))}function M0(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?Ln===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Ln:!1}function k0(){var t=F.H;return F.H=gl,t===null?gl:t}function O0(){var t=F.A;return F.A=qx,t}function Mu(){mt=4,Ls||(Ve&4194048)!==Ve&&En.current!==null||(Xr=!0),(Us&134217727)===0&&(Xa&134217727)===0||st===null||Bs(st,Ve,wn,!1)}function Pf(t,s,r){var l=Qe;Qe|=2;var d=k0(),f=O0();(st!==t||Ve!==s)&&(Cu=null,Zr(t,s)),s=!1;var b=mt;e:do try{if(We!==0&&ke!==null){var x=ke,M=xn;switch(We){case 8:Vf(),b=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var H=We;if(We=0,xn=null,eo(t,x,M,H),r&&Xr){b=0;break e}break;default:H=We,We=0,xn=null,eo(t,x,M,H)}}Gx(),b=mt;break}catch(G){D0(t,G)}while(!0);return s&&t.shellSuspendCounter++,Qi=za=null,Qe=l,F.H=d,F.A=f,ke===null&&(st=null,Ve=0,Jc()),b}function Gx(){for(;ke!==null;)j0(ke)}function Yx(t,s){var r=Qe;Qe|=2;var l=k0(),d=O0();st!==t||Ve!==s?(Cu=null,Ru=an()+500,Zr(t,s)):Xr=Gn(t,s);e:do try{if(We!==0&&ke!==null){s=ke;var f=xn;t:switch(We){case 1:We=0,xn=null,eo(t,s,f,1);break;case 2:case 9:if(Fg(f)){We=0,xn=null,V0(s);break}s=function(){We!==2&&We!==9||st!==t||(We=7),Ci(t)},f.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Fg(f)?(We=0,xn=null,V0(s)):(We=0,xn=null,eo(t,s,f,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var x=ke;if(b?E_(b):x.stateNode.complete){We=0,xn=null;var M=x.sibling;if(M!==null)ke=M;else{var H=x.return;H!==null?(ke=H,ku(H)):ke=null}break t}}We=0,xn=null,eo(t,s,f,5);break;case 6:We=0,xn=null,eo(t,s,f,6);break;case 8:Vf(),mt=6;break e;default:throw Error(a(462))}}Qx();break}catch(G){D0(t,G)}while(!0);return Qi=za=null,F.H=l,F.A=d,Qe=r,ke!==null?0:(st=null,Ve=0,Jc(),mt)}function Qx(){for(;ke!==null&&!hh();)j0(ke)}function j0(t){var s=a0(t.alternate,t,ss);t.memoizedProps=t.pendingProps,s===null?ku(t):ke=s}function V0(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=Zy(r,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=Zy(r,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Wh(s);default:o0(r,s),s=ke=Og(s,ss),s=a0(r,s,ss)}t.memoizedProps=t.pendingProps,s===null?ku(t):ke=s}function eo(t,s,r,l){Qi=za=null,Wh(s),qr=null,ll=0;var d=s.return;try{if(Vx(t,d,s,r,Ve)){mt=1,vu(t,On(r,t.current)),ke=null;return}}catch(f){if(d!==null)throw ke=d,f;mt=1,vu(t,On(r,t.current)),ke=null;return}s.flags&32768?(ze||l===1?t=!0:Xr||(Ve&536870912)!==0?t=!1:(Ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),P0(s,t)):ku(s)}function ku(t){var s=t;do{if((s.flags&32768)!==0){P0(s,Ls);return}t=s.return;var r=Ux(s.alternate,s,ss);if(r!==null){ke=r;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);mt===0&&(mt=5)}function P0(t,s){do{var r=Hx(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);mt=6,ke=null}function L0(t,s,r,l,d,f,b,x,M){t.cancelPendingCommit=null;do Ou();while(jt!==0);if((Qe&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(f=s.lanes|s.childLanes,f|=wh,ph(t,r,f,b,x,M),t===st&&(ke=st=null,Ve=0),Jr=s,zs=t,as=r,kf=f,Of=d,N0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jx(_s,function(){return q0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,d=ie.p,ie.p=2,b=Qe,Qe|=4;try{zx(t,s,r)}finally{Qe=b,ie.p=d,F.T=l}}jt=1,U0(),H0(),z0()}}function U0(){if(jt===1){jt=0;var t=zs,s=Jr,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ie.p;ie.p=2;var d=Qe;Qe|=4;try{b0(s,t);var f=Kf,b=Sg(t.containerInfo),x=f.focusedElem,M=f.selectionRange;if(b!==x&&x&&x.ownerDocument&&wg(x.ownerDocument.documentElement,x)){if(M!==null&&bh(x)){var H=M.start,G=M.end;if(G===void 0&&(G=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(G,x.value.length);else{var W=x.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var $=B.getSelection(),ue=x.textContent.length,_e=Math.min(M.start,ue),it=M.end===void 0?_e:Math.min(M.end,ue);!$.extend&&_e>it&&(b=it,it=_e,_e=b);var V=xg(x,_e),O=xg(x,it);if(V&&O&&($.rangeCount!==1||$.anchorNode!==V.node||$.anchorOffset!==V.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var U=W.createRange();U.setStart(V.node,V.offset),$.removeAllRanges(),_e>it?($.addRange(U),$.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),$.addRange(U))}}}}for(W=[],$=x;$=$.parentNode;)$.nodeType===1&&W.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var Q=W[x];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Gu=!!Qf,Kf=Qf=null}finally{Qe=d,ie.p=l,F.T=r}}t.current=s,jt=2}}function H0(){if(jt===2){jt=0;var t=zs,s=Jr,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ie.p;ie.p=2;var d=Qe;Qe|=4;try{m0(t,s.alternate,s)}finally{Qe=d,ie.p=l,F.T=r}}jt=3}}function z0(){if(jt===4||jt===3){jt=0,wc();var t=zs,s=Jr,r=as,l=N0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jt=5:(jt=0,Jr=zs=null,B0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Hs=null),Bi(r),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Fn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,d=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var x=l[b];f(x.value,{componentStack:x.stack})}}finally{F.T=s,ie.p=d}}(as&3)!==0&&Ou(),Ci(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===jf?Sl++:(Sl=0,jf=t):Sl=0,Al(0)}}function B0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,rl(s)))}function Ou(){return U0(),H0(),z0(),q0()}function q0(){if(jt!==5)return!1;var t=zs,s=kf;kf=0;var r=Bi(as),l=F.T,d=ie.p;try{ie.p=32>r?32:r,F.T=null,r=Of,Of=null;var f=zs,b=as;if(jt=0,Jr=zs=null,as=0,(Qe&6)!==0)throw Error(a(331));var x=Qe;if(Qe|=4,w0(f.current),E0(f,f.current,b,r),Qe=x,Al(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{ie.p=d,F.T=l,B0(t,s)}}function $0(t,s,r){s=On(r,s),s=ff(t.stateNode,s,2),t=Os(t,s,2),t!==null&&(wa(t,2),Ci(t))}function Je(t,s,r){if(t.tag===3)$0(t,t,r);else for(;s!==null;){if(s.tag===3){$0(s,t,r);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){t=On(r,t),r=Fy(2),l=Os(s,r,2),l!==null&&(Gy(r,l,s,t),wa(l,2),Ci(l));break}}s=s.return}}function Lf(t,s,r){var l=t.pingCache;if(l===null){l=t.pingCache=new $x;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(r)||(Cf=!0,d.add(r),t=Kx.bind(null,t,s,r),s.then(t,t))}function Kx(t,s,r){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,st===t&&(Ve&r)===r&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>an()-Iu?(Qe&2)===0&&Zr(t,0):Df|=r,Wr===Ve&&(Wr=0)),Ci(t)}function F0(t,s){s===0&&(s=Cc()),t=La(t,s),t!==null&&(wa(t,s),Ci(t))}function Xx(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),F0(t,r)}function Wx(t,s){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(s),F0(t,r)}function Jx(t,s){return Ot(t,s)}var ju=null,to=null,Uf=!1,Vu=!1,Hf=!1,qs=0;function Ci(t){t!==to&&t.next===null&&(to===null?ju=to=t:to=to.next=t),Vu=!0,Uf||(Uf=!0,ew())}function Al(t,s){if(!Hf&&Vu){Hf=!0;do for(var r=!1,l=ju;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var b=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=d&~(b&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,K0(l,f))}else f=Ve,f=hi(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gn(l,f)||(r=!0,K0(l,f));l=l.next}while(r);Hf=!1}}function Zx(){G0()}function G0(){Vu=Uf=!1;var t=0;qs!==0&&uw()&&(t=qs);for(var s=an(),r=null,l=ju;l!==null;){var d=l.next,f=Y0(l,s);f===0?(l.next=null,r===null?ju=d:r.next=d,d===null&&(to=r)):(r=l,(t!==0||(f&3)!==0)&&(Vu=!0)),l=d}jt!==0&&jt!==5||Al(t),qs!==0&&(qs=0)}function Y0(t,s){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-pt(f),x=1<<b,M=d[b];M===-1?((x&r)===0||(x&l)!==0)&&(d[b]=mh(x,s)):M<=s&&(t.expiredLanes|=x),f&=~x}if(s=st,r=Ve,r=hi(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===s&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Gn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(l!==null&&ys(l),Bi(r)){case 2:case 8:r=Vo;break;case 32:r=_s;break;case 268435456:r=Sc;break;default:r=_s}return l=Q0.bind(null,t),r=Ot(r,l),t.callbackPriority=s,t.callbackNode=r,s}return l!==null&&l!==null&&ys(l),t.callbackPriority=2,t.callbackNode=null,2}function Q0(t,s){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ou()&&t.callbackNode!==r)return null;var l=Ve;return l=hi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(R0(t,l,s),Y0(t,an()),t.callbackNode!=null&&t.callbackNode===r?Q0.bind(null,t):null)}function K0(t,s){if(Ou())return null;R0(t,s,!0)}function ew(){hw(function(){(Qe&6)!==0?Ot(jo,Zx):G0()})}function zf(){if(qs===0){var t=Hr;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),qs=t}return qs}function X0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sr(""+t)}function W0(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function tw(t,s,r,l,d){if(s==="submit"&&r&&r.stateNode===d){var f=X0((d[Pt]||null).action),b=l.submitter;b&&(s=(s=b[Pt]||null)?X0(s.formAction):b.getAttribute("formAction"),s!==null&&(f=s,b=null));var x=new xi("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var M=b?W0(d,b):new FormData(d);of(r,{pending:!0,data:M,method:d.method,action:f},null,M)}}else typeof f=="function"&&(x.preventDefault(),M=b?W0(d,b):new FormData(d),of(r,{pending:!0,data:M,method:d.method,action:f},f,M))},currentTarget:d}]})}}for(var Bf=0;Bf<xh.length;Bf++){var qf=xh[Bf],nw=qf.toLowerCase(),iw=qf[0].toUpperCase()+qf.slice(1);ei(nw,"on"+iw)}ei(Ig,"onAnimationEnd"),ei(Rg,"onAnimationIteration"),ei(Cg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(bx,"onTransitionRun"),ei(vx,"onTransitionStart"),ei(Ex,"onTransitionCancel"),ei(Dg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function J0(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var b=l.length-1;0<=b;b--){var x=l[b],M=x.instance,H=x.currentTarget;if(x=x.listener,M!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=H;try{f(d)}catch(G){Wc(G)}d.currentTarget=null,f=M}else for(b=0;b<l.length;b++){if(x=l[b],M=x.instance,H=x.currentTarget,x=x.listener,M!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=H;try{f(d)}catch(G){Wc(G)}d.currentTarget=null,f=M}}}}function Oe(t,s){var r=s[vr];r===void 0&&(r=s[vr]=new Set);var l=t+"__bubble";r.has(l)||(Z0(s,t,2,!1),r.add(l))}function $f(t,s,r){var l=0;s&&(l|=4),Z0(r,t,l,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[Pu]){t[Pu]=!0,Uo.forEach(function(r){r!=="selectionchange"&&(sw.has(r)||$f(r,!1,t),$f(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,$f("selectionchange",!1,s))}}function Z0(t,s,r,l){switch(I_(s)){case 2:var d=Mw;break;case 8:d=kw;break;default:d=rm}r=d.bind(null,s,r,t),d=void 0,!Ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function Gf(t,s,r,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=gi(x),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=f=b;continue e}x=x.parentNode}}l=l.return}ws(function(){var H=f,G=Cn(r),W=[];e:{var B=Mg.get(t);if(B!==void 0){var $=xi,ue=t;switch(t){case"keypress":if(Ma(r)===0)break e;case"keydown":case"keyup":$=Qc;break;case"focusin":ue="focus",$=Oa;break;case"focusout":ue="blur",$=Oa;break;case"beforeblur":case"afterblur":$=Oa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=g;break;case Ig:case Rg:case Cg:$=zc;break;case Dg:$=w;break;case"scroll":case"scrollend":$=Wo;break;case"wheel":$=q;break;case"copy":case"cut":case"paste":$=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Fi;break;case"toggle":case"beforetoggle":$=Ie}var _e=(s&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),V=_e?B!==null?B+"Capture":null:B;_e=[];for(var O=H,U;O!==null;){var Q=O;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=Xn(O,V),Q!=null&&_e.push(Il(O,Q,U))),it)break;O=O.return}0<_e.length&&(B=new $(B,ue,null,r,G),W.push({event:B,listeners:_e}))}}if((s&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",B&&r!==Qo&&(ue=r.relatedTarget||r.fromElement)&&(gi(ue)||ue[mi]))break e;if(($||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,$?(ue=r.relatedTarget||r.toElement,$=H,ue=ue?gi(ue):null,ue!==null&&(it=c(ue),_e=ue.tag,ue!==it||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):($=null,ue=H),$!==ue)){if(_e=Jo,Q="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Fi,Q="onPointerLeave",V="onPointerEnter",O="pointer"),it=$==null?B:yn($),U=ue==null?B:yn(ue),B=new _e(Q,O+"leave",$,r,G),B.target=it,B.relatedTarget=U,Q=null,gi(G)===H&&(_e=new _e(V,O+"enter",ue,r,G),_e.target=U,_e.relatedTarget=it,Q=_e),it=Q,$&&ue)t:{for(_e=aw,V=$,O=ue,U=0,Q=V;Q;Q=_e(Q))U++;Q=0;for(var ge=O;ge;ge=_e(ge))Q++;for(;0<U-Q;)V=_e(V),U--;for(;0<Q-U;)O=_e(O),Q--;for(;U--;){if(V===O||O!==null&&V===O.alternate){_e=V;break t}V=_e(V),O=_e(O)}_e=null}else _e=null;$!==null&&e_(W,B,$,_e,!1),ue!==null&&it!==null&&e_(W,it,ue,_e,!0)}}e:{if(B=H?yn(H):window,$=B.nodeName&&B.nodeName.toLowerCase(),$==="select"||$==="input"&&B.type==="file")var Fe=yg;else if(pg(B))if(_g)Fe=gx;else{Fe=mx;var me=fx}else $=B.nodeName,!$||$.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?H&&wr(H.elementType)&&(Fe=yg):Fe=px;if(Fe&&(Fe=Fe(t,H))){gg(W,Fe,r,G);break e}me&&me(t,B,H),t==="focusout"&&H&&B.type==="number"&&H.memoizedProps.value!=null&&Fo(B,"number",B.value)}switch(me=H?yn(H):window,t){case"focusin":(pg(me)||me.contentEditable==="true")&&(Mr=me,vh=H,il=null);break;case"focusout":il=vh=Mr=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Ag(W,r,G);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":Ag(W,r,G)}var De;if(Ye)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Dr?ja(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ai&&r.locale!=="ko"&&(Dr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Dr&&(De=Xo()):(Ti=G,Ko="value"in Ti?Ti.value:Ti.textContent,Dr=!0)),me=Lu(H,Pe),0<me.length&&(Pe=new Si(Pe,t,null,r,G),W.push({event:Pe,listeners:me}),De?Pe.data=De:(De=Cr(r),De!==null&&(Pe.data=De)))),(De=Mn?cx(t,r):ux(t,r))&&(Pe=Lu(H,"onBeforeInput"),0<Pe.length&&(me=new Si("onBeforeInput","beforeinput",null,r,G),W.push({event:me,listeners:Pe}),me.data=De)),tw(W,t,H,r,G)}J0(W,s)})}function Il(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Lu(t,s){for(var r=s+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Xn(t,r),d!=null&&l.unshift(Il(t,d,f)),d=Xn(t,s),d!=null&&l.push(Il(t,d,f))),t.tag===3)return l;t=t.return}return[]}function aw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,s,r,l,d){for(var f=s._reactName,b=[];r!==null&&r!==l;){var x=r,M=x.alternate,H=x.stateNode;if(x=x.tag,M!==null&&M===l)break;x!==5&&x!==26&&x!==27||H===null||(M=H,d?(H=Xn(r,f),H!=null&&b.unshift(Il(r,H,M))):d||(H=Xn(r,f),H!=null&&b.push(Il(r,H,M)))),r=r.return}b.length!==0&&t.push({event:s,listeners:b})}var rw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(rw,`
`).replace(ow,"")}function n_(t,s){return s=t_(s),t_(t)===s}function nt(t,s,r,l,d,f){switch(r){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&un(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,r,l);break;case"style":Yo(t,l,f);break;case"data":if(s!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(s!=="input"&&nt(t,s,"name",d.name,d,null),nt(t,s,"formEncType",d.formEncType,d,null),nt(t,s,"formMethod",d.formMethod,d,null),nt(t,s,"formTarget",d.formTarget,d,null)):(nt(t,s,"encType",d.encType,d,null),nt(t,s,"method",d.method,d,null),nt(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Lc.get(r)||r,Tr(t,r,l))}}function Yf(t,s,r,l,d,f){switch(r){case"style":Yo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),f=t[Pt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Tr(t,r,l)}}}function Kt(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var b=r[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:nt(t,s,f,b,r,null)}}d&&nt(t,s,"srcSet",r.srcSet,r,null),l&&nt(t,s,"src",r.src,r,null);return;case"input":Oe("invalid",t);var x=f=b=d=null,M=null,H=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":d=G;break;case"type":b=G;break;case"checked":M=G;break;case"defaultChecked":H=G;break;case"value":f=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,s));break;default:nt(t,s,l,G,r,null)}}jc(t,f,x,M,H,b,d,!1);return;case"select":Oe("invalid",t),l=b=f=null;for(d in r)if(r.hasOwnProperty(d)&&(x=r[d],x!=null))switch(d){case"value":f=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:nt(t,s,d,x,r,null)}s=f,r=b,t.multiple=!!l,s!=null?vs(t,!!l,s,!1):r!=null&&vs(t,!!l,r,!0);return;case"textarea":Oe("invalid",t),f=d=l=null;for(b in r)if(r.hasOwnProperty(b)&&(x=r[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":d=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:nt(t,s,b,x,r,null)}Es(t,l,d,f);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,s,M,l,r,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Oe(Nl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(l=r[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:nt(t,s,H,l,r,null)}return;default:if(wr(s)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Yf(t,s,G,l,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!=null&&nt(t,s,x,l,r,null))}function lw(t,s,r,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,b=null,x=null,M=null,H=null,G=null;for($ in r){var W=r[$];if(r.hasOwnProperty($)&&W!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=W;default:l.hasOwnProperty($)||nt(t,s,$,null,l,W)}}for(var B in l){var $=l[B];if(W=r[B],l.hasOwnProperty(B)&&($!=null||W!=null))switch(B){case"type":f=$;break;case"name":d=$;break;case"checked":H=$;break;case"defaultChecked":G=$;break;case"value":b=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,s));break;default:$!==W&&nt(t,s,B,$,l,W)}}xr(t,b,x,M,H,G,f,d);return;case"select":$=b=x=B=null;for(f in r)if(M=r[f],r.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(f)||nt(t,s,f,null,l,M)}for(d in l)if(f=l[d],M=r[d],l.hasOwnProperty(d)&&(f!=null||M!=null))switch(d){case"value":B=f;break;case"defaultValue":x=f;break;case"multiple":b=f;default:f!==M&&nt(t,s,d,f,l,M)}s=x,r=b,l=$,B!=null?vs(t,!!r,B,!1):!!l!=!!r&&(s!=null?vs(t,!!r,s,!0):vs(t,!!r,r?[]:"",!1));return;case"textarea":$=B=null;for(x in r)if(d=r[x],r.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:nt(t,s,x,null,l,d)}for(b in l)if(d=l[b],f=r[b],l.hasOwnProperty(b)&&(d!=null||f!=null))switch(b){case"value":B=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==f&&nt(t,s,b,d,l,f)}Vc(t,B,$);return;case"option":for(var ue in r)if(B=r[ue],r.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:nt(t,s,ue,null,l,B)}for(M in l)if(B=l[M],$=r[M],l.hasOwnProperty(M)&&B!==$&&(B!=null||$!=null))switch(M){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:nt(t,s,M,B,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)B=r[_e],r.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&nt(t,s,_e,null,l,B);for(H in l)if(B=l[H],$=r[H],l.hasOwnProperty(H)&&B!==$&&(B!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,s));break;default:nt(t,s,H,B,l,$)}return;default:if(wr(s)){for(var it in r)B=r[it],r.hasOwnProperty(it)&&B!==void 0&&!l.hasOwnProperty(it)&&Yf(t,s,it,void 0,l,B);for(G in l)B=l[G],$=r[G],!l.hasOwnProperty(G)||B===$||B===void 0&&$===void 0||Yf(t,s,G,B,l,$);return}}for(var V in r)B=r[V],r.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&nt(t,s,V,null,l,B);for(W in l)B=l[W],$=r[W],!l.hasOwnProperty(W)||B===$||B==null&&$==null||nt(t,s,W,B,l,$)}function i_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],f=d.transferSize,b=d.initiatorType,x=d.duration;if(f&&x&&i_(b)){for(b=0,x=d.responseEnd,l+=1;l<r.length;l++){var M=r[l],H=M.startTime;if(H>x)break;var G=M.transferSize,W=M.initiatorType;G&&i_(W)&&(M=M.responseEnd,b+=G*(M<x?1:(x-H)/(M-H)))}if(--l,s+=8*(f+b)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qf=null,Kf=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Xf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wf=null;function uw(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(fw)}:r_;function fw(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function l_(t,s){var r=s,l=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(d),ao(s);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Rl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Rl(r);for(var f=r.firstChild;f;){var b=f.nextSibling,x=f.nodeName;f[pi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=b}}else r==="body"&&Rl(t.ownerDocument.body);r=d}while(r);ao(s)}function c_(t,s){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Jf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jf(r),Er(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function mw(t,s,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function pw(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function u_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Un(t.nextSibling),t===null))return null;return t}function Zf(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gw(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var l=function(){s(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var tm=null;function d_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return Un(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function f_(t,s,r){switch(s=Uu(r),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Rl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Er(t)}var Hn=new Map,m_=new Set;function Hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rs=ie.d;ie.d={f:yw,r:_w,D:bw,C:vw,L:Ew,m:Tw,X:ww,S:xw,M:Sw};function yw(){var t=rs.f(),s=Du();return t||s}function _w(t){var s=Rn(t);s!==null&&s.tag===5&&s.type==="form"?Dy(s):rs.r(t)}var no=typeof document>"u"?null:document;function p_(t,s,r){var l=no;if(l&&typeof s=="string"&&s){var d=cn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),m_.has(d)||(m_.add(d),t={rel:t,crossOrigin:r,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Kt(s,"link",t),xt(s),l.head.appendChild(s)))}}function bw(t){rs.D(t),p_("dns-prefetch",t,null)}function vw(t,s){rs.C(t,s),p_("preconnect",t,s)}function Ew(t,s,r){rs.L(t,s,r);var l=no;if(l&&t&&s){var d='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+cn(r.imageSizes)+'"]')):d+='[href="'+cn(t)+'"]';var f=d;switch(s){case"style":f=io(t);break;case"script":f=so(t)}Hn.has(f)||(t=E({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),Hn.set(f,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Cl(f))||s==="script"&&l.querySelector(Dl(f))||(s=l.createElement("link"),Kt(s,"link",t),xt(s),l.head.appendChild(s)))}}function Tw(t,s){rs.m(t,s);var r=no;if(r&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(t)}if(!Hn.has(f)&&(t=E({rel:"modulepreload",href:t},s),Hn.set(f,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Dl(f)))return}l=r.createElement("link"),Kt(l,"link",t),xt(l),r.head.appendChild(l)}}}function xw(t,s,r){rs.S(t,s,r);var l=no;if(l&&t){var d=yi(l).hoistableStyles,f=io(t);s=s||"default";var b=d.get(f);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(Cl(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},r),(r=Hn.get(f))&&nm(t,r);var M=b=l.createElement("link");xt(M),Kt(M,"link",t),M._p=new Promise(function(H,G){M.onload=H,M.onerror=G}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,zu(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(f,b)}}}function ww(t,s){rs.X(t,s);var r=no;if(r&&t){var l=yi(r).hoistableScripts,d=so(t),f=l.get(d);f||(f=r.querySelector(Dl(d)),f||(t=E({src:t,async:!0},s),(s=Hn.get(d))&&im(t,s),f=r.createElement("script"),xt(f),Kt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Sw(t,s){rs.M(t,s);var r=no;if(r&&t){var l=yi(r).hoistableScripts,d=so(t),f=l.get(d);f||(f=r.querySelector(Dl(d)),f||(t=E({src:t,async:!0,type:"module"},s),(s=Hn.get(d))&&im(t,s),f=r.createElement("script"),xt(f),Kt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function g_(t,s,r,l){var d=(d=Ce.current)?Hu(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=io(r.href),r=yi(d).hoistableStyles,l=r.get(s),l||(l={type:"style",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=io(r.href);var f=yi(d).hoistableStyles,b=f.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=d.querySelector(Cl(t)))&&!f._p&&(b.instance=f,b.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),f||Aw(d,t,r,b.state))),s&&l===null)throw Error(a(528,""));return b}if(s&&l!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=so(r),r=yi(d).hoistableScripts,l=r.get(s),l||(l={type:"script",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function io(t){return'href="'+cn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Aw(t,s,r,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Kt(s,"link",r),xt(s),t.head.appendChild(s))}function so(t){return'[src="'+cn(t)+'"]'}function Dl(t){return"script[async]"+t}function __(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+cn(r.href)+'"]');if(l)return s.instance=l,xt(l),l;var d=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Kt(l,"style",d),zu(l,r.precedence,t),s.instance=l;case"stylesheet":d=io(r.href);var f=t.querySelector(Cl(d));if(f)return s.state.loading|=4,s.instance=f,xt(f),f;l=y_(r),(d=Hn.get(d))&&nm(l,d),f=(t.ownerDocument||t).createElement("link"),xt(f);var b=f;return b._p=new Promise(function(x,M){b.onload=x,b.onerror=M}),Kt(f,"link",l),s.state.loading|=4,zu(f,r.precedence,t),s.instance=f;case"script":return f=so(r.src),(d=t.querySelector(Dl(f)))?(s.instance=d,xt(d),d):(l=r,(d=Hn.get(f))&&(l=E({},r),im(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),Kt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,zu(l,r.precedence,t));return s.instance}function zu(t,s,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===s)f=x;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function nm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function im(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Bu=null;function b_(t,s,r){if(Bu===null){var l=new Map,d=Bu=new Map;d.set(r,l)}else d=Bu,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var f=r[d];if(!(f[pi]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(s)||"";b=t+b;var x=l.get(b);x?x.push(f):l.set(b,[f])}}return l}function v_(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function Nw(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Iw(t,s,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=io(l.href),f=s.querySelector(Cl(d));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=qu.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=f,xt(f);return}f=s.ownerDocument||s,l=y_(l),(d=Hn.get(d))&&nm(l,d),f=f.createElement("link"),xt(f);var b=f;b._p=new Promise(function(x,M){b.onload=x,b.onerror=M}),Kt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=qu.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var sm=0;function Rw(t,s){return t.stylesheets&&t.count===0&&Fu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&sm===0&&(sm=62500*cw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>sm?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function Fu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,s.forEach(Cw,t),$u=null,qu.call(t))}function Cw(t,s){if(!(s.state.loading&4)){var r=$u.get(t);if(r)var l=r.get(null);else{r=new Map,$u.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var b=d[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),l=b)}l&&r.set(null,l)}d=s.instance,b=d.getAttribute("data-precedence"),f=r.get(b)||l,f===l&&r.set(null,d),r.set(b,d),this.count++,l=qu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Ml={$$typeof:ce,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Dw(t,s,r,l,d,f,b,x,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function T_(t,s,r,l,d,f,b,x,M,H,G,W){return t=new Dw(t,s,r,b,M,H,G,W,x),s=1,f===!0&&(s|=24),f=vn(3,null,null,s),t.current=f,f.stateNode=t,s=Vh(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:s},Hh(f),t}function x_(t){return t?(t=jr,t):jr}function w_(t,s,r,l,d,f){d=x_(d),l.context===null?l.context=d:l.pendingContext=d,l=ks(s),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Os(t,l,s),r!==null&&(pn(r,t,s),ul(r,t,s))}function S_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function am(t,s){S_(t,s),(t=t.alternate)&&S_(t,s)}function A_(t){if(t.tag===13||t.tag===31){var s=La(t,67108864);s!==null&&pn(s,t,67108864),am(t,67108864)}}function N_(t){if(t.tag===13||t.tag===31){var s=Sn();s=Aa(s);var r=La(t,s);r!==null&&pn(r,t,s),am(t,s)}}var Gu=!0;function Mw(t,s,r,l){var d=F.T;F.T=null;var f=ie.p;try{ie.p=2,rm(t,s,r,l)}finally{ie.p=f,F.T=d}}function kw(t,s,r,l){var d=F.T;F.T=null;var f=ie.p;try{ie.p=8,rm(t,s,r,l)}finally{ie.p=f,F.T=d}}function rm(t,s,r,l){if(Gu){var d=om(l);if(d===null)Gf(t,s,l,Yu,r),R_(t,l);else if(jw(d,t,s,r,l))l.stopPropagation();else if(R_(t,l),s&4&&-1<Ow.indexOf(t)){for(;d!==null;){var f=Rn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=di(f.pendingLanes);if(b!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var M=1<<31-pt(b);x.entanglements[1]|=M,b&=~M}Ci(f),(Qe&6)===0&&(Ru=an()+500,Al(0))}}break;case 31:case 13:x=La(f,2),x!==null&&pn(x,f,2),Du(),am(f,2)}if(f=om(l),f===null&&Gf(t,s,l,Yu,r),f===d)break;d=f}d!==null&&l.stopPropagation()}else Gf(t,s,l,null,r)}}function om(t){return t=Cn(t),lm(t)}var Yu=null;function lm(t){if(Yu=null,t=gi(t),t!==null){var s=c(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=h(s),t!==null)return t;t=null}else if(r===31){if(t=m(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Yu=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ta()){case jo:return 2;case Vo:return 8;case _s:case fh:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var cm=!1,Fs=null,Gs=null,Ys=null,kl=new Map,Ol=new Map,Qs=[],Ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,s){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(s.pointerId)}}function jl(t,s,r,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=Rn(s),s!==null&&A_(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function jw(t,s,r,l,d){switch(s){case"focusin":return Fs=jl(Fs,t,s,r,l,d),!0;case"dragenter":return Gs=jl(Gs,t,s,r,l,d),!0;case"mouseover":return Ys=jl(Ys,t,s,r,l,d),!0;case"pointerover":var f=d.pointerId;return kl.set(f,jl(kl.get(f)||null,t,s,r,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ol.set(f,jl(Ol.get(f)||null,t,s,r,l,d)),!0}return!1}function C_(t){var s=gi(t.target);if(s!==null){var r=c(s);if(r!==null){if(s=r.tag,s===13){if(s=h(r),s!==null){t.blockedOn=s,Yn(t.priority,function(){N_(r)});return}}else if(s===31){if(s=m(r),s!==null){t.blockedOn=s,Yn(t.priority,function(){N_(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=om(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Qo=l,r.target.dispatchEvent(l),Qo=null}else return s=Rn(r),s!==null&&A_(s),t.blockedOn=r,!1;s.shift()}return!0}function D_(t,s,r){Qu(t)&&r.delete(s)}function Vw(){cm=!1,Fs!==null&&Qu(Fs)&&(Fs=null),Gs!==null&&Qu(Gs)&&(Gs=null),Ys!==null&&Qu(Ys)&&(Ys=null),kl.forEach(D_),Ol.forEach(D_)}function Ku(t,s){t.blockedOn===s&&(t.blockedOn=null,cm||(cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vw)))}var Xu=null;function M_(t){Xu!==t&&(Xu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var s=0;s<t.length;s+=3){var r=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(lm(l||r)===null)continue;break}var f=Rn(r);f!==null&&(t.splice(s,3),s-=3,of(f,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function ao(t){function s(M){return Ku(M,t)}Fs!==null&&Ku(Fs,t),Gs!==null&&Ku(Gs,t),Ys!==null&&Ku(Ys,t),kl.forEach(s),Ol.forEach(s);for(var r=0;r<Qs.length;r++){var l=Qs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)C_(r),r.blockedOn===null&&Qs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],f=r[l+1],b=d[Pt]||null;if(typeof f=="function")b||M_(r);else if(b){var x=null;if(f&&f.hasAttribute("formAction")){if(d=f,b=f[Pt]||null)x=b.formAction;else if(lm(d)!==null)continue}else x=b.action;typeof x=="function"?r[l+1]=x:(r.splice(l,3),l-=3),M_(r)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function um(t){this._internalRoot=t}Wu.prototype.render=um.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,l=Sn();w_(r,l,t,s,null,null)},Wu.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;w_(t.current,2,null,t,null,null),Du(),s[mi]=null}};function Wu(t){this._internalRoot=t}Wu.prototype.unstable_scheduleHydration=function(t){if(t){var s=Dc();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Qs.length&&s!==0&&s<Qs[r].priority;r++);Qs.splice(r,0,t),r===0&&C_(t)}};var O_=e.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));ie.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(s),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Pw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Fn=Ju.inject(Pw),$t=Ju}catch{}}return Pl.createRoot=function(t,s){if(!o(t))throw Error(a(299));var r=!1,l="",d=zy,f=By,b=qy;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=T_(t,1,!1,null,null,r,l,null,d,f,b,k_),t[mi]=s.current,Ff(t),new um(s)},Pl.hydrateRoot=function(t,s,r){if(!o(t))throw Error(a(299));var l=!1,d="",f=zy,b=By,x=qy,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),s=T_(t,1,!0,s,r??null,l,d,M,f,b,x,k_),s.context=x_(null),r=s.current,l=Sn(),l=Aa(l),d=ks(l),d.callback=null,Os(r,d,l),r=l,s.current.lanes=r,wa(s,r),Ci(s),t[mi]=s.current,Ff(t),new Wu(s)},Pl.version="19.2.3",Pl}var $_;function Yw(){if($_)return fm.exports;$_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=Gw(),fm.exports}var Qw=Yw();const Kw=$v(Qw);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ww=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),F_=i=>{const e=Ww(i);return e.charAt(0).toUpperCase()+e.slice(1)},Gv=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),Jw=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=xe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:h,...m},y)=>xe.createElement("svg",{ref:y,...Zw,width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:Gv("lucide",o),...!c&&!Jw(m)&&{"aria-hidden":"true"},...m},[...h.map(([_,T])=>xe.createElement(_,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(i,e)=>{const n=xe.forwardRef(({className:a,...o},c)=>xe.createElement(eS,{ref:c,iconNode:e,className:Gv(`lucide-${Xw(F_(i))}`,`lucide-${i}`,a),...o}));return n.displayName=F_(i),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],nS=Me("arrow-up-right",tS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yd=Me("book-open",iS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],aS=Me("briefcase",sS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vm=Me("calendar",rS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ym=Me("chart-column",oS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cS=Me("chevron-down",lS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yv=Me("chevron-left",uS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hS=Me("circle-alert",dS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oa=Me("circle-check-big",fS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_d=Me("clock",mS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],gS=Me("coffee",pS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_S=Me("download",yS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],vS=Me("flame",bS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TS=Me("funnel",ES);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Qv=Me("globe",xS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],SS=Me("graduation-cap",wS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Kv=Me("heart",AS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_m=Me("layers",NS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RS=Me("log-out",IS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],DS=Me("medal",CS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kS=Me("menu",MS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jS=Me("moon",OS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Xv=Me("panels-top-left",VS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],LS=Me("pause",PS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HS=Me("play",US);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],G_=Me("refresh-cw",zS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qS=Me("rotate-ccw",BS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FS=Me("save",$S);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wv=Me("search",GS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QS=Me("shield",YS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],XS=Me("star",KS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JS=Me("sun",WS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eA=Me("target",ZS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nA=Me("trending-up",tA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Jv=Me("trophy",iA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aA=Me("users",sA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zv=Me("x",rA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kl=Me("zap",oA),e1=6048e5,lA=864e5,t1=6e4,n1=36e5,Y_=Symbol.for("constructDateFrom");function Ui(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&Y_ in i?i[Y_](e):i instanceof Date?new i.constructor(e):new Date(e)}function Bt(i,e){return Ui(e||i,i)}function cA(i,e,n){const a=Bt(i,n==null?void 0:n.in);return isNaN(e)?Ui(i,NaN):(a.setDate(a.getDate()+e),a)}let uA={};function qd(){return uA}function ic(i,e){var m,y,_,T;const n=qd(),a=(e==null?void 0:e.weekStartsOn)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((T=(_=n.locale)==null?void 0:_.options)==null?void 0:T.weekStartsOn)??0,o=Bt(i,e==null?void 0:e.in),c=o.getDay(),h=(c<a?7:0)+c-a;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function bd(i,e){return ic(i,{...e,weekStartsOn:1})}function i1(i,e){const n=Bt(i,e==null?void 0:e.in),a=n.getFullYear(),o=Ui(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const c=bd(o),h=Ui(n,0);h.setFullYear(a,0,4),h.setHours(0,0,0,0);const m=bd(h);return n.getTime()>=c.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function Q_(i){const e=Bt(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function s1(i,...e){const n=Ui.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function K_(i,e){const n=Bt(i,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function $d(i,e,n){const[a,o]=s1(n==null?void 0:n.in,i,e),c=K_(a),h=K_(o),m=+c-Q_(c),y=+h-Q_(h);return Math.round((m-y)/lA)}function dA(i,e){const n=i1(i,e),a=Ui(i,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),bd(a)}function hA(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function fA(i){return!(!hA(i)&&typeof i!="number"||isNaN(+Bt(i)))}function mA(i,e,n){const[a,o]=s1(n==null?void 0:n.in,i,e),c=X_(a,o),h=Math.abs($d(a,o));a.setDate(a.getDate()-c*h);const m=+(X_(a,o)===-c),y=c*(h-m);return y===0?0:y}function X_(i,e){const n=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function pA(i,e){const n=Bt(i,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yA=(i,e,n)=>{let a;const o=gA[i];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function bm(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const _A={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EA={date:bm({formats:_A,defaultWidth:"full"}),time:bm({formats:bA,defaultWidth:"full"}),dateTime:bm({formats:vA,defaultWidth:"full"})},TA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xA=(i,e,n,a)=>TA[i];function Ll(i){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n!=null&&n.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n!=null&&n.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const c=i.argumentCallback?i.argumentCallback(e):e;return o[c]}}const wA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CA=(i,e)=>{const n=Number(i),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},DA={ordinalNumber:CA,era:Ll({values:wA,defaultWidth:"wide"}),quarter:Ll({values:SA,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Ll({values:AA,defaultWidth:"wide"}),day:Ll({values:NA,defaultWidth:"wide"}),dayPeriod:Ll({values:IA,defaultWidth:"wide",formattingValues:RA,defaultFormattingWidth:"wide"})};function Ul(i){return(e,n={})=>{const a=n.width,o=a&&i.matchPatterns[a]||i.matchPatterns[i.defaultMatchWidth],c=e.match(o);if(!c)return null;const h=c[0],m=a&&i.parsePatterns[a]||i.parsePatterns[i.defaultParseWidth],y=Array.isArray(m)?kA(m,E=>E.test(h)):MA(m,E=>E.test(h));let _;_=i.valueCallback?i.valueCallback(y):y,_=n.valueCallback?n.valueCallback(_):_;const T=e.slice(h.length);return{value:_,rest:T}}}function MA(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function kA(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function OA(i){return(e,n={})=>{const a=e.match(i.matchPattern);if(!a)return null;const o=a[0],c=e.match(i.parsePattern);if(!c)return null;let h=i.valueCallback?i.valueCallback(c[0]):c[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const jA=/^(\d+)(th|st|nd|rd)?/i,VA=/\d+/i,PA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LA={any:[/^b/i,/^(a|c)/i]},UA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HA={any:[/1/i,/2/i,/3/i,/4/i]},zA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$A={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YA={ordinalNumber:OA({matchPattern:jA,parsePattern:VA,valueCallback:i=>parseInt(i,10)}),era:Ul({matchPatterns:PA,defaultMatchWidth:"wide",parsePatterns:LA,defaultParseWidth:"any"}),quarter:Ul({matchPatterns:UA,defaultMatchWidth:"wide",parsePatterns:HA,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ul({matchPatterns:zA,defaultMatchWidth:"wide",parsePatterns:BA,defaultParseWidth:"any"}),day:Ul({matchPatterns:qA,defaultMatchWidth:"wide",parsePatterns:$A,defaultParseWidth:"any"}),dayPeriod:Ul({matchPatterns:FA,defaultMatchWidth:"any",parsePatterns:GA,defaultParseWidth:"any"})},QA={code:"en-US",formatDistance:yA,formatLong:EA,formatRelative:xA,localize:DA,match:YA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KA(i,e){const n=Bt(i,e==null?void 0:e.in);return $d(n,pA(n))+1}function XA(i,e){const n=Bt(i,e==null?void 0:e.in),a=+bd(n)-+dA(n);return Math.round(a/e1)+1}function a1(i,e){var T,E,C,z;const n=Bt(i,e==null?void 0:e.in),a=n.getFullYear(),o=qd(),c=(e==null?void 0:e.firstWeekContainsDate)??((E=(T=e==null?void 0:e.locale)==null?void 0:T.options)==null?void 0:E.firstWeekContainsDate)??o.firstWeekContainsDate??((z=(C=o.locale)==null?void 0:C.options)==null?void 0:z.firstWeekContainsDate)??1,h=Ui((e==null?void 0:e.in)||i,0);h.setFullYear(a+1,0,c),h.setHours(0,0,0,0);const m=ic(h,e),y=Ui((e==null?void 0:e.in)||i,0);y.setFullYear(a,0,c),y.setHours(0,0,0,0);const _=ic(y,e);return+n>=+m?a+1:+n>=+_?a:a-1}function WA(i,e){var m,y,_,T;const n=qd(),a=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((T=(_=n.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,o=a1(i,e),c=Ui((e==null?void 0:e.in)||i,0);return c.setFullYear(o,0,a),c.setHours(0,0,0,0),ic(c,e)}function JA(i,e){const n=Bt(i,e==null?void 0:e.in),a=+ic(n,e)-+WA(n,e);return Math.round(a/e1)+1}function Ze(i,e){const n=i<0?"-":"",a=Math.abs(i).toString().padStart(e,"0");return n+a}const Xs={y(i,e){const n=i.getFullYear(),a=n>0?n:1-n;return Ze(e==="yy"?a%100:a,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(i,e){return Ze(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,e){return Ze(i.getHours()%12||12,e.length)},H(i,e){return Ze(i.getHours(),e.length)},m(i,e){return Ze(i.getMinutes(),e.length)},s(i,e){return Ze(i.getSeconds(),e.length)},S(i,e){const n=e.length,a=i.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return Ze(o,e.length)}},ro={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W_={G:function(i,e,n){const a=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const a=i.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Xs.y(i,e)},Y:function(i,e,n,a){const o=a1(i,a),c=o>0?o:1-o;if(e==="YY"){const h=c%100;return Ze(h,2)}return e==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ze(c,e.length)},R:function(i,e){const n=i1(i);return Ze(n,e.length)},u:function(i,e){const n=i.getFullYear();return Ze(n,e.length)},Q:function(i,e,n){const a=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ze(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(i,e,n){const a=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ze(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(i,e,n){const a=i.getMonth();switch(e){case"M":case"MM":return Xs.M(i,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(i,e,n){const a=i.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ze(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(i,e,n,a){const o=JA(i,a);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ze(o,e.length)},I:function(i,e,n){const a=XA(i);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Ze(a,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):Xs.d(i,e)},D:function(i,e,n){const a=KA(i);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ze(a,e.length)},E:function(i,e,n){const a=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(i,e,n,a){const o=i.getDay(),c=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Ze(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(i,e,n,a){const o=i.getDay(),c=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Ze(c,e.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(i,e,n){const a=i.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Ze(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(i,e,n){const o=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,e,n){const a=i.getHours();let o;switch(a===12?o=ro.noon:a===0?o=ro.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,e,n){const a=i.getHours();let o;switch(a>=17?o=ro.evening:a>=12?o=ro.afternoon:a>=4?o=ro.morning:o=ro.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let a=i.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Xs.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):Xs.H(i,e)},K:function(i,e,n){const a=i.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ze(a,e.length)},k:function(i,e,n){let a=i.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ze(a,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):Xs.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):Xs.s(i,e)},S:function(i,e){return Xs.S(i,e)},X:function(i,e,n){const a=i.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return Z_(a);case"XXXX":case"XX":return Wa(a);case"XXXXX":case"XXX":default:return Wa(a,":")}},x:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"x":return Z_(a);case"xxxx":case"xx":return Wa(a);case"xxxxx":case"xxx":default:return Wa(a,":")}},O:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+J_(a,":");case"OOOO":default:return"GMT"+Wa(a,":")}},z:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+J_(a,":");case"zzzz":default:return"GMT"+Wa(a,":")}},t:function(i,e,n){const a=Math.trunc(+i/1e3);return Ze(a,e.length)},T:function(i,e,n){return Ze(+i,e.length)}};function J_(i,e=""){const n=i>0?"-":"+",a=Math.abs(i),o=Math.trunc(a/60),c=a%60;return c===0?n+String(o):n+String(o)+e+Ze(c,2)}function Z_(i,e){return i%60===0?(i>0?"-":"+")+Ze(Math.abs(i)/60,2):Wa(i,e)}function Wa(i,e=""){const n=i>0?"-":"+",a=Math.abs(i),o=Ze(Math.trunc(a/60),2),c=Ze(a%60,2);return n+o+e+c}const eb=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},r1=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ZA=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return eb(i,e);let c;switch(a){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",eb(a,e)).replace("{{time}}",r1(o,e))},e2={p:r1,P:ZA},t2=/^D+$/,n2=/^Y+$/,i2=["D","DD","YY","YYYY"];function s2(i){return t2.test(i)}function a2(i){return n2.test(i)}function r2(i,e,n){const a=o2(i,e,n);if(console.warn(a),i2.includes(i))throw new RangeError(a)}function o2(i,e,n){const a=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u2=/^'([^]*?)'?$/,d2=/''/g,h2=/[a-zA-Z]/;function la(i,e,n){var T,E,C,z;const a=qd(),o=a.locale??QA,c=a.firstWeekContainsDate??((E=(T=a.locale)==null?void 0:T.options)==null?void 0:E.firstWeekContainsDate)??1,h=a.weekStartsOn??((z=(C=a.locale)==null?void 0:C.options)==null?void 0:z.weekStartsOn)??0,m=Bt(i,n==null?void 0:n.in);if(!fA(m))throw new RangeError("Invalid time value");let y=e.match(c2).map(X=>{const J=X[0];if(J==="p"||J==="P"){const Z=e2[J];return Z(X,o.formatLong)}return X}).join("").match(l2).map(X=>{if(X==="''")return{isToken:!1,value:"'"};const J=X[0];if(J==="'")return{isToken:!1,value:f2(X)};if(W_[J])return{isToken:!0,value:X};if(J.match(h2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return{isToken:!1,value:X}});o.localize.preprocessor&&(y=o.localize.preprocessor(m,y));const _={firstWeekContainsDate:c,weekStartsOn:h,locale:o};return y.map(X=>{if(!X.isToken)return X.value;const J=X.value;(a2(J)||s2(J))&&r2(J,e,String(i));const Z=W_[J[0]];return Z(m,J,o.localize,_)}).join("")}function f2(i){const e=i.match(u2);return e?e[1].replace(d2,"'"):i}function Pm(i,e){return Bt(i,e==null?void 0:e.in).getDay()}function m2(i,e){return Bt(i,e==null?void 0:e.in).getHours()}function p2(i,e){return+Bt(i)<+Bt(e)}function Lm(i,e){const n=()=>Ui(e==null?void 0:e.in,NaN),o=b2(i);let c;if(o.date){const _=v2(o.date,2);c=E2(_.restDateString,_.year)}if(!c||isNaN(+c))return n();const h=+c;let m=0,y;if(o.time&&(m=T2(o.time),isNaN(m)))return n();if(o.timezone){if(y=x2(o.timezone),isNaN(y))return n()}else{const _=new Date(h+m),T=Bt(0,e==null?void 0:e.in);return T.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),T.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),T}return Bt(h+m+y,e==null?void 0:e.in)}const Zu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,y2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function b2(i){const e={},n=i.split(Zu.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],Zu.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Zu.timeZoneDelimiter)[0],a=i.substr(e.date.length,i.length))),a){const o=Zu.timezone.exec(a);o?(e.time=a.replace(o[1],""),e.timezone=o[1]):e.time=a}return e}function v2(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=i.match(n);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,c=a[2]?parseInt(a[2]):null;return{year:c===null?o:c*100,restDateString:i.slice((a[1]||a[2]).length)}}function E2(i,e){if(e===null)return new Date(NaN);const n=i.match(g2);if(!n)return new Date(NaN);const a=!!n[4],o=Hl(n[1]),c=Hl(n[2])-1,h=Hl(n[3]),m=Hl(n[4]),y=Hl(n[5])-1;if(a)return I2(e,m,y)?w2(e,m,y):new Date(NaN);{const _=new Date(0);return!A2(e,c,h)||!N2(e,o)?new Date(NaN):(_.setUTCFullYear(e,c,Math.max(o,h)),_)}}function Hl(i){return i?parseInt(i):1}function T2(i){const e=i.match(y2);if(!e)return NaN;const n=vm(e[1]),a=vm(e[2]),o=vm(e[3]);return R2(n,a,o)?n*n1+a*t1+o*1e3:NaN}function vm(i){return i&&parseFloat(i.replace(",","."))||0}function x2(i){if(i==="Z")return 0;const e=i.match(_2);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return C2(a,o)?n*(a*n1+o*t1):NaN}function w2(i,e,n){const a=new Date(0);a.setUTCFullYear(i,0,4);const o=a.getUTCDay()||7,c=(e-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+c),a}const S2=[31,null,31,30,31,30,31,31,30,31,30,31];function o1(i){return i%400===0||i%4===0&&i%100!==0}function A2(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(S2[e]||(o1(i)?29:28))}function N2(i,e){return e>=1&&e<=(o1(i)?366:365)}function I2(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function R2(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function C2(i,e){return e>=0&&e<=59}var P=(i=>(i.EASY="Easy",i.MEDIUM="Medium",i.HARD="Hard",i))(P||{});const Di=(i,e)=>{const n=[{id:`eng-${i}`,name:"English",isManual:!0,chapters:[]},{id:`kan-${i}`,name:"Kannada",isManual:!0,chapters:[]},{id:`hin-${i}`,name:"Hindi",isManual:!0,chapters:[]},{id:`pe-${i}`,name:"Physical Education",isManual:!0,chapters:[]}];return i===12?[{id:`phy-${i}`,name:"Physics",chapters:[{id:`p1-${i}`,name:"Electric Charges and Fields",difficulty:P.MEDIUM,topics:[{id:`tp1-${i}`,name:"Coulombs Law",estimatedHours:5}]},{id:`p2-${i}`,name:"Electrostatic Potential and Capacitance",difficulty:P.HARD,topics:[{id:`tp2-${i}`,name:"Capacitors",estimatedHours:6}]},{id:`p3-${i}`,name:"Current Electricity",difficulty:P.HARD,topics:[{id:`tp3-${i}`,name:"Ohms Law & Kirchhoffs Laws",estimatedHours:7}]},{id:`p4-${i}`,name:"Moving Charges and Magnetism",difficulty:P.HARD,topics:[{id:`tp4-${i}`,name:"Biot-Savart Law",estimatedHours:6}]},{id:`p5-${i}`,name:"Magnetism and Matter",difficulty:P.MEDIUM,topics:[{id:`tp5-${i}`,name:"Magnetic Properties",estimatedHours:4}]},{id:`p6-${i}`,name:"Electromagnetic Induction",difficulty:P.MEDIUM,topics:[{id:`tp6-${i}`,name:"Faradays Law",estimatedHours:5}]},{id:`p7-${i}`,name:"Alternating Current",difficulty:P.HARD,topics:[{id:`tp7-${i}`,name:"LCR Circuits",estimatedHours:6}]},{id:`p8-${i}`,name:"Electromagnetic Waves",difficulty:P.EASY,topics:[{id:`tp8-${i}`,name:"EM Spectrum",estimatedHours:3}]},{id:`p9-${i}`,name:"Ray Optics and Optical Instruments",difficulty:P.HARD,topics:[{id:`tp9-${i}`,name:"Lens Makers Formula",estimatedHours:8}]},{id:`p10-${i}`,name:"Wave Optics",difficulty:P.MEDIUM,topics:[{id:`tp10-${i}`,name:"Youngs Double Slit Experiment",estimatedHours:6}]},{id:`p11-${i}`,name:"Dual Nature of Radiation and Matter",difficulty:P.MEDIUM,topics:[{id:`tp11-${i}`,name:"Photoelectric Effect",estimatedHours:5}]},{id:`p12-${i}`,name:"Atoms",difficulty:P.MEDIUM,topics:[{id:`tp12-${i}`,name:"Bohrs Model",estimatedHours:4}]},{id:`p13-${i}`,name:"Nuclei",difficulty:P.MEDIUM,topics:[{id:`tp13-${i}`,name:"Radioactivity",estimatedHours:4}]},{id:`p14-${i}`,name:"Semiconductor Electronics",difficulty:P.HARD,topics:[{id:`tp14-${i}`,name:"PN Junction Diode",estimatedHours:6}]}]},{id:`che-${i}`,name:"Chemistry",chapters:[{id:`c1-${i}`,name:"Solutions",difficulty:P.MEDIUM,topics:[{id:`tc1-${i}`,name:"Colligative Properties",estimatedHours:5}]},{id:`c2-${i}`,name:"Electrochemistry",difficulty:P.HARD,topics:[{id:`tc2-${i}`,name:"Nernst Equation",estimatedHours:6}]},{id:`c3-${i}`,name:"Chemical Kinetics",difficulty:P.MEDIUM,topics:[{id:`tc3-${i}`,name:"Rate Law",estimatedHours:5}]},{id:`c4-${i}`,name:"d and f Block Elements",difficulty:P.MEDIUM,topics:[{id:`tc4-${i}`,name:"Lanthanoids",estimatedHours:5}]},{id:`c5-${i}`,name:"Coordination Compounds",difficulty:P.HARD,topics:[{id:`tc5-${i}`,name:"VBT & CFT",estimatedHours:6}]},{id:`c6-${i}`,name:"Haloalkanes and Haloarenes",difficulty:P.MEDIUM,topics:[{id:`tc6-${i}`,name:"SN1 & SN2 Mechanisms",estimatedHours:6}]},{id:`c7-${i}`,name:"Alcohols, Phenols and Ethers",difficulty:P.MEDIUM,topics:[{id:`tc7-${i}`,name:"Dehydration of Alcohols",estimatedHours:6}]},{id:`c8-${i}`,name:"Aldehydes, Ketones and Carboxylic Acids",difficulty:P.HARD,topics:[{id:`tc8-${i}`,name:"Aldol Condensation",estimatedHours:7}]},{id:`c9-${i}`,name:"Amines",difficulty:P.MEDIUM,topics:[{id:`tc9-${i}`,name:"Diazonium Salts",estimatedHours:5}]},{id:`c10-${i}`,name:"Biomolecules",difficulty:P.EASY,topics:[{id:`tc10-${i}`,name:"Proteins & DNA",estimatedHours:4}]}]},{id:`mat-${i}`,name:"Mathematics",chapters:[{id:`m1-${i}`,name:"Relations and Functions",difficulty:P.MEDIUM,topics:[{id:`tm1-${i}`,name:"Types of Relations",estimatedHours:5}]},{id:`m2-${i}`,name:"Inverse Trigonometric Functions",difficulty:P.MEDIUM,topics:[{id:`tm2-${i}`,name:"Principal Values",estimatedHours:4}]},{id:`m3-${i}`,name:"Matrices",difficulty:P.EASY,topics:[{id:`tm3-${i}`,name:"Matrix Multiplication",estimatedHours:4}]},{id:`m4-${i}`,name:"Determinants",difficulty:P.MEDIUM,topics:[{id:`tm4-${i}`,name:"Properties of Determinants",estimatedHours:5}]},{id:`m5-${i}`,name:"Continuity and Differentiability",difficulty:P.HARD,topics:[{id:`tm5-${i}`,name:"Chain Rule",estimatedHours:7}]},{id:`m6-${i}`,name:"Applications of Derivatives",difficulty:P.HARD,topics:[{id:`tm6-${i}`,name:"Maxima and Minima",estimatedHours:7}]},{id:`m7-${i}`,name:"Integrals",difficulty:P.HARD,topics:[{id:`tm7-${i}`,name:"Integration by Parts",estimatedHours:8}]},{id:`m8-${i}`,name:"Applications of the Integrals",difficulty:P.MEDIUM,topics:[{id:`tm8-${i}`,name:"Area under Curves",estimatedHours:5}]},{id:`m9-${i}`,name:"Differential Equations",difficulty:P.MEDIUM,topics:[{id:`tm9-${i}`,name:"Homogeneous Equations",estimatedHours:6}]},{id:`m10-${i}`,name:"Vectors",difficulty:P.EASY,topics:[{id:`tm10-${i}`,name:"Dot & Cross Product",estimatedHours:5}]},{id:`m11-${i}`,name:"Three-dimensional Geometry",difficulty:P.MEDIUM,topics:[{id:`tm11-${i}`,name:"Shortest Distance",estimatedHours:6}]},{id:`m12-${i}`,name:"Linear Programming",difficulty:P.EASY,topics:[{id:`tm12-${i}`,name:"Optimization",estimatedHours:3}]},{id:`m13-${i}`,name:"Probability",difficulty:P.MEDIUM,topics:[{id:`tm13-${i}`,name:"Bayes Theorem",estimatedHours:6}]}]},{id:`bio-${i}`,name:"Biology",chapters:[{id:`b1-${i}`,name:"Sexual Reproduction in Flowering Plants",difficulty:P.MEDIUM,topics:[{id:`tb1-${i}`,name:"Double Fertilization",estimatedHours:5}]},{id:`b2-${i}`,name:"Human Reproduction",difficulty:P.MEDIUM,topics:[{id:`tb2-${i}`,name:"Menstrual Cycle",estimatedHours:5}]},{id:`b3-${i}`,name:"Reproductive Health",difficulty:P.EASY,topics:[{id:`tb3-${i}`,name:"Contraception",estimatedHours:3}]},{id:`b4-${i}`,name:"Principles of Inheritance and Variation",difficulty:P.HARD,topics:[{id:`tb4-${i}`,name:"Mendelian Genetics",estimatedHours:7}]},{id:`b5-${i}`,name:"Molecular Basis of Inheritance",difficulty:P.HARD,topics:[{id:`tb5-${i}`,name:"DNA Replication",estimatedHours:7}]},{id:`b6-${i}`,name:"Evolution",difficulty:P.MEDIUM,topics:[{id:`tb6-${i}`,name:"Natural Selection",estimatedHours:5}]},{id:`b7-${i}`,name:"Human Health and Diseases",difficulty:P.MEDIUM,topics:[{id:`tb7-${i}`,name:"Immunity",estimatedHours:5}]},{id:`b8-${i}`,name:"Microbes in Human Welfare",difficulty:P.EASY,topics:[{id:`tb8-${i}`,name:"Sewage Treatment",estimatedHours:3}]},{id:`b9-${i}`,name:"Biotechnology - Principles and Processes",difficulty:P.HARD,topics:[{id:`tb9-${i}`,name:"rDNA Technology",estimatedHours:6}]},{id:`b10-${i}`,name:"Biotechnology and its Applications",difficulty:P.MEDIUM,topics:[{id:`tb10-${i}`,name:"Bt Cotton",estimatedHours:4}]},{id:`b11-${i}`,name:"Organisms and Populations",difficulty:P.MEDIUM,topics:[{id:`tb11-${i}`,name:"Population Interactions",estimatedHours:5}]},{id:`b12-${i}`,name:"Ecosystem",difficulty:P.EASY,topics:[{id:`tb12-${i}`,name:"Energy Flow",estimatedHours:4}]},{id:`b13-${i}`,name:"Biodiversity and its Conservation",difficulty:P.EASY,topics:[{id:`tb13-${i}`,name:"In-situ Conservation",estimatedHours:3}]}]},...n]:i===11?[{id:`phy-${i}`,name:"Physics",chapters:[{id:`p1-${i}`,name:"Units and Measurements",difficulty:P.EASY,topics:[{id:`tp1-${i}`,name:"SI Units & Dimensions",estimatedHours:4}]},{id:`p2-${i}`,name:"Motion in a Straight Line",difficulty:P.MEDIUM,topics:[{id:`tp2-${i}`,name:"Kinematic Equations",estimatedHours:5}]},{id:`p3-${i}`,name:"Motion in a Plane",difficulty:P.MEDIUM,topics:[{id:`tp3-${i}`,name:"Projectile Motion",estimatedHours:5}]},{id:`p4-${i}`,name:"Laws of Motion",difficulty:P.HARD,topics:[{id:`tp4-${i}`,name:"Newtons Laws & Friction",estimatedHours:6}]},{id:`p5-${i}`,name:"Work, Energy and Power",difficulty:P.MEDIUM,topics:[{id:`tp5-${i}`,name:"Work-Energy Theorem",estimatedHours:5}]},{id:`p6-${i}`,name:"System of Particles and Rotational Motion",difficulty:P.HARD,topics:[{id:`tp6-${i}`,name:"Moment of Inertia",estimatedHours:7}]},{id:`p7-${i}`,name:"Gravitation",difficulty:P.MEDIUM,topics:[{id:`tp7-${i}`,name:"Keplers Laws",estimatedHours:4}]},{id:`p8-${i}`,name:"Mechanical Properties of Solids",difficulty:P.EASY,topics:[{id:`tp8-${i}`,name:"Stress & Strain",estimatedHours:3}]},{id:`p9-${i}`,name:"Mechanical Properties of Fluids",difficulty:P.MEDIUM,topics:[{id:`tp9-${i}`,name:"Bernoullis Principle",estimatedHours:4}]},{id:`p10-${i}`,name:"Thermal Properties of Matter",difficulty:P.MEDIUM,topics:[{id:`tp10-${i}`,name:"Calorimetry",estimatedHours:4}]},{id:`p11-${i}`,name:"Thermodynamics",difficulty:P.HARD,topics:[{id:`tp11-${i}`,name:"Laws of Thermodynamics",estimatedHours:5}]},{id:`p12-${i}`,name:"Kinetic Theory",difficulty:P.MEDIUM,topics:[{id:`tp12-${i}`,name:"Ideal Gas Equation",estimatedHours:3}]},{id:`p13-${i}`,name:"Oscillations",difficulty:P.HARD,topics:[{id:`tp13-${i}`,name:"SHM & Pendulums",estimatedHours:5}]},{id:`p14-${i}`,name:"Waves",difficulty:P.MEDIUM,topics:[{id:`tp14-${i}`,name:"Doppler Effect",estimatedHours:4}]}]},{id:`che-${i}`,name:"Chemistry",chapters:[{id:`c1-${i}`,name:"Some Basic Concepts of Chemistry",difficulty:P.MEDIUM,topics:[{id:`tc1-${i}`,name:"Mole Concept",estimatedHours:5}]},{id:`c2-${i}`,name:"Structure of Atom",difficulty:P.HARD,topics:[{id:`tc2-${i}`,name:"Quantum Mechanical Model",estimatedHours:6}]},{id:`c3-${i}`,name:"Classification of Elements and Periodicity in Properties",difficulty:P.MEDIUM,topics:[{id:`tc3-${i}`,name:"Periodic Trends",estimatedHours:4}]},{id:`c4-${i}`,name:"Chemical Bonding and Molecular Structure",difficulty:P.HARD,topics:[{id:`tc4-${i}`,name:"VSEPR Theory",estimatedHours:7}]},{id:`c5-${i}`,name:"Thermodynamics",difficulty:P.HARD,topics:[{id:`tc5-${i}`,name:"Hesss Law",estimatedHours:6}]},{id:`c6-${i}`,name:"Equilibrium",difficulty:P.HARD,topics:[{id:`tc6-${i}`,name:"Le Chateliers Principle",estimatedHours:7}]},{id:`c7-${i}`,name:"Redox Reactions",difficulty:P.MEDIUM,topics:[{id:`tc7-${i}`,name:"Balancing Redox Reactions",estimatedHours:4}]},{id:`c8-${i}`,name:"Organic Chemistry: Some Basic Principles and Techniques",difficulty:P.HARD,topics:[{id:`tc8-${i}`,name:"IUPAC Nomenclature",estimatedHours:8}]},{id:`c9-${i}`,name:"Hydrocarbons",difficulty:P.MEDIUM,topics:[{id:`tc9-${i}`,name:"Alkanes, Alkenes, Alkynes",estimatedHours:7}]}]},{id:`mat-${i}`,name:"Mathematics",chapters:[{id:`m1-${i}`,name:"Sets",difficulty:P.EASY,topics:[{id:`tm1-${i}`,name:"Operations on Sets",estimatedHours:4}]},{id:`m2-${i}`,name:"Relations and Functions",difficulty:P.MEDIUM,topics:[{id:`tm2-${i}`,name:"Domain and Range",estimatedHours:5}]},{id:`m3-${i}`,name:"Trigonometric Functions",difficulty:P.HARD,topics:[{id:`tm3-${i}`,name:"Trigonometric Equations",estimatedHours:7}]},{id:`m4-${i}`,name:"Complex Numbers and Quadratic Equations",difficulty:P.MEDIUM,topics:[{id:`tm4-${i}`,name:"Polar Representation",estimatedHours:6}]},{id:`m5-${i}`,name:"Linear Inequalities",difficulty:P.MEDIUM,topics:[{id:`tm5-${i}`,name:"Graphical Solution",estimatedHours:5}]},{id:`m6-${i}`,name:"Permutations and Combinations",difficulty:P.HARD,topics:[{id:`tm6-${i}`,name:"Fundamental Principle of Counting",estimatedHours:6}]},{id:`m7-${i}`,name:"Binomial Theorem",difficulty:P.MEDIUM,topics:[{id:`tm7-${i}`,name:"Pascals Triangle",estimatedHours:4}]},{id:`m8-${i}`,name:"Sequences and Series",difficulty:P.MEDIUM,topics:[{id:`tm8-${i}`,name:"AP and GP",estimatedHours:6}]},{id:`m9-${i}`,name:"Straight Lines",difficulty:P.MEDIUM,topics:[{id:`tm9-${i}`,name:"Slope of a Line",estimatedHours:5}]},{id:`m10-${i}`,name:"Conic Sections",difficulty:P.HARD,topics:[{id:`tm10-${i}`,name:"Parabola & Ellipse",estimatedHours:6}]},{id:`m11-${i}`,name:"Introduction to Three-dimensional Geometry",difficulty:P.EASY,topics:[{id:`tm11-${i}`,name:"Distance Formula",estimatedHours:3}]},{id:`m12-${i}`,name:"Limits and Derivatives",difficulty:P.HARD,topics:[{id:`tm12-${i}`,name:"First Principle",estimatedHours:7}]},{id:`m13-${i}`,name:"Statistics",difficulty:P.MEDIUM,topics:[{id:`tm13-${i}`,name:"Standard Deviation",estimatedHours:5}]},{id:`m14-${i}`,name:"Probability",difficulty:P.MEDIUM,topics:[{id:`tm14-${i}`,name:"Axiomatic Probability",estimatedHours:5}]}]},{id:`bio-${i}`,name:"Biology",chapters:[{id:`b1-${i}`,name:"The Living World",difficulty:P.EASY,topics:[{id:`tb1-${i}`,name:"Taxonomy",estimatedHours:3}]},{id:`b2-${i}`,name:"Biological Classification",difficulty:P.MEDIUM,topics:[{id:`tb2-${i}`,name:"Five Kingdom Classification",estimatedHours:4}]},{id:`b3-${i}`,name:"Plant Kingdom",difficulty:P.MEDIUM,topics:[{id:`tb3-${i}`,name:"Algae & Bryophytes",estimatedHours:5}]},{id:`b4-${i}`,name:"Animal Kingdom",difficulty:P.HARD,topics:[{id:`tb4-${i}`,name:"Phylum Chordata",estimatedHours:6}]},{id:`b5-${i}`,name:"Morphology of Flowering Plants",difficulty:P.MEDIUM,topics:[{id:`tb5-${i}`,name:"Inflorescence",estimatedHours:4}]},{id:`b6-${i}`,name:"Anatomy of Flowering Plants",difficulty:P.HARD,topics:[{id:`tb6-${i}`,name:"Tissues",estimatedHours:5}]},{id:`b7-${i}`,name:"Structural Organisation in Animals",difficulty:P.MEDIUM,topics:[{id:`tb7-${i}`,name:"Animal Tissues",estimatedHours:4}]},{id:`b8-${i}`,name:"Cell: The Unit of Life",difficulty:P.MEDIUM,topics:[{id:`tb8-${i}`,name:"Cell Organelles",estimatedHours:5}]},{id:`b9-${i}`,name:"Biomolecules",difficulty:P.HARD,topics:[{id:`tb9-${i}`,name:"Enzymes",estimatedHours:5}]},{id:`b10-${i}`,name:"Cell Cycle and Cell Division",difficulty:P.MEDIUM,topics:[{id:`tb10-${i}`,name:"Mitosis & Meiosis",estimatedHours:4}]},{id:`b11-${i}`,name:"Photosynthesis in Higher Plants",difficulty:P.HARD,topics:[{id:`tb11-${i}`,name:"Light Reaction",estimatedHours:6}]},{id:`b12-${i}`,name:"Respiration in Plants",difficulty:P.MEDIUM,topics:[{id:`tb12-${i}`,name:"Glycolysis",estimatedHours:5}]},{id:`b13-${i}`,name:"Plant Growth and Development",difficulty:P.MEDIUM,topics:[{id:`tb13-${i}`,name:"Plant Hormones",estimatedHours:4}]},{id:`b14-${i}`,name:"Breathing and Exchange of Gases",difficulty:P.MEDIUM,topics:[{id:`tb14-${i}`,name:"Respiratory System",estimatedHours:4}]},{id:`b15-${i}`,name:"Body Fluids and Circulation",difficulty:P.MEDIUM,topics:[{id:`tb15-${i}`,name:"Cardiac Cycle",estimatedHours:5}]},{id:`b16-${i}`,name:"Excretory Products and their Elimination",difficulty:P.MEDIUM,topics:[{id:`tb16-${i}`,name:"Urine Formation",estimatedHours:5}]},{id:`b17-${i}`,name:"Locomotion and Movement",difficulty:P.MEDIUM,topics:[{id:`tb17-${i}`,name:"Muscle Contraction",estimatedHours:4}]},{id:`b18-${i}`,name:"Neural Control and Coordination",difficulty:P.HARD,topics:[{id:`tb18-${i}`,name:"Nerve Impulse",estimatedHours:6}]},{id:`b19-${i}`,name:"Chemical Coordination and Integration",difficulty:P.MEDIUM,topics:[{id:`tb19-${i}`,name:"Hormones",estimatedHours:4}]}]},...n]:i===10?[{id:`math-${i}`,name:"Mathematics",chapters:[{id:`m1-${i}`,name:"Real Numbers",difficulty:P.EASY,topics:[{id:`tm1-${i}`,name:"Fundamental Theorem of Arithmetic",estimatedHours:3}]},{id:`m2-${i}`,name:"Polynomials",difficulty:P.MEDIUM,topics:[{id:`tm2-${i}`,name:"Zeros of a Polynomial",estimatedHours:4}]},{id:`m3-${i}`,name:"Pair of Linear Equations in Two Variables",difficulty:P.MEDIUM,topics:[{id:`tm3-${i}`,name:"Substitution & Elimination",estimatedHours:6}]},{id:`m4-${i}`,name:"Quadratic Equations",difficulty:P.HARD,topics:[{id:`tm4-${i}`,name:"Nature of Roots",estimatedHours:6}]},{id:`m5-${i}`,name:"Arithmetic Progressions",difficulty:P.MEDIUM,topics:[{id:`tm5-${i}`,name:"nth Term & Sum",estimatedHours:5}]},{id:`m6-${i}`,name:"Triangles",difficulty:P.HARD,topics:[{id:`tm6-${i}`,name:"BPT & Similarity",estimatedHours:7}]},{id:`m7-${i}`,name:"Coordinate Geometry",difficulty:P.EASY,topics:[{id:`tm7-${i}`,name:"Distance & Section Formula",estimatedHours:4}]},{id:`m8-${i}`,name:"Introduction to Trigonometry",difficulty:P.HARD,topics:[{id:`tm8-${i}`,name:"Trigonometric Ratios",estimatedHours:8}]},{id:`m9-${i}`,name:"Some Applications of Trigonometry",difficulty:P.MEDIUM,topics:[{id:`tm9-${i}`,name:"Heights and Distances",estimatedHours:5}]},{id:`m10-${i}`,name:"Circles",difficulty:P.MEDIUM,topics:[{id:`tm10-${i}`,name:"Tangents to a Circle",estimatedHours:5}]},{id:`m11-${i}`,name:"Areas Related to Circles",difficulty:P.MEDIUM,topics:[{id:`tm11-${i}`,name:"Sector and Segment",estimatedHours:4}]},{id:`m12-${i}`,name:"Surface Areas and Volumes",difficulty:P.HARD,topics:[{id:`tm12-${i}`,name:"Combination of Solids",estimatedHours:7}]},{id:`m13-${i}`,name:"Statistics",difficulty:P.MEDIUM,topics:[{id:`tm13-${i}`,name:"Mean, Median, Mode",estimatedHours:6}]},{id:`m14-${i}`,name:"Probability",difficulty:P.EASY,topics:[{id:`tm14-${i}`,name:"Simple Events",estimatedHours:3}]}]},{id:`sci-${i}`,name:"Science",chapters:[{id:`s1-${i}`,name:"Chemical Reactions and Equations",difficulty:P.MEDIUM,topics:[{id:`ts1-${i}`,name:"Types of Reactions",estimatedHours:4}]},{id:`s2-${i}`,name:"Acids, Bases and Salts",difficulty:P.MEDIUM,topics:[{id:`ts2-${i}`,name:"pH Scale",estimatedHours:5}]},{id:`s3-${i}`,name:"Metals and Non-metals",difficulty:P.MEDIUM,topics:[{id:`ts3-${i}`,name:"Reactivity Series",estimatedHours:5}]},{id:`s4-${i}`,name:"Carbon and its Compounds",difficulty:P.HARD,topics:[{id:`ts4-${i}`,name:"Bonding in Carbon",estimatedHours:7}]},{id:`s5-${i}`,name:"Life Processes",difficulty:P.HARD,topics:[{id:`ts5-${i}`,name:"Nutrition & Respiration",estimatedHours:8}]},{id:`s6-${i}`,name:"Control and Coordination",difficulty:P.MEDIUM,topics:[{id:`ts6-${i}`,name:"Nervous System",estimatedHours:6}]},{id:`s7-${i}`,name:"How do Organisms Reproduce?",difficulty:P.MEDIUM,topics:[{id:`ts7-${i}`,name:"Modes of Reproduction",estimatedHours:6}]},{id:`s8-${i}`,name:"Heredity",difficulty:P.MEDIUM,topics:[{id:`ts8-${i}`,name:"Mendels Laws",estimatedHours:5}]},{id:`s9-${i}`,name:"Light  Reflection and Refraction",difficulty:P.HARD,topics:[{id:`ts9-${i}`,name:"Mirrors & Lenses",estimatedHours:8}]},{id:`s10-${i}`,name:"The Human Eye and the Colourful World",difficulty:P.MEDIUM,topics:[{id:`ts10-${i}`,name:"Defects of Vision",estimatedHours:4}]},{id:`s11-${i}`,name:"Electricity",difficulty:P.HARD,topics:[{id:`ts11-${i}`,name:"Ohms Law",estimatedHours:7}]},{id:`s12-${i}`,name:"Magnetic Effects of Electric Current",difficulty:P.MEDIUM,topics:[{id:`ts12-${i}`,name:"Field Lines",estimatedHours:5}]},{id:`s13-${i}`,name:"Our Environment",difficulty:P.EASY,topics:[{id:`ts13-${i}`,name:"Food Chain",estimatedHours:3}]}]},{id:`soc-${i}`,name:"Social Science",chapters:[{id:`his1-${i}`,name:"The Rise of Nationalism in Europe",difficulty:P.HARD,topics:[{id:`th1-${i}`,name:"French Revolution",estimatedHours:6}]},{id:`his2-${i}`,name:"Nationalism in India",difficulty:P.HARD,topics:[{id:`th2-${i}`,name:"Non-Cooperation",estimatedHours:6}]},{id:`his3-${i}`,name:"The Making of a Global World",difficulty:P.MEDIUM,topics:[{id:`th3-${i}`,name:"Silk Routes",estimatedHours:5}]},{id:`his4-${i}`,name:"The Age of Industrialisation",difficulty:P.MEDIUM,topics:[{id:`th4-${i}`,name:"Factories Come Up",estimatedHours:5}]},{id:`his5-${i}`,name:"Print Culture and the Modern World",difficulty:P.MEDIUM,topics:[{id:`th5-${i}`,name:"Reading Mania",estimatedHours:4}]},{id:`geo1-${i}`,name:"Resources and Development",difficulty:P.MEDIUM,topics:[{id:`tg1-${i}`,name:"Types of Resources",estimatedHours:4}]},{id:`geo2-${i}`,name:"Forest and Wildlife Resources",difficulty:P.EASY,topics:[{id:`tg2-${i}`,name:"Conservation",estimatedHours:3}]},{id:`geo3-${i}`,name:"Water Resources",difficulty:P.EASY,topics:[{id:`tg3-${i}`,name:"Dams",estimatedHours:3}]},{id:`geo4-${i}`,name:"Agriculture",difficulty:P.MEDIUM,topics:[{id:`tg4-${i}`,name:"Types of Farming",estimatedHours:5}]},{id:`geo5-${i}`,name:"Minerals and Energy Resources",difficulty:P.MEDIUM,topics:[{id:`tg5-${i}`,name:"Conventional Sources",estimatedHours:5}]},{id:`geo6-${i}`,name:"Manufacturing Industries",difficulty:P.MEDIUM,topics:[{id:`tg6-${i}`,name:"Industrial Pollution",estimatedHours:5}]},{id:`geo7-${i}`,name:"Lifelines of National Economy",difficulty:P.EASY,topics:[{id:`tg7-${i}`,name:"Transport",estimatedHours:4}]},{id:`civ1-${i}`,name:"Power Sharing",difficulty:P.EASY,topics:[{id:`tc1-${i}`,name:"Belgium & Sri Lanka",estimatedHours:3}]},{id:`civ2-${i}`,name:"Federalism",difficulty:P.MEDIUM,topics:[{id:`tc2-${i}`,name:"Decentralization",estimatedHours:4}]},{id:`civ3-${i}`,name:"Gender, Religion and Caste",difficulty:P.MEDIUM,topics:[{id:`tc3-${i}`,name:"Politics of Social Divisions",estimatedHours:4}]},{id:`civ4-${i}`,name:"Political Parties",difficulty:P.MEDIUM,topics:[{id:`tc4-${i}`,name:"National Parties",estimatedHours:5}]},{id:`civ5-${i}`,name:"Outcomes of Democracy",difficulty:P.HARD,topics:[{id:`tc5-${i}`,name:"Accountable Govt",estimatedHours:5}]},{id:`eco1-${i}`,name:"Development",difficulty:P.EASY,topics:[{id:`te1-${i}`,name:"Human Development Index",estimatedHours:4}]},{id:`eco2-${i}`,name:"Sectors of the Indian Economy",difficulty:P.MEDIUM,topics:[{id:`te2-${i}`,name:"Primary, Secondary, Tertiary",estimatedHours:5}]},{id:`eco3-${i}`,name:"Money and Credit",difficulty:P.MEDIUM,topics:[{id:`te3-${i}`,name:"Formal Sector Credit",estimatedHours:5}]},{id:`eco4-${i}`,name:"Globalisation and the Indian Economy",difficulty:P.MEDIUM,topics:[{id:`te4-${i}`,name:"MNCs",estimatedHours:5}]},{id:`eco5-${i}`,name:"Consumer Rights",difficulty:P.EASY,topics:[{id:`te5-${i}`,name:"Consumer Protection Act",estimatedHours:3}]}]},...n]:[{id:`math-${i}`,name:"Mathematics",chapters:[{id:`m1-${i}`,name:"Rational Numbers",difficulty:P.EASY,topics:[{id:`tm1-${i}`,name:"Properties",estimatedHours:3}]},{id:`m2-${i}`,name:"Linear Equations",difficulty:P.MEDIUM,topics:[{id:`tm2-${i}`,name:"Solving Equations",estimatedHours:4}]}]},{id:`sci-${i}`,name:"Science",chapters:[{id:`s1-${i}`,name:"Crop Production",difficulty:P.EASY,topics:[{id:`ts1-${i}`,name:"Agricultural Practices",estimatedHours:3}]},{id:`s2-${i}`,name:"Microorganisms",difficulty:P.MEDIUM,topics:[{id:`ts2-${i}`,name:"Friend and Foe",estimatedHours:4}]}]},{id:`soc-${i}`,name:"Social Science",isManual:!0,chapters:[]},...n]},tb={CBSE:{8:{classLevel:8,subjects:Di(8)},9:{classLevel:9,subjects:Di(9)},10:{classLevel:10,subjects:Di(10)},11:{classLevel:11,subjects:Di(11)},12:{classLevel:12,subjects:Di(12)}},State:{8:{classLevel:8,subjects:Di(8)},9:{classLevel:9,subjects:Di(9)},10:{classLevel:10,subjects:Di(10)},11:{classLevel:11,subjects:Di(11)},12:{classLevel:12,subjects:Di(12)}}},D2=[{id:"r1",subjectId:"math-10",title:"CBSE Official Sample Paper 2024-25",type:"Sample Paper",year:"2025",link:"#"},{id:"r2",subjectId:"math-10",title:"Mathematics Standard PYQ 2023",type:"PYQ",year:"2023",link:"#"},{id:"r3",subjectId:"sci-10",title:"Science Official Sample Paper 2024",type:"Sample Paper",year:"2024",link:"#"},{id:"r4",subjectId:"phy-12",title:"Physics Class 12 PYQ 2023",type:"PYQ",year:"2023",link:"#"},{id:"r5",subjectId:"mat-12",title:"Class 12 Math Sample Paper 2025",type:"Sample Paper",year:"2025",link:"#"},{id:"r6",subjectId:"che-12",title:"Chemistry Sample Paper 2024",type:"Sample Paper",year:"2024",link:"#"}],M2=[{weekday:0,hours:6},{weekday:1,hours:3},{weekday:2,hours:3},{weekday:3,hours:3},{weekday:4,hours:3},{weekday:5,hours:3},{weekday:6,hours:5}],Xl=(i,e,n=la(new Date,"yyyy-MM-dd"),a=!1)=>{var C,z;const o=[],{examDate:c,availableHours:h,chapterProgress:m}=e;let y=[];i.subjects.forEach(X=>{e.selectedSubjectIds.includes(X.id)&&X.chapters.forEach(J=>{const Z=m[J.id],te=(Z==null?void 0:Z.difficulty)||J.difficulty,re=(Z==null?void 0:Z.checkpoints)||[],ce=re.includes("Read"),Ee=re.includes("Revised"),fe=re.includes("Practiced");let de=[];if(!ce)de=[{type:"Read & Understand",hours:1}];else if(Ee)if(fe)de=[{type:"Quick Polish",hours:.33}];else{let D=.75;te===P.EASY&&(D=.5),te===P.HARD&&(D=1),de=[{type:"Practice Problems",hours:D}]}else{let D=.67;te===P.EASY&&(D=.42),te===P.HARD&&(D=1.25),de=[{type:"Revise & Recap",hours:D}]}const R={[P.HARD]:30,[P.MEDIUM]:20,[P.EASY]:10}[te];let I=0;ce?Ee?fe?I=10:I=30:I=60:I=40;let N=R+I;a&&(N+=Math.random()*20-10),de.forEach((D,S)=>{y.push({chapter:J,subjectId:X.id,taskType:D.type,duration:D.hours,priorityScore:N-S,userDifficulty:te})})})}),y.sort((X,J)=>J.priorityScore-X.priorityScore);let _=Lm(n);const T=Lm(c);let E=[...y];for(;E.length>0&&p2(_,T);){const X=la(_,"yyyy-MM-dd"),J=Pm(_),Z=((C=h.find(Ee=>Ee.weekday===J))==null?void 0:C.hours)||0,te=Z+.5;let re=0;const ce=new Set;for(;re<Z&&E.length!==0;){const Ee=te-re;let fe=-1,de=-1/0;for(let R=0;R<E.length;R++){const I=E[R];if(I.duration<=Ee){let N=I.priorityScore;ce.has(I.subjectId)||(N+=15),N>de&&(de=N,fe=R)}}if(fe!==-1){const R=E[fe],I=`${R.chapter.id}-${R.taskType}`;o.push({id:`task-${R.chapter.id}-${X}-${re.toFixed(2)}`,topicId:I,chapterId:R.chapter.id,chapterName:R.chapter.name,subjectName:(z=i.subjects.find(N=>N.id===R.subjectId))==null?void 0:z.name,topicName:R.taskType,scheduledDate:X,duration:Number(R.duration.toFixed(2)),difficulty:R.userDifficulty,isCompleted:e.completedTopicIds.includes(I)}),re+=R.duration,ce.add(R.subjectId),E.splice(fe,1)}else break}_=cA(_,1)}return o},k2=()=>{};var nb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},O2=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],m=i[n++],y=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],h=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,m=h?i[o+1]:0,y=o+2<i.length,_=y?i[o+2]:0,T=c>>2,E=(c&3)<<4|m>>4;let C=(m&15)<<2|_>>6,z=_&63;y||(z=64,h||(C=64)),a.push(n[T],n[E],n[C],n[z])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(l1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):O2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const _=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||_==null||E==null)throw new j2;const C=c<<2|m>>4;if(a.push(C),_!==64){const z=m<<4&240|_>>2;if(a.push(z),E!==64){const X=_<<6&192|E;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class j2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V2=function(i){const e=l1(i);return c1.encodeByteArray(e,!0)},vd=function(i){return V2(i).replace(/\./g,"")},u1=function(i){try{return c1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=()=>P2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof nb>"u")return;const i=nb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},H2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&u1(i[1]);return e&&JSON.parse(e)},Fd=()=>{try{return k2()||L2()||U2()||H2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},d1=i=>{var e,n;return(n=(e=Fd())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},z2=i=>{const e=d1(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},h1=()=>{var i;return(i=Fd())==null?void 0:i.config},f1=i=>{var e;return(e=Fd())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m1(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[vd(JSON.stringify(n)),vd(JSON.stringify(h)),""].join(".")}const Wl={};function $2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function F2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let ib=!1;function p1(i,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Wl[i]===e||Wl[i]||ib)return;Wl[i]=e;function n(C){return`__firebase__banner__${C}`}const a="__firebase__banner",c=$2().prod.length>0;function h(){const C=document.getElementById(a);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{ib=!0,h()},C}function T(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function E(){const C=F2(a),z=n("text"),X=document.getElementById(z)||document.createElement("span"),J=n("learnmore"),Z=document.getElementById(J)||document.createElement("a"),te=n("preprendIcon"),re=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ce=C.element;m(ce),T(Z,J);const Ee=_();y(re,te),ce.append(re,X,Z,Ee),document.body.appendChild(ce)}c?(X.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Y2(){var e;const i=(e=Fd())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function K2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X2(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function W2(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){try{return typeof indexedDB=="object"}catch{return!1}}function _1(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function J2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="FirebaseError";class li extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Z2,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ur.prototype.create)}}class ur{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?eN(c,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new li(o,m,a)}}function eN(i,e){return i.replace(tN,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const tN=/\{\$([^}]+)}/g;function nN(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=i[o],h=e[o];if(sb(c)&&sb(h)){if(!ca(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function sb(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function $l(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function iN(i,e){const n=new sN(i,e);return n.subscribe.bind(n)}class sN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");aN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aN(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1e3,oN=2,lN=14400*1e3,cN=.5;function ab(i,e=rN,n=oN){const a=e*Math.pow(n,i),o=Math.round(cN*a*(Math.random()-.5)*2);return Math.min(lN,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(i){return i&&i._delegate?i._delegate:i}class ri{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new B2;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hN(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&h.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dN(i){return i===Ja?void 0:i}function hN(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const mN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},pN=Le.INFO,gN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},yN=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=gN[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gd{constructor(e){this.name=e,this._logLevel=pN,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const _N=(i,e)=>e.some(n=>i instanceof n);let rb,ob;function bN(){return rb||(rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vN(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,Um=new WeakMap,v1=new WeakMap,Tm=new WeakMap,fp=new WeakMap;function EN(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(ia(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&b1.set(n,i)}).catch(()=>{}),fp.set(e,i),e}function TN(i){if(Um.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Um.set(i,e)}let Hm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||v1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function xN(i){Hm=i(Hm)}function wN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(xm(this),e,...n);return v1.set(a,e.sort?e.sort():[e]),ia(a)}:vN().includes(i)?function(...e){return i.apply(xm(this),e),ia(b1.get(this))}:function(...e){return ia(i.apply(xm(this),e))}}function SN(i){return typeof i=="function"?wN(i):(i instanceof IDBTransaction&&TN(i),_N(i,bN())?new Proxy(i,Hm):i)}function ia(i){if(i instanceof IDBRequest)return EN(i);if(Tm.has(i))return Tm.get(i);const e=SN(i);return e!==i&&(Tm.set(i,e),fp.set(e,i)),e}const xm=i=>fp.get(i);function E1(i,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),m=ia(h);return a&&h.addEventListener("upgradeneeded",y=>{a(ia(h.result),y.oldVersion,y.newVersion,ia(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const AN=["get","getKey","getAll","getAllKeys","count"],NN=["put","add","delete","clear"],wm=new Map;function lb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=NN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||AN.includes(n)))return;const c=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return wm.set(e,c),c}xN(i=>({...i,get:(e,n,a)=>lb(e,n)||i.get(e,n,a),has:(e,n)=>!!lb(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function RN(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",cb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Gd("@firebase/app"),CN="@firebase/app-compat",DN="@firebase/analytics-compat",MN="@firebase/analytics",kN="@firebase/app-check-compat",ON="@firebase/app-check",jN="@firebase/auth",VN="@firebase/auth-compat",PN="@firebase/database",LN="@firebase/data-connect",UN="@firebase/database-compat",HN="@firebase/functions",zN="@firebase/functions-compat",BN="@firebase/installations",qN="@firebase/installations-compat",$N="@firebase/messaging",FN="@firebase/messaging-compat",GN="@firebase/performance",YN="@firebase/performance-compat",QN="@firebase/remote-config",KN="@firebase/remote-config-compat",XN="@firebase/storage",WN="@firebase/storage-compat",JN="@firebase/firestore",ZN="@firebase/ai",eI="@firebase/firestore-compat",tI="firebase",nI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",iI={[zm]:"fire-core",[CN]:"fire-core-compat",[MN]:"fire-analytics",[DN]:"fire-analytics-compat",[ON]:"fire-app-check",[kN]:"fire-app-check-compat",[jN]:"fire-auth",[VN]:"fire-auth-compat",[PN]:"fire-rtdb",[LN]:"fire-data-connect",[UN]:"fire-rtdb-compat",[HN]:"fire-fn",[zN]:"fire-fn-compat",[BN]:"fire-iid",[qN]:"fire-iid-compat",[$N]:"fire-fcm",[FN]:"fire-fcm-compat",[GN]:"fire-perf",[YN]:"fire-perf-compat",[QN]:"fire-rc",[KN]:"fire-rc-compat",[XN]:"fire-gcs",[WN]:"fire-gcs-compat",[JN]:"fire-fst",[eI]:"fire-fst-compat",[ZN]:"fire-vertex","fire-js":"fire-js",[tI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,sI=new Map,qm=new Map;function ub(i,e){try{i.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Hi(i){const e=i.name;if(qm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const n of Ed.values())ub(n,i);for(const n of sI.values())ub(n,i);return!0}function dr(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new ur("app","Firebase",aI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=nI;function T1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Bm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw sa.create("bad-app-name",{appName:String(o)});if(n||(n=h1()),!n)throw sa.create("no-options");const c=Ed.get(o);if(c){if(ca(n,c.options)&&ca(a,c.config))return c;throw sa.create("duplicate-app",{appName:o})}const h=new fN(o);for(const y of qm.values())h.addComponent(y);const m=new rI(n,a,h);return Ed.set(o,m),m}function mp(i=Bm){const e=Ed.get(i);if(!e&&i===Bm&&h1())return T1();if(!e)throw sa.create("no-app",{appName:i});return e}function qn(i,e,n){let a=iI[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(h.join(" "));return}Hi(new ri(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",lI=1,sc="firebase-heartbeat-store";let Sm=null;function x1(){return Sm||(Sm=E1(oI,lI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(i=>{throw sa.create("idb-open",{originalErrorMessage:i.message})})),Sm}async function cI(i){try{const n=(await x1()).transaction(sc),a=await n.objectStore(sc).get(w1(i));return await n.done,a}catch(e){if(e instanceof li)fs.warn(e.message);else{const n=sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function db(i,e){try{const a=(await x1()).transaction(sc,"readwrite");await a.objectStore(sc).put(e,w1(i)),await a.done}catch(n){if(n instanceof li)fs.warn(n.message);else{const a=sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(a.message)}}}function w1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,dI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=hb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>dI){const h=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){fs.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hb(),{heartbeatsToSend:a,unsentEntries:o}=fI(this._heartbeatsCache.heartbeats),c=vd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return fs.warn(n),""}}}function hb(){return new Date().toISOString().substring(0,10)}function fI(i,e=uI){const n=[];let a=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),fb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fb(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class mI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y1()?_1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fb(i){return vd(JSON.stringify({version:2,heartbeats:i})).length}function pI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(i){Hi(new ri("platform-logger",e=>new IN(e),"PRIVATE")),Hi(new ri("heartbeat",e=>new hI(e),"PRIVATE")),qn(zm,cb,i),qn(zm,cb,"esm2020"),qn("fire-js","")}gI("");var yI="firebase",_I="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(yI,_I,"app");function S1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bI=S1,A1=new ur("auth","Firebase",S1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new Gd("@firebase/auth");function vI(i,...e){Td.logLevel<=Le.WARN&&Td.warn(`Auth (${So}): ${i}`,...e)}function od(i,...e){Td.logLevel<=Le.ERROR&&Td.error(`Auth (${So}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(i,...e){throw gp(i,...e)}function ai(i,...e){return gp(i,...e)}function pp(i,e,n){const a={...bI(),[e]:n};return new ur("auth","Firebase",a).create(e,{appName:i.name})}function us(i){return pp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EI(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&$n(i,"argument-error"),pp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return A1.create(i,...e)}function be(i,e,...n){if(!i)throw gp(e,...n)}function ls(i){const e="INTERNAL ASSERTION FAILED: "+i;throw od(e),new Error(e)}function ms(i,e){i||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function TI(){return mb()==="http:"||mb()==="https:"}function mb(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||g1()||"connection"in navigator)?navigator.onLine:!0}function wI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=G2()||K2()}get(){return xI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(i,e){ms(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NI=new pc(3e4,6e4);function ga(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ya(i,e,n,a,o={}){return I1(i,o,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const m=mc({key:i.config.apiKey,...h}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:y,...c};return Q2()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&wo(i.emulatorConfig.host)&&(_.credentials="include"),N1.fetch()(await R1(i,i.config.apiHost,n,m),_)})}async function I1(i,e,n){i._canInitEmulator=!1;const a={...SI,...e};try{const o=new RI(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ed(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw ed(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw ed(i,"user-disabled",h);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pp(i,T,_);$n(i,T)}}catch(o){if(o instanceof li)throw o;$n(i,"network-request-failed",{message:String(o)})}}async function gc(i,e,n,a,o={}){const c=await ya(i,e,n,a,o);return"mfaPendingCredential"in c&&$n(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function R1(i,e,n,a){const o=`${e}${n}?${a}`,c=i,h=c.config.emulator?yp(i.config,o):`${i.config.apiScheme}://${o}`;return AI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function II(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ai(this.auth,"network-request-failed")),NI.get())})}}function ed(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ai(i,e,a);return o.customData._tokenResponse=n,o}function pb(i){return i!==void 0&&i.enterprise!==void 0}class CI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return II(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DI(i,e){return ya(i,"GET","/v2/recaptchaConfig",ga(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e){return ya(i,"POST","/v1/accounts:delete",e)}async function xd(i,e){return ya(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kI(i,e=!1){const n=qt(i),a=await n.getIdToken(e),o=_p(a);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:Jl(Am(o.auth_time)),issuedAtTime:Jl(Am(o.iat)),expirationTime:Jl(Am(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Am(i){return Number(i)*1e3}function _p(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const o=u1(n);return o?JSON.parse(o):(od("Failed to decode base64 JWT payload"),null)}catch(o){return od("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gb(i){const e=_p(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof li&&OI(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function OI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(i){var E;const e=i.auth,n=await i.getIdToken(),a=await ac(i,xd(e,{idToken:n}));be(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const c=(E=o.providerUserInfo)!=null&&E.length?C1(o.providerUserInfo):[],h=PI(i.providerData,c),m=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),_=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function VI(i){const e=qt(i);await wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PI(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function C1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(i,e){const n=await I1(i,{},async()=>{const a=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await R1(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return i.emulatorConfig&&wo(i.emulatorConfig.host)&&(y.credentials="include"),N1.fetch()(h,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UI(i,e){return ya(i,"POST","/v2/accounts:revokeToken",ga(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=gb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await LI(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,h=new ho;return a&&(be(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kI(this,e)}reload(){return VI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await wd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await ac(this,MI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:E,emailVerified:C,isAnonymous:z,providerData:X,stsTokenManager:J}=n;be(E&&J,e,"internal-error");const Z=ho.fromJSON(this.name,J);be(typeof E=="string",e,"internal-error"),Ws(a,e.name),Ws(o,e.name),be(typeof C=="boolean",e,"internal-error"),be(typeof z=="boolean",e,"internal-error"),Ws(c,e.name),Ws(h,e.name),Ws(m,e.name),Ws(y,e.name),Ws(_,e.name),Ws(T,e.name);const te=new ii({uid:E,auth:e,email:o,emailVerified:C,displayName:a,isAnonymous:z,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:Z,createdAt:_,lastLoginAt:T});return X&&Array.isArray(X)&&(te.providerData=X.map(re=>({...re}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,n,a=!1){const o=new ho;o.updateFromServerResponse(n);const c=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await wd(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?C1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new ho;m.updateFromIdToken(a);const y=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;function cs(i){ms(i instanceof Function,"Expected a class definition");let e=yb.get(i);return e?(ms(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,yb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D1.type="NONE";const _b=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(i,e,n){return`firebase:${i}:${e}:${n}`}class fo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=ld(this.userKey,o.apiKey,c),this.fullPersistenceKey=ld("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xd(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new fo(cs(_b),e,a);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||cs(_b);const h=ld(a,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(h);if(T){let E;if(typeof T=="string"){const C=await xd(e,{idToken:T}).catch(()=>{});if(!C)break;E=await ii._fromGetAccountInfoResponse(e,C,T)}else E=ii._fromJSON(e,T);_!==c&&(m=E),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new fo(c,e,a):(c=y[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(h)}catch{}})),new fo(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P1(e))return"Blackberry";if(L1(e))return"Webos";if(k1(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(V1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function M1(i=sn()){return/firefox\//i.test(i)}function k1(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(i=sn()){return/crios\//i.test(i)}function j1(i=sn()){return/iemobile/i.test(i)}function V1(i=sn()){return/android/i.test(i)}function P1(i=sn()){return/blackberry/i.test(i)}function L1(i=sn()){return/webos/i.test(i)}function bp(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function HI(i=sn()){var e;return bp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function zI(){return X2()&&document.documentMode===10}function U1(i=sn()){return bp(i)||V1(i)||L1(i)||P1(i)||/windows phone/i.test(i)||j1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(i,e=[]){let n;switch(i){case"Browser":n=bb(sn());break;case"Worker":n=`${bb(sn())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((h,m)=>{try{const y=e(c);h(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(i,e={}){return ya(i,"GET","/v2/passwordPolicy",ga(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=6;class FI{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$I,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vb(this),this.idTokenSubscription=new vb(this),this.beforeStateQueue=new BI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xd(this,{idToken:e}),a=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===m)&&(y!=null&&y.user)&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(us(this));const n=e?qt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qI(this),n=new FI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ur("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await UI(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{h=!0,y()}}else{const y=e.addObserver(n);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _a(i){return qt(i)}class vb{constructor(e){this.auth=e,this.observer=null,this.addObserver=iN(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YI(i){Yd=i}function z1(i){return Yd.loadJS(i)}function QI(){return Yd.recaptchaEnterpriseScript}function KI(){return Yd.gapiScript}function XI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WI{constructor(){this.enterprise=new JI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZI="recaptcha-enterprise",B1="NO_RECAPTCHA";class eR{constructor(e){this.type=ZI,this.auth=_a(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{DI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new CI(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,h(_.siteKey)}}).catch(y=>{m(y)})})}function o(c,h,m){const y=window.grecaptcha;pb(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{h(_)}).catch(()=>{h(B1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WI().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(m=>{if(!n&&pb(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=QI();y.length!==0&&(y+=m),z1(y).then(()=>{o(m,c,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function Eb(i,e,n,a=!1,o=!1){const c=new eR(i);let h;if(o)h=B1;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Gm(i,e,n,a,o){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Eb(i,e,n,n==="getOobCode");return a(i,h)}else return a(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Eb(i,e,n,n==="getOobCode");return a(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(i,e){const n=dr(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ca(c,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function nR(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(cs);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function iR(i,e,n){const a=_a(i);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=q1(e),{host:h,port:m}=sR(e),y=m===null?"":`:${m}`,_={url:`${c}//${h}${y}/`},T=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(ca(_,a.config.emulator)&&ca(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,wo(h)?(m1(`${c}//${h}${y}`),p1("Auth",!0)):aR()}function q1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function sR(i){const e=q1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Tb(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:Tb(h)}}}function Tb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function aR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function rR(i,e){return ya(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(i,e){return gc(i,"POST","/v1/accounts:signInWithPassword",ga(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(i,e){return gc(i,"POST","/v1/accounts:signInWithEmailLink",ga(i,e))}async function cR(i,e){return gc(i,"POST","/v1/accounts:signInWithEmailLink",ga(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends vp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new rc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",oR);case"emailLink":return lR(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,a,"signUpPassword",rR);case"emailLink":return cR(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(i,e){return gc(i,"POST","/v1/accounts:signInWithIdp",ga(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="http://localhost";class ir extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const h=new ir(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,mo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:uR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hR(i){const e=ql($l(i)).link,n=e?ql($l(e)).deep_link_id:null,a=ql($l(i)).deep_link_id;return(a?ql($l(a)).link:null)||a||n||e||i}class Ep{constructor(e){const n=ql($l(e)),a=n.apiKey??null,o=n.oobCode??null,c=dR(n.mode??null);be(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hR(e);try{return new Ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Ep.parseLink(n);return be(a,"argument-error"),rc._fromEmailAndCode(e,a.code,a.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends yc{constructor(){super("facebook.com")}static credential(e){return ir._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ir._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return os.credential(n,a)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends yc{constructor(){super("github.com")}static credential(e){return ir._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends yc{constructor(){super("twitter.com")}static credential(e,n){return ir._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ea.credential(n,a)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(i,e){return gc(i,"POST","/v1/accounts:signUp",ga(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await ii._fromIdTokenResponse(e,a,o),h=xb(a);return new sr({user:c,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=xb(a);return new sr({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function xb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends li{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Sd(e,n,a,o)}}function $1(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(i,c,e,a):c})}async function mR(i,e,n=!1){const a=await ac(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return sr._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(i,e,n=!1){const{auth:a}=i;if(An(a.app))return Promise.reject(us(a));const o="reauthenticate";try{const c=await ac(i,$1(a,o,e,i),n);be(c.idToken,a,"internal-error");const h=_p(c.idToken);be(h,a,"internal-error");const{sub:m}=h;return be(i.uid===m,a,"user-mismatch"),sr._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&$n(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(i,e,n=!1){if(An(i.app))return Promise.reject(us(i));const a="signIn",o=await $1(i,a,e),c=await sr._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(c.user),c}async function gR(i,e){return F1(_a(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(i){const e=_a(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yR(i,e,n){if(An(i.app))return Promise.reject(us(i));const a=_a(i),h=await Gm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&G1(i),y}),m=await sr._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function _R(i,e,n){return An(i.app)?Promise.reject(us(i)):gR(qt(i),Ao.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&G1(i),a})}function bR(i,e,n,a){return qt(i).onIdTokenChanged(e,n,a)}function vR(i,e,n){return qt(i).beforeAuthStateChanged(e,n)}function ER(i,e,n,a){return qt(i).onAuthStateChanged(e,n,a)}function TR(i){return qt(i).signOut()}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,wR=10;class Q1 extends Y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);zI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wR):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const SR=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K1.type="SESSION";const X1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Qd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async _=>_(n.origin,c)),y=await AR(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,y)=>{const _=xp("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(E){const C=E;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(C.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function IR(i){Oi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function RR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function DR(){return W1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",MR=1,Nd="firebaseLocalStorage",Z1="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(i,e){return i.transaction([Nd],e?"readwrite":"readonly").objectStore(Nd)}function kR(){const i=indexedDB.deleteDatabase(J1);return new _c(i).toPromise()}function Ym(){const i=indexedDB.open(J1,MR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Nd,{keyPath:Z1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Nd)?e(a):(a.close(),await kR(),e(await Ym()))})})}async function wb(i,e,n){const a=Kd(i,!0).put({[Z1]:e,value:n});return new _c(a).toPromise()}async function OR(i,e){const n=Kd(i,!1).get(e),a=await new _c(n).toPromise();return a===void 0?null:a.value}function Sb(i,e){const n=Kd(i,!0).delete(e);return new _c(n).toPromise()}const jR=800,VR=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>VR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(DR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new NR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await wb(e,Ad,"1"),await Sb(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>wb(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>OR(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Kd(o,!1).getAll();return new _c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const PR=eE;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(i,e){return e?cs(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LR(i){return F1(i.auth,new wp(i),i.bypassAuthState)}function UR(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),pR(n,new wp(i),i.bypassAuthState)}async function HR(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),mR(n,new wp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return UR;default:$n(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new pc(2e3,1e4);async function BR(i,e,n){if(An(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const a=_a(i);EI(i,e,Tp);const o=tE(a,n);return new Za(a,"signInViaPopup",e,o).executeNotNull()}class Za extends nE{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zR.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="pendingRedirect",cd=new Map;class $R extends nE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const a=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(i,e){const n=QR(e),a=YR(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function GR(i,e){cd.set(i._key(),e)}function YR(i){return cs(i._redirectPersistence)}function QR(i){return ld(qR,i.config.apiKey,i.name)}async function KR(i,e,n=!1){if(An(i.app))return Promise.reject(us(i));const a=_a(i),o=tE(a,e),h=await new $R(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=600*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!iE(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ab(e))}saveEventToCache(e){this.cachedEventUids.add(Ab(e)),this.lastProcessedEventTime=Date.now()}}function Ab(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function iE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(i,e={}){return ya(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ZR(i);for(const n of e)try{if(iC(n))return}catch{}$n(i,"unauthorized-domain")}function iC(i){const e=$m(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!tC.test(n))return!1;if(eC.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new pc(3e4,6e4);function Nb(){const i=Oi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function aC(i){return new Promise((e,n)=>{var o,c,h;function a(){Nb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nb(),n(ai(i,"network-request-failed"))},timeout:sC.get()})}if((c=(o=Oi().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((h=Oi().gapi)!=null&&h.load)a();else{const m=XI("iframefcb");return Oi()[m]=()=>{gapi.load?a():n(ai(i,"network-request-failed"))},z1(`${KI()}?onload=${m}`).catch(y=>n(y))}}).catch(e=>{throw ud=null,e})}let ud=null;function rC(i){return ud=ud||aC(i),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new pc(5e3,15e3),lC="__/auth/iframe",cC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?yp(e,cC):`https://${i.config.authDomain}/${lC}`,a={apiKey:e.apiKey,appName:i.name,v:So},o=dC.get(i.config.apiHost);o&&(a.eid=o);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${mc(a).slice(1)}`}async function fC(i){const e=await rC(i),n=Oi().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:hC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=ai(i,"network-request-failed"),m=Oi().setTimeout(()=>{c(h)},oC.get());function y(){Oi().clearTimeout(m),o(a)}a.ping(y).then(y,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",_C="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bC(i,e,n,a=pC,o=gC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...mC,width:a.toString(),height:o.toString(),top:c,left:h},_=sn().toLowerCase();n&&(m=O1(_)?yC:n),M1(_)&&(e=e||_C,y.scrollbars="yes");const T=Object.entries(y).reduce((C,[z,X])=>`${C}${z}=${X},`,"");if(HI(_)&&m!=="_self")return vC(e||"",m),new Ib(null);const E=window.open(e||"",m,T);be(E,i,"popup-blocked");try{E.focus()}catch{}return new Ib(E)}function vC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="__/auth/handler",TC="emulator/auth/handler",xC=encodeURIComponent("fac");async function Rb(i,e,n,a,o,c){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:So,eventId:o};if(e instanceof Tp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",nN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,E]of Object.entries({}))h[T]=E}if(e instanceof yc){const T=e.getScopes().filter(E=>E!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await i._getAppCheckToken(),_=y?`#${xC}=${encodeURIComponent(y)}`:"";return`${wC(i)}?${mc(m).slice(1)}${_}`}function wC({config:i}){return i.emulator?yp(i,TC):`https://${i.authDomain}/${EC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class SC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=KR,this._overrideRedirectResult=GR}async _openPopup(e,n,a,o){var h;ms((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const c=await Rb(e,n,a,$m(),o);return bC(e,c,xp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await Rb(e,n,a,$m(),o);return IR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await fC(e),a=new WR(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{var h;const c=(h=o==null?void 0:o[0])==null?void 0:h[Nm];c!==void 0&&n(!!c),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U1()||k1()||bp()}}const AC=SC;var Cb="@firebase/auth",Db="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RC(i){Hi(new ri("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(i)},_=new GI(a,o,c,y);return nR(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Hi(new ri("auth-internal",e=>{const n=_a(e.getProvider("auth").getImmediate());return(a=>new NC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(Cb,Db,IC(i)),qn(Cb,Db,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=300,DC=f1("authIdTokenMaxAge")||CC;let Mb=null;const MC=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>DC)return;const o=n==null?void 0:n.token;Mb!==o&&(Mb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kC(i=mp()){const e=dr(i,"auth");if(e.isInitialized())return e.getImmediate();const n=tR(i,{popupRedirectResolver:AC,persistence:[PR,SR,X1]}),a=f1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=MC(c.toString());vR(n,h,()=>h(n.currentUser)),bR(n,m=>h(m))}}const o=d1("auth");return o&&iR(n,`http://${o}`),n}function OC(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}YI({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const c=ai("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",OC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RC("Browser");var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,sE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function N(){}N.prototype=I.prototype,R.F=I.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(D,S,k){for(var A=Array(arguments.length-2),he=2;he<arguments.length;he++)A[he-2]=arguments[he];return I.prototype[S].apply(D,A)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,N){N||(N=0);const D=Array(16);if(typeof I=="string")for(var S=0;S<16;++S)D[S]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(S=0;S<16;++S)D[S]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=R.g[0],N=R.g[1],S=R.g[2];let k=R.g[3],A;A=I+(k^N&(S^k))+D[0]+3614090360&4294967295,I=N+(A<<7&4294967295|A>>>25),A=k+(S^I&(N^S))+D[1]+3905402710&4294967295,k=I+(A<<12&4294967295|A>>>20),A=S+(N^k&(I^N))+D[2]+606105819&4294967295,S=k+(A<<17&4294967295|A>>>15),A=N+(I^S&(k^I))+D[3]+3250441966&4294967295,N=S+(A<<22&4294967295|A>>>10),A=I+(k^N&(S^k))+D[4]+4118548399&4294967295,I=N+(A<<7&4294967295|A>>>25),A=k+(S^I&(N^S))+D[5]+1200080426&4294967295,k=I+(A<<12&4294967295|A>>>20),A=S+(N^k&(I^N))+D[6]+2821735955&4294967295,S=k+(A<<17&4294967295|A>>>15),A=N+(I^S&(k^I))+D[7]+4249261313&4294967295,N=S+(A<<22&4294967295|A>>>10),A=I+(k^N&(S^k))+D[8]+1770035416&4294967295,I=N+(A<<7&4294967295|A>>>25),A=k+(S^I&(N^S))+D[9]+2336552879&4294967295,k=I+(A<<12&4294967295|A>>>20),A=S+(N^k&(I^N))+D[10]+4294925233&4294967295,S=k+(A<<17&4294967295|A>>>15),A=N+(I^S&(k^I))+D[11]+2304563134&4294967295,N=S+(A<<22&4294967295|A>>>10),A=I+(k^N&(S^k))+D[12]+1804603682&4294967295,I=N+(A<<7&4294967295|A>>>25),A=k+(S^I&(N^S))+D[13]+4254626195&4294967295,k=I+(A<<12&4294967295|A>>>20),A=S+(N^k&(I^N))+D[14]+2792965006&4294967295,S=k+(A<<17&4294967295|A>>>15),A=N+(I^S&(k^I))+D[15]+1236535329&4294967295,N=S+(A<<22&4294967295|A>>>10),A=I+(S^k&(N^S))+D[1]+4129170786&4294967295,I=N+(A<<5&4294967295|A>>>27),A=k+(N^S&(I^N))+D[6]+3225465664&4294967295,k=I+(A<<9&4294967295|A>>>23),A=S+(I^N&(k^I))+D[11]+643717713&4294967295,S=k+(A<<14&4294967295|A>>>18),A=N+(k^I&(S^k))+D[0]+3921069994&4294967295,N=S+(A<<20&4294967295|A>>>12),A=I+(S^k&(N^S))+D[5]+3593408605&4294967295,I=N+(A<<5&4294967295|A>>>27),A=k+(N^S&(I^N))+D[10]+38016083&4294967295,k=I+(A<<9&4294967295|A>>>23),A=S+(I^N&(k^I))+D[15]+3634488961&4294967295,S=k+(A<<14&4294967295|A>>>18),A=N+(k^I&(S^k))+D[4]+3889429448&4294967295,N=S+(A<<20&4294967295|A>>>12),A=I+(S^k&(N^S))+D[9]+568446438&4294967295,I=N+(A<<5&4294967295|A>>>27),A=k+(N^S&(I^N))+D[14]+3275163606&4294967295,k=I+(A<<9&4294967295|A>>>23),A=S+(I^N&(k^I))+D[3]+4107603335&4294967295,S=k+(A<<14&4294967295|A>>>18),A=N+(k^I&(S^k))+D[8]+1163531501&4294967295,N=S+(A<<20&4294967295|A>>>12),A=I+(S^k&(N^S))+D[13]+2850285829&4294967295,I=N+(A<<5&4294967295|A>>>27),A=k+(N^S&(I^N))+D[2]+4243563512&4294967295,k=I+(A<<9&4294967295|A>>>23),A=S+(I^N&(k^I))+D[7]+1735328473&4294967295,S=k+(A<<14&4294967295|A>>>18),A=N+(k^I&(S^k))+D[12]+2368359562&4294967295,N=S+(A<<20&4294967295|A>>>12),A=I+(N^S^k)+D[5]+4294588738&4294967295,I=N+(A<<4&4294967295|A>>>28),A=k+(I^N^S)+D[8]+2272392833&4294967295,k=I+(A<<11&4294967295|A>>>21),A=S+(k^I^N)+D[11]+1839030562&4294967295,S=k+(A<<16&4294967295|A>>>16),A=N+(S^k^I)+D[14]+4259657740&4294967295,N=S+(A<<23&4294967295|A>>>9),A=I+(N^S^k)+D[1]+2763975236&4294967295,I=N+(A<<4&4294967295|A>>>28),A=k+(I^N^S)+D[4]+1272893353&4294967295,k=I+(A<<11&4294967295|A>>>21),A=S+(k^I^N)+D[7]+4139469664&4294967295,S=k+(A<<16&4294967295|A>>>16),A=N+(S^k^I)+D[10]+3200236656&4294967295,N=S+(A<<23&4294967295|A>>>9),A=I+(N^S^k)+D[13]+681279174&4294967295,I=N+(A<<4&4294967295|A>>>28),A=k+(I^N^S)+D[0]+3936430074&4294967295,k=I+(A<<11&4294967295|A>>>21),A=S+(k^I^N)+D[3]+3572445317&4294967295,S=k+(A<<16&4294967295|A>>>16),A=N+(S^k^I)+D[6]+76029189&4294967295,N=S+(A<<23&4294967295|A>>>9),A=I+(N^S^k)+D[9]+3654602809&4294967295,I=N+(A<<4&4294967295|A>>>28),A=k+(I^N^S)+D[12]+3873151461&4294967295,k=I+(A<<11&4294967295|A>>>21),A=S+(k^I^N)+D[15]+530742520&4294967295,S=k+(A<<16&4294967295|A>>>16),A=N+(S^k^I)+D[2]+3299628645&4294967295,N=S+(A<<23&4294967295|A>>>9),A=I+(S^(N|~k))+D[0]+4096336452&4294967295,I=N+(A<<6&4294967295|A>>>26),A=k+(N^(I|~S))+D[7]+1126891415&4294967295,k=I+(A<<10&4294967295|A>>>22),A=S+(I^(k|~N))+D[14]+2878612391&4294967295,S=k+(A<<15&4294967295|A>>>17),A=N+(k^(S|~I))+D[5]+4237533241&4294967295,N=S+(A<<21&4294967295|A>>>11),A=I+(S^(N|~k))+D[12]+1700485571&4294967295,I=N+(A<<6&4294967295|A>>>26),A=k+(N^(I|~S))+D[3]+2399980690&4294967295,k=I+(A<<10&4294967295|A>>>22),A=S+(I^(k|~N))+D[10]+4293915773&4294967295,S=k+(A<<15&4294967295|A>>>17),A=N+(k^(S|~I))+D[1]+2240044497&4294967295,N=S+(A<<21&4294967295|A>>>11),A=I+(S^(N|~k))+D[8]+1873313359&4294967295,I=N+(A<<6&4294967295|A>>>26),A=k+(N^(I|~S))+D[15]+4264355552&4294967295,k=I+(A<<10&4294967295|A>>>22),A=S+(I^(k|~N))+D[6]+2734768916&4294967295,S=k+(A<<15&4294967295|A>>>17),A=N+(k^(S|~I))+D[13]+1309151649&4294967295,N=S+(A<<21&4294967295|A>>>11),A=I+(S^(N|~k))+D[4]+4149444226&4294967295,I=N+(A<<6&4294967295|A>>>26),A=k+(N^(I|~S))+D[11]+3174756917&4294967295,k=I+(A<<10&4294967295|A>>>22),A=S+(I^(k|~N))+D[2]+718787259&4294967295,S=k+(A<<15&4294967295|A>>>17),A=N+(k^(S|~I))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(S+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+S&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,I){I===void 0&&(I=R.length);const N=I-this.blockSize,D=this.C;let S=this.h,k=0;for(;k<I;){if(S==0)for(;k<=N;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<I;)if(D[S++]=R.charCodeAt(k++),S==this.blockSize){o(this,D),S=0;break}}else for(;k<I;)if(D[S++]=R[k++],S==this.blockSize){o(this,D),S=0;break}}this.h=S,this.o+=I},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,N=0;N<4;++N)for(let D=0;D<32;D+=8)R[I++]=this.g[N]>>>D&255;return R};function c(R,I){var N=m;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=I(R)}function h(R,I){this.h=I;const N=[];let D=!0;for(let S=R.length-1;S>=0;S--){const k=R[S]|0;D&&k==I||(N[S]=k,D=!1)}this.g=N}var m={};function y(R){return-128<=R&&R<128?c(R,function(I){return new h([I|0],I<0?-1:0)}):new h([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return Z(_(-R));const I=[];let N=1;for(let D=0;R>=N;D++)I[D]=R/N|0,N*=4294967296;return new h(I,0)}function T(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return Z(T(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(I,8));let D=E;for(let k=0;k<R.length;k+=8){var S=Math.min(8,R.length-k);const A=parseInt(R.substring(k,k+S),I);S<8?(S=_(Math.pow(I,S)),D=D.j(S).add(_(A))):(D=D.j(N),D=D.add(_(A)))}return D}var E=y(0),C=y(1),z=y(16777216);i=h.prototype,i.m=function(){if(J(this))return-Z(this).m();let R=0,I=1;for(let N=0;N<this.g.length;N++){const D=this.i(N);R+=(D>=0?D:4294967296+D)*I,I*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(X(this))return"0";if(J(this))return"-"+Z(this).toString(R);const I=_(Math.pow(R,6));var N=this;let D="";for(;;){const S=Ee(N,I).g;N=te(N,S.j(I));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=S,X(N))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function X(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function J(R){return R.h==-1}i.l=function(R){return R=te(this,R),J(R)?-1:X(R)?0:1};function Z(R){const I=R.g.length,N=[];for(let D=0;D<I;D++)N[D]=~R.g[D];return new h(N,~R.h).add(C)}i.abs=function(){return J(this)?Z(this):this},i.add=function(R){const I=Math.max(this.g.length,R.g.length),N=[];let D=0;for(let S=0;S<=I;S++){let k=D+(this.i(S)&65535)+(R.i(S)&65535),A=(k>>>16)+(this.i(S)>>>16)+(R.i(S)>>>16);D=A>>>16,k&=65535,A&=65535,N[S]=A<<16|k}return new h(N,N[N.length-1]&-2147483648?-1:0)};function te(R,I){return R.add(Z(I))}i.j=function(R){if(X(this)||X(R))return E;if(J(this))return J(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(J(R))return Z(this.j(Z(R)));if(this.l(z)<0&&R.l(z)<0)return _(this.m()*R.m());const I=this.g.length+R.g.length,N=[];for(var D=0;D<2*I;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(let S=0;S<R.g.length;S++){const k=this.i(D)>>>16,A=this.i(D)&65535,he=R.i(S)>>>16,Te=R.i(S)&65535;N[2*D+2*S]+=A*Te,re(N,2*D+2*S),N[2*D+2*S+1]+=k*Te,re(N,2*D+2*S+1),N[2*D+2*S+1]+=A*he,re(N,2*D+2*S+1),N[2*D+2*S+2]+=k*he,re(N,2*D+2*S+2)}for(R=0;R<I;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=I;R<2*I;R++)N[R]=0;return new h(N,0)};function re(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function ce(R,I){this.g=R,this.h=I}function Ee(R,I){if(X(I))throw Error("division by zero");if(X(R))return new ce(E,E);if(J(R))return I=Ee(Z(R),I),new ce(Z(I.g),Z(I.h));if(J(I))return I=Ee(R,Z(I)),new ce(Z(I.g),I.h);if(R.g.length>30){if(J(R)||J(I))throw Error("slowDivide_ only works with positive integers.");for(var N=C,D=I;D.l(R)<=0;)N=fe(N),D=fe(D);var S=de(N,1),k=de(D,1);for(D=de(D,2),N=de(N,2);!X(D);){var A=k.add(D);A.l(R)<=0&&(S=S.add(N),k=A),D=de(D,1),N=de(N,1)}return I=te(R,S.j(I)),new ce(S,I)}for(S=E;R.l(I)>=0;){for(N=Math.max(1,Math.floor(R.m()/I.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=_(N),A=k.j(I);J(A)||A.l(R)>0;)N-=D,k=_(N),A=k.j(I);X(k)&&(k=C),S=S.add(k),R=te(R,A)}return new ce(S,R)}i.B=function(R){return Ee(this,R).h},i.and=function(R){const I=Math.max(this.g.length,R.g.length),N=[];for(let D=0;D<I;D++)N[D]=this.i(D)&R.i(D);return new h(N,this.h&R.h)},i.or=function(R){const I=Math.max(this.g.length,R.g.length),N=[];for(let D=0;D<I;D++)N[D]=this.i(D)|R.i(D);return new h(N,this.h|R.h)},i.xor=function(R){const I=Math.max(this.g.length,R.g.length),N=[];for(let D=0;D<I;D++)N[D]=this.i(D)^R.i(D);return new h(N,this.h^R.h)};function fe(R){const I=R.g.length+1,N=[];for(let D=0;D<I;D++)N[D]=R.i(D)<<1|R.i(D-1)>>>31;return new h(N,R.h)}function de(R,I){const N=I>>5;I%=32;const D=R.g.length-N,S=[];for(let k=0;k<D;k++)S[k]=I>0?R.i(k+N)>>>I|R.i(k+N+1)<<32-I:R.i(k+N);return new h(S,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,sE=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=T,aa=h}).apply(typeof kb<"u"?kb:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,Fl,rE,dd,Qm,oE,lE,cE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(u,g){if(g)e:{var v=a;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in v))break e;v=v[L]}u=u[u.length-1],w=v[u],g=g(w),g!=w&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var v=[],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&v.push([w,g[w]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,v){return u.call.apply(u.bind,arguments)}function _(u,g,v){return _=y,_.apply(null,arguments)}function T(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function E(u,g){function v(){}v.prototype=g.prototype,u.Z=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,L,q){for(var ne=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ne[Ie-2]=arguments[Ie];return g.prototype[L].apply(w,ne)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const g=u.length;if(g>0){const v=Array(g);for(let w=0;w<g;w++)v[w]=u[w];return v}return[]}function X(u,g){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let ne=0;ne<q;ne++)u[v+ne]=L[ne]}else u.push(L)}}class J{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){h.setTimeout(()=>{throw u},0)}function te(){var u=R;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,v){const w=ce.get();w.set(g,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ce=new J(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,de=!1,R=new re,I=()=>{const u=Promise.resolve(void 0);fe=()=>{u.then(N)}};function N(){for(var u;u=te();){try{u.h.call(u.g)}catch(v){Z(v)}var g=ce;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}de=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function he(u,g){S.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}E(he,S),he.prototype.init=function(u,g){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,g,v,w,L){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!w,this.ha=L,this.key=++F,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,g,v){for(const w in u)g.call(v,u[w],w,u)}function $e(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function j(u){const g={};for(const v in u)g[v]=u[v];return g}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,g){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)u[v]=w[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,g,v,w,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Ce(u,g,w,L);return ne>-1?(g=u[ne],v||(g.fa=!1)):(g=new ie(g,this.src,q,!!w,L),g.fa=v,u.push(g)),g};function we(u,g){const v=g.type;if(v in u.g){var w=u.g[v],L=Array.prototype.indexOf.call(w,g,void 0),q;(q=L>=0)&&Array.prototype.splice.call(w,L,1),q&&(pe(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,g,v,w){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==w)return L}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),kt={};function ct(u,g,v,w,L){if(Array.isArray(g)){for(let q=0;q<g.length;q++)ct(u,g[q],v,w,L);return null}return v=Oo(v),u&&u[Te]?u.J(g,v,m(w)?!!w.capture:!1,L):va(u,g,v,!1,w,L)}function va(u,g,v,w,L,q){if(!g)throw Error("Invalid event type");const ne=m(L)?!!L.capture:!!L;let Ie=Ea(u);if(Ie||(u[Be]=Ie=new le(u)),v=Ie.add(g,v,w,ne,q),v.proxy)return v;if(w=gr(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)k||(L=ne),L===void 0&&(L=!1),u.addEventListener(g.toString(),w,L);else if(u.attachEvent)u.attachEvent(ci(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gr(){function u(v){return g.call(u.src,u.listener,v)}const g=Mo;return u}function yr(u,g,v,w,L){if(Array.isArray(g))for(var q=0;q<g.length;q++)yr(u,g[q],v,w,L);else w=m(w)?!!w.capture:!!w,v=Oo(v),u&&u[Te]?(u=u.i,q=String(g).toString(),q in u.g&&(g=u.g[q],v=Ce(g,v,w,L),v>-1&&(pe(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ea(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ce(g,v,w,L)),(v=u>-1?g[u]:null)&&_r(v))}function _r(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Te])we(g.i,u);else{var v=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(v,w,u.capture):g.detachEvent?g.detachEvent(ci(v),w):g.addListener&&g.removeListener&&g.removeListener(w),(v=Ea(g))?(we(v,u),v.h==0&&(v.src=null,g[Be]=null)):pe(u)}}}function ci(u){return u in kt?kt[u]:kt[u]="on"+u}function Mo(u,g){if(u.da)u=!0;else{g=new he(g,this);const v=u.listener,w=u.ha||u.src;u.fa&&_r(u),u=v.call(w,g)}return u}function Ea(u){return u=u[Be],u instanceof le?u:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(u){return typeof u=="function"?u:(u[ko]||(u[ko]=function(g){return u.handleEvent(g)}),u[ko])}function vt(){D.call(this),this.i=new le(this),this.M=this,this.G=null}E(vt,D),vt.prototype[Te]=!0,vt.prototype.removeEventListener=function(u,g,v,w){yr(this,u,g,v,w)};function Ot(u,g){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new S(g,u);else if(g instanceof S)g.target=g.target||u;else{var L=g;g=new S(w,u),se(g,L)}L=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=g.g=v[ne],L=ys(q,w,!0,g)&&L;if(q=g.g=u,L=ys(q,w,!0,g)&&L,L=ys(q,w,!1,g)&&L,v)for(ne=0;ne<v.length;ne++)q=g.g=v[ne],L=ys(q,w,!1,g)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const v=u.g[g];for(let w=0;w<v.length;w++)pe(v[w]);delete u.g[g],u.h--}}this.G=null},vt.prototype.J=function(u,g,v,w){return this.i.add(String(u),g,!1,v,w)},vt.prototype.K=function(u,g,v,w){return this.i.add(String(u),g,!0,v,w)};function ys(u,g,v,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let q=0;q<g.length;++q){const ne=g[q];if(ne&&!ne.da&&ne.capture==v){const Ie=ne.listener,gt=ne.ha||ne.src;ne.fa&&we(u.i,ne),L=Ie.call(gt,w)!==!1&&L}}return L&&!w.defaultPrevented}function hh(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(u,g||0)}function wc(u){u.g=hh(()=>{u.g=null,u.i&&(u.i=!1,wc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class an extends D{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(u){D.call(this),this.h=u,this.g={}}E(Ta,D);var jo=[];function Vo(u){je(u.g,function(g,v){this.g.hasOwnProperty(v)&&_r(g)},u),u.g={}}Ta.prototype.N=function(){Ta.Z.N.call(this),Vo(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=h.JSON.stringify,fh=h.JSON.parse,Sc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ac(){}function Nc(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){S.call(this,"d")}E($t,S);function In(){S.call(this,"c")}E(In,S);var pt={},Ic=null;function br(){return Ic=Ic||new vt}pt.Ia="serverreachability";function Rc(u){S.call(this,pt.Ia,u)}E(Rc,S);function ui(u){const g=br();Ot(g,new Rc(g))}pt.STAT_EVENT="statevent";function xa(u,g){S.call(this,pt.STAT_EVENT,u),this.stat=g}E(xa,S);function Et(u){const g=br();Ot(g,new xa(g,u))}pt.Ja="timingevent";function di(u,g){S.call(this,pt.Ja,u),this.size=g}E(di,S);function hi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function mh(u,g,v,w,L,q){u.info(function(){if(u.g)if(q){var ne="",Ie=q.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var gt=Ie[Ye].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Mn=ut.split("_");ne=Mn.length>=2&&Mn[1]=="type"?ne+(ut+"="+gt+"&"):ne+(ut+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+g+`
`+v+`
`+ne})}function Cc(u,g,v,w,L,q,ne){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+g+`
`+v+`
`+q+" "+ne})}function fi(u,g,v,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ph(u,v)+(w?" "+w:"")})}function wa(u,g){u.info(function(){return"TIMEOUT: "+g})}Gn.prototype.info=function(){};function ph(u,g){if(!u.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<w.length;ne++)w[ne]=""}}}}return _s(q)}catch{return g}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Aa(){}E(Aa,Ac),Aa.prototype.g=function(){return new XMLHttpRequest},Lo=new Aa;function Bi(u){return encodeURIComponent(String(u))}function Dc(u){var g=1;u=u.split(":");const v=[];for(;g>0&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function Yn(u,g,v,w){this.j=u,this.i=g,this.l=v,this.S=w||1,this.V=new Ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function mi(u,g,v){u.M=1,u.A=Na(wt(g)),u.u=v,u.R=!0,vr(u,null)}function vr(u,g){u.F=Date.now(),pi(u),u.B=wt(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),wr(v.i,"t",w),u.C=0,v=u.j.L,u.h=new Qn,u.g=Gc(u.j,v?g:null,!u.u),u.P>0&&(u.O=new an(_(u.Y,u,u.g),u.P)),g=u.V,v=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(jo[0]=L.toString()),L=jo);for(let q=0;q<L.length;q++){const ne=ct(v,L[q],w||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ui(),mh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Wn(u)==3?g.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Wn(this.g),gt=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Ye<=0?ui(3):ui(2)),gi(this);var g=this.g.ca();this.X=g;var v=gh(this);if(this.o=g==200,Cc(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var q=w;break t}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,Et(12),yn(this),Rn(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=kc(this,v),ut==Pt){Ie==4&&(this.m=4,Et(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Tt){this.m=4,Et(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,ut,null),yi(this,ut);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(ne),ne.P=!0,Et(11))}}else fi(this.i,this.l,v,null),yi(this,v);Ie==4&&yn(this),this.o&&!this.K&&(Ie==4?Bc(this.j,this):(this.o=!1,pi(this)))}else $i(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),yn(this),Rn(this)}}}catch{}finally{}};function gh(u){if(!Mc(u))return u.g.la();const g=Ft(u.g);if(g==="")return"";let v="";const w=g.length,L=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Rn(u),"";u.h.i=new h.TextDecoder}for(let q=0;q<w;q++)u.h.h=!0,v+=u.h.i.decode(g[q],{stream:!(L&&q==w-1)});return g.length=0,u.h.g+=v,u.C=0,u.h.g}function Mc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function kc(u,g){var v=u.C,w=g.indexOf(`
`,v);return w==-1?Pt:(v=Number(g.substring(v,w)),isNaN(v)?Tt:(w+=1,w+v>g.length?Pt:(g=g.slice(w,w+v),u.C=w+v,g)))}Yn.prototype.cancel=function(){this.K=!0,yn(this)};function pi(u){u.T=Date.now()+u.H,Er(u,u.H)}function Er(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(_(u.aa,u),g)}function gi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wa(this.i,this.B),this.M!=2&&(ui(),Et(17)),yn(this),this.m=2,Rn(this)):Er(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Bc(u.j,u)}function yn(u){gi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Vo(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function yi(u,g){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Rr(v),As(v);else break e;Oa(v),Et(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(_(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&Rr(v),!A(g))for(L=v.Ba.g.parse(g),g=0;g<L.length;g++){let Ye=L[g];const ut=Ye[0];if(!(ut<=v.K))if(v.K=ut,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Mn=Ye[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ai=Ye[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Jn=Ye[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Zn=u.g;if(Zn){const ja=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var q=w.h;q.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(zo(q,q.h),q.h=null))}if(w.G){const Cr=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cr&&(w.wa=Cr,Xe(w.J,w.G,Cr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ne=u;if(w.na=Fc(w,w.L?w.ba:null,w.W),ne.L){Bo(w.h,ne);var Ie=ne,gt=w.O;gt&&(Ie.H=gt),Ie.D&&(gi(Ie),pi(Ie)),w.g=ne}else Hc(w);v.i.length>0&&wi(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Si(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Si(v,7):Wo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}ui(4)}catch{}}var xt=class{constructor(u,g){this.g=u,this.map=g}};function Uo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function bi(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function zo(u,g){u.g?u.g.add(g):u.h=g}function Bo(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.G);return g}return z(u.i)}var Oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tr(u,g){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let L,q=null;w>=0?(L=u[v].substring(0,w),q=u[v].substring(w+1)):L=u[v],g(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof _n?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,$o(this,Lc(u.i)),this.m=u.m):u&&(g=String(u).match(Oc))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=vi(g[2]||""),this.g=vi(g[3]||"",!0),bs(this,g[4]),this.h=vi(g[5]||"",!0),$o(this,g[6]||"",!0),this.m=vi(g[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}_n.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ia(g,xr,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ia(g,xr,!0),"@"),u.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ia(v,v.charAt(0)=="/"?Fo:jc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ia(v,Vc)),u.join("")},_n.prototype.resolve=function(u){const g=wt(this);let v=!!u.j;v?Lt(g,u.j):v=!!u.o,v?g.o=u.o:v=!!u.g,v?g.g=u.g:v=u.u!=null;var w=u.h;if(v)bs(g,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=g.h.lastIndexOf("/");L!=-1&&(w=g.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ne=0;ne<L.length;){const Ie=L[ne++];Ie=="."?w&&ne==L.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&ne==L.length&&q.push("")):(q.push(Ie),w=!0)}w=q.join("/")}else w=L}return v?g.h=w:v=u.i.toString()!=="",v?$o(g,Lc(u.i)):v=!!u.m,v&&(g.m=u.m),g};function wt(u){return new _n(u)}function Lt(u,g,v){u.j=v?vi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function $o(u,g,v){g instanceof Es?(u.i=g,Sr(u.i,u.l)):(v||(g=Ia(g,vs)),u.i=new Es(g,u.l))}function Xe(u,g,v){u.i.set(g,v)}function Na(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ia(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xr=/[#\/\?@]/g,jc=/[#\?:]/g,Fo=/[#\?]/g,vs=/[#\?@]/g,Vc=/#/g;function Es(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&Tr(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Es.prototype,i.add=function(u,g){un(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Pc(u,g){un(u),g=Ts(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Go(u,g){return un(u),g=Ts(u,g),u.g.has(g)}i.forEach=function(u,g){un(this),this.g.forEach(function(v,w){v.forEach(function(L){u.call(g,L,w,this)},this)},this)};function Yo(u,g){un(u);let v=[];if(typeof g=="string")Go(u,g)&&(v=v.concat(u.g.get(Ts(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)v=v.concat(u[g]);return v}i.set=function(u,g){return un(this),this.i=null,u=Ts(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=Yo(this,u),u.length>0?String(u[0]):g):g};function wr(u,g,v){Pc(u,g),v.length>0&&(u.i=null,u.g.set(Ts(u,g),z(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let w=0;w<g.length;w++){var v=g[w];const L=Bi(v);v=Yo(this,v);for(let q=0;q<v.length;q++){let ne=L;v[q]!==""&&(ne+="="+Bi(v[q])),u.push(ne)}}return this.i=u.join("&")};function Lc(u){const g=new Es;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Ts(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Sr(u,g){g&&!u.j&&(un(u),u.i=null,u.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(Pc(this,w),wr(this,L,v))},u)),u.j=g}function Kn(u,g){const v=new Gn;if(h.Image){const w=new Image;w.onload=T(Cn,v,"TestLoadImage: loaded",!0,g,w),w.onerror=T(Cn,v,"TestLoadImage: error",!1,g,w),w.onabort=T(Cn,v,"TestLoadImage: abort",!1,g,w),w.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,g,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function Qo(u,g){const v=new Gn,w=new AbortController,L=setTimeout(()=>{w.abort(),Cn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(q=>{clearTimeout(L),q.ok?Cn(v,"TestPingServer: ok",!0,g):Cn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,g)})}function Cn(u,g,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function xs(){this.g=new Sc}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Ei,Ac),Ei.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(u,g){vt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ra,vt),i=Ra.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Xn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ar(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ar(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ws(this):Xn(this),this.readyState==3&&Ar(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},i.Na=function(u){this.g&&(this.response=u,ws(this))},i.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}i.setRequestHeader=function(u,g){this.A.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let g="";return je(u,function(v,w){g+=w,g+=":",g+=v,g+=`\r
`}),g}function Ca(u,g,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Dn(v),typeof u=="string"?v!=null&&Bi(v):Xe(u,g,v))}function et(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(et,vt);var Ti=/^https?$/i,Ko=["POST","PUT"];i=et.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,g,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){Da(this,q);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())v.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Ko,g,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Da(this,q)}};function Da(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Xo(u),qi(u)}function Xo(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ma(this):this.Xa())},i.Xa=function(){Ma(this)};function Ma(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var w;if(w=q===0){let ne=String(u.D).match(Oc)[1]||null;!ne&&h.self&&h.self.location&&(ne=h.self.location.protocol.slice(0,-1)),w=!Ti.test(ne?ne.toLowerCase():"")}v=w}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var L=Wn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Xo(u)}}finally{qi(u)}}}}function qi(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,g||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fh(g)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const g={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(A(u[w]))continue;var v=Dc(u[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[L]||[];g[L]=q,q.push(v)}$e(g,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Ss(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ss.prototype,i.ka=8,i.I=1,i.connect=function(u,g,v,w){Et(0),this.W=u,this.H=g||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Fc(this,null,this.W),wi(this)};function Wo(u){if(Nr(u),u.I==3){var g=u.V++,v=wt(u.J);if(Xe(v,"SID",u.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),ka(u,v),g=new Yn(u,u.j,g),g.M=2,g.A=Na(wt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.A,v=!0),v||(g.g=Gc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),pi(g)}$c(u)}function As(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function Nr(u){As(u),u.v&&(h.clearTimeout(u.v),u.v=null),Rr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function wi(u){if(!Ho(u.h)&&!u.m){u.m=!0;var g=u.Ea;fe||I(),de||(fe(),de=!0),R.add(g,u),u.D=0}}function Ir(u,g){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(_(u.Ea,u,g),qc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=j(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Uc(this,L,g),v=wt(this.J),Xe(v,"RID",u),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),ka(this,v),q&&(this.R?g="headers="+Bi(Dn(q))+"&"+g:this.u&&Ca(v,this.u,q)),zo(this.h,L),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),L.U=!0,mi(L,v,null)):mi(L,v,g),this.I=2}}else this.I==3&&(u?Jo(this,u):this.i.length==0||Ho(this.h)||Jo(this))};function Jo(u,g){var v;g?v=g.l:v=u.V++;const w=wt(u.J);Xe(w,"SID",u.M),Xe(w,"RID",v),Xe(w,"AID",u.K),ka(u,w),u.u&&u.o&&Ca(w,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Uc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zo(u.h,v),mi(v,w,g)}function ka(u,g){u.H&&je(u.H,function(v,w){Xe(g,w,v)}),u.l&&je({},function(v,w){Xe(g,w,v)})}function Uc(u,g,v){v=Math.min(u.i.length,v);const w=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ie=-1;for(;;){const gt=["count="+v];Ie==-1?v>0?(Ie=L[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Ye=!0;for(let ut=0;ut<v;ut++){var q=L[ut].g;const Mn=L[ut].map;if(q-=Ie,q<0)Ie=Math.max(0,L[ut].g-100),Ye=!1;else try{q="req"+q+"_"||"";try{var ne=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ai,Jn]of ne){let Zn=Jn;m(Jn)&&(Zn=_s(Jn)),gt.push(q+Ai+"="+encodeURIComponent(Zn))}}catch(Ai){throw gt.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{w&&w(Mn)}}if(Ye){ne=gt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),g.G=u,ne}function Hc(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;fe||I(),de||(fe(),de=!0),R.add(g,u),u.A=0}}function Oa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(_(u.Da,u),qc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(_(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),As(this),zc(this))};function Zo(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function zc(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=wt(u.na);Xe(g,"RID","rpc"),Xe(g,"SID",u.M),Xe(g,"AID",u.K),Xe(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(g,"TO",u.ia),Xe(g,"TYPE","xmlhttp"),ka(u,g),u.u&&u.o&&Ca(g,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Na(wt(g)),v.u=null,v.R=!0,vr(v,u)}i.Va=function(){this.C!=null&&(this.C=null,As(this),Oa(this),Et(19))};function Rr(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Bc(u,g){var v=null;if(u.g==g){Rr(u),Zo(u),u.g=null;var w=2}else if(bi(u.h,g))v=g.G,Bo(u.h,g),w=1;else return;if(u.I!=0){if(g.o)if(w==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var L=u.D;w=br(),Ot(w,new di(w,v)),wi(u)}else Hc(u);else if(L=g.m,L==3||L==0&&g.X>0||!(w==1&&Ir(u,g)||w==2&&Oa(u)))switch(v&&v.length>0&&(g=u.h,g.i=g.i.concat(v)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function qc(u,g){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*g}function Si(u,g){if(u.j.info("Error code "+g),g==2){var v=_(u.bb,u),w=u.Ua;const L=!w;w=new _n(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(w,"https"),Na(w),L?Kn(w.toString(),v):Qo(w.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(g),$c(u),Nr(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function $c(u){if(u.I=0,u.ja=[],u.l){const g=qo(u.h);(g.length!=0||u.i.length!=0)&&(X(u.ja,g),X(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function Fc(u,g,v){var w=v instanceof _n?wt(v):new _n(v);if(w.g!="")g&&(w.g=g+"."+w.g),bs(w,w.u);else{var L=h.location;w=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const q=new _n(null);w&&Lt(q,w),g&&(q.g=g),L&&bs(q,L),v&&(q.h=v),w=q}return v=u.G,g=u.wa,v&&g&&Xe(w,v,g),Xe(w,"VER",u.ka),ka(u,w),w}function Gc(u,g,v){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new et(new Ei({ab:v})):new et(u.ma),g.Fa(u.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}i=Yc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,g){return new rn(u,g)};function rn(u,g){vt.call(this),this.g=new Ss(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!A(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Fi(this)}E(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Wo(this.g)},rn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);g.i.push(new xt(g.Ya++,u)),g.I==3&&wi(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,rn.Z.N.call(this)};function Qc(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}E(Qc,$t);function Kc(){In.call(this),this.status=1}E(Kc,In);function Fi(u){this.g=u}E(Fi,Yc),Fi.prototype.ra=function(){Ot(this.g,"a")},Fi.prototype.qa=function(u){Ot(this.g,new Qc(u))},Fi.prototype.pa=function(u){Ot(this.g,new Kc)},Fi.prototype.oa=function(){Ot(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,cE=function(){return new Ns},lE=function(){return br()},oE=pt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,dd=Sa,Po.COMPLETE="complete",rE=Po,Nc.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Fl=Nc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,aE=et}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const Ob="@firebase/firestore",jb="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Gd("@firebase/firestore");function oo(){return ar.logLevel}function oe(i,...e){if(ar.logLevel<=Le.DEBUG){const n=e.map(Sp);ar.debug(`Firestore (${No}): ${i}`,...n)}}function ps(i,...e){if(ar.logLevel<=Le.ERROR){const n=e.map(Sp);ar.error(`Firestore (${No}): ${i}`,...n)}}function _o(i,...e){if(ar.logLevel<=Le.WARN){const n=e.map(Sp);ar.warn(`Firestore (${No}): ${i}`,...n)}}function Sp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,uE(i,a,n)}function uE(i,e,n){let a=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ps(a),new Error(a)}function Ke(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||uE(e,o,a)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class VC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ds,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ds)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new dE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class LC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=zC(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function Ue(i,e){return i<e?-1:i>e?1:0}function Km(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),c=e.charAt(a);if(o!==c)return Im(o)===Im(c)?Ue(o,c):Im(o)?1:-1}return Ue(i.length,e.length)}const BC=55296,qC=57343;function Im(i){const e=i.charCodeAt(0);return e>=BC&&e<=qC}function bo(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__name__";class ki{constructor(e,n,a){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=ki.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const a=ki.isNumericId(e),o=ki.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class at extends ki{construct(e,n,a){return new at(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const $C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends ki{construct(e,n,a){return new Wt(e,n,a)}static isValidIdentifier(e){return $C.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pb}static keyField(){return new Wt([Pb])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(c(),o++)}if(c(),h)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i,e,n){if(!n)throw new ae(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FC(i,e,n,a){if(e===!0&&a===!0)throw new ae(K.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lb(i){if(!ye.isDocumentKey(i))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ub(i){if(ye.isDocumentKey(i))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function rr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(i);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function bc(i,e){if(!fE(i))throw new ae(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const h=i[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new ae(K.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=-62135596800,zb=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*zb);return new lt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hb)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Dt("string",lt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new lt(0,0))}static max(){return new Se(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function GC(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new lt(n+1,0):new lt(n,a));return new ua(o,ye.empty(),e)}function YC(i){return new ua(i.readTime,i.key,oc)}class ua{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ua(Se.min(),ye.empty(),oc)}static max(){return new ua(Se.max(),ye.empty(),oc)}}function QC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==KC)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,a)=>{n(e)}))}static reject(e){return new ee(((n,a)=>{a(e)}))}static waitFor(e){return new ee(((n,a)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(y=>a(y)))})),h=!0,c===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next((o=>o?ee.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new ee(((a,o)=>{const c=e.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next((T=>{h[_]=T,++m,m===c&&a(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ee(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function WC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Jd(i){return i==null}function Id(i){return i===0&&1/i==-1/0}function JC(i){return typeof i=="number"&&Number.isInteger(i)&&!Id(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="";function ZC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Bb(e)),e=eD(i.get(n),e);return Bb(e)}function eD(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case mE:n+="";break;default:n+=c}}return n}function Bb(i){return i+mE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function hr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function pE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new Xt(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class $b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new si([])}unionWith(e){let n=new Vt(Wt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gE("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const tD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=tD.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ha(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="server_timestamp",_E="__type__",bE="__previous_value__",vE="__local_write_time__";function Ip(i){var n,a;return((a=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[_E])==null?void 0:a.stringValue)===yE}function Zd(i){const e=i.mapValue.fields[bE];return Ip(e)?Zd(e):e}function lc(i){const e=da(i.mapValue.fields[vE].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,a,o,c,h,m,y,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const Rd="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||Rd}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__type__",iD="__max__",id={mapValue:{}},TE="__vector__",Cd="value";function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:aD(i)?9007199254740991:sD(i)?10:11:ve(28295,{value:i})}function zi(i,e){if(i===e)return!0;const n=fa(i);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lc(i).isEqual(lc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=da(o.timestampValue),m=da(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ha(o.bytesValue).isEqual(ha(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),m=bt(c.doubleValue);return h===m?Id(h)===Id(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return bo(i.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(qb(h)!==qb(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!zi(h[y],m[y])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function uc(i,e){return(i.values||[]).find((n=>zi(n,e)))!==void 0}function vo(i,e){if(i===e)return 0;const n=fa(i),a=fa(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=bt(c.integerValue||c.doubleValue),y=bt(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return Fb(i.timestampValue,e.timestampValue);case 4:return Fb(lc(i),lc(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=ha(c),y=ha(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),y=h.split("/");for(let _=0;_<m.length&&_<y.length;_++){const T=Ue(m[_],y[_]);if(T!==0)return T}return Ue(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Ue(bt(c.latitude),bt(h.latitude));return m!==0?m:Ue(bt(c.longitude),bt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Gb(i.arrayValue,e.arrayValue);case 10:return(function(c,h){var C,z,X,J;const m=c.fields||{},y=h.fields||{},_=(C=m[Cd])==null?void 0:C.arrayValue,T=(z=y[Cd])==null?void 0:z.arrayValue,E=Ue(((X=_==null?void 0:_.values)==null?void 0:X.length)||0,((J=T==null?void 0:T.values)==null?void 0:J.length)||0);return E!==0?E:Gb(_,T)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===id.mapValue&&h===id.mapValue)return 0;if(c===id.mapValue)return 1;if(h===id.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=h.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let E=0;E<y.length&&E<T.length;++E){const C=Km(y[E],T[E]);if(C!==0)return C;const z=vo(m[y[E]],_[T[E]]);if(z!==0)return z}return Ue(y.length,T.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Fb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=da(i),a=da(e),o=Ue(n.seconds,a.seconds);return o!==0?o:Ue(n.nanos,a.nanos)}function Gb(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=vo(n[o],a[o]);if(c)return c}return Ue(n.length,a.length)}function Eo(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=da(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ha(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=Xm(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of a)c?c=!1:o+=",",o+=`${h}:${Xm(n.fields[h])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function hd(i){switch(fa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zd(i);return e?16+hd(e):16;case 5:return 2*i.stringValue.length;case 6:return ha(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+hd(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return hr(a.fields,((c,h)=>{o+=c.length+hd(h)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function Yb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wm(i){return!!i&&"integerValue"in i}function Rp(i){return!!i&&"arrayValue"in i}function Qb(i){return!!i&&"nullValue"in i}function Kb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fd(i){return!!i&&"mapValue"in i}function sD(i){var n,a;return((a=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[EE])==null?void 0:a.stringValue)===TE}function Zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return hr(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Zl(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return e}return{...i}}function aD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Wt.emptyPath(),a={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=Zl(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];fd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){hr(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new zn(Zl(this.value))}}function xE(i){const e=[];return hr(i.fields,((n,a)=>{const o=new Wt([n]);if(fd(a)){const c=xE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,a,o,c,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,a,o){return new nn(e,1,n,Se.min(),a,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.position=e,this.inclusive=n}}function Xb(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(h.referenceValue),n.key):a=vo(h,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Wb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!zi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function rD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{}class Ct extends wE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new lD(e,n,a):n==="array-contains"?new dD(e,a):n==="in"?new hD(e,a):n==="not-in"?new fD(e,a):n==="array-contains-any"?new mD(e,a):new Ct(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new cD(e,a):new uD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends wE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return SE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(i){return i.op==="and"}function AE(i){return oD(i)&&SE(i)}function oD(i){for(const e of i.filters)if(e instanceof oi)return!1;return!0}function Jm(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(AE(i))return i.filters.map((e=>Jm(e))).join(",");{const e=i.filters.map((n=>Jm(n))).join(",");return`${i.op}(${e})`}}function NE(i,e){return i instanceof Ct?(function(a,o){return o instanceof Ct&&a.op===o.op&&a.field.isEqual(o.field)&&zi(a.value,o.value)})(i,e):i instanceof oi?(function(a,o){return o instanceof oi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,h,m)=>c&&NE(h,o.filters[m])),!0):!1})(i,e):void ve(19439)}function IE(i){return i instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(i):i instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(IE).join(" ,")+"}"})(i):"Filter"}class lD extends Ct{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class cD extends Ct{constructor(e,n){super(e,"in",n),this.keys=RE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uD extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=RE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RE(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>ye.fromName(a.referenceValue)))}class dD extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&uc(n.arrayValue,this.value)}}class hD extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class fD extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class mD extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>uc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n=null,a=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Jb(i,e=null,n=[],a=[],o=null,c=null,h=null){return new pD(i,e,n,a,o,c,h)}function Cp(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Jm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Eo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Eo(a))).join(",")),e.Te=n}return e.Te}function Dp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!rD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!NE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Wb(i.startAt,e.startAt)&&Wb(i.endAt,e.endAt)}function Zm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n=null,a=[],o=[],c=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gD(i,e,n,a,o,c,h,m){return new Co(i,e,n,a,o,c,h,m)}function Mp(i){return new Co(i)}function Zb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CE(i){return i.collectionGroup!==null}function ec(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Wt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dc(c,a))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new dc(Wt.keyField(),a))}return e.Ie}function ji(i){const e=Ne(i);return e.Ee||(e.Ee=yD(e,ec(i))),e.Ee}function yD(i,e){if(i.limitType==="F")return Jb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dc(o.field,c)}));const n=i.endAt?new Dd(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Dd(i.startAt.position,i.startAt.inclusive):null;return Jb(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function ep(i,e){const n=i.filters.concat([e]);return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Md(i,e,n){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function eh(i,e){return Dp(ji(i),ji(e))&&i.limitType===e.limitType}function DE(i){return`${Cp(ji(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>IE(o))).join(", ")}]`),Jd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${a})`})(ji(i))}; limitType=${i.limitType})`}function th(i,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,o){for(const c of ec(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(h,m,y){const _=Xb(h,m,y);return h.inclusive?_<=0:_<0})(a.startAt,ec(a),o)||a.endAt&&!(function(h,m,y){const _=Xb(h,m,y);return h.inclusive?_>=0:_>0})(a.endAt,ec(a),o))})(i,e)}function _D(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ME(i){return(e,n)=>{let a=!1;for(const o of ec(i)){const c=bD(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function bD(i,e,n){const a=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,h,m){const y=h.data.field(c),_=m.data.field(c);return y!==null&&_!==null?vo(y,_):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hr(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new ht(ye.comparator);function gs(){return vD}const kE=new ht(ye.comparator);function Gl(...i){let e=kE;for(const n of i)e=e.insert(n.key,n);return e}function OE(i){let e=kE;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function er(){return tc()}function jE(){return tc()}function tc(){return new fr((i=>i.toString()),((i,e)=>i.isEqual(e)))}const ED=new ht(ye.comparator),TD=new Vt(ye.comparator);function He(...i){let e=TD;for(const n of i)e=e.add(n);return e}const xD=new Vt(Ue);function wD(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function VE(i){return{integerValue:""+i}}function SD(i,e){return JC(e)?VE(e):kp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function AD(i,e,n){return i instanceof kd?(function(o,c){const h={fields:{[_E]:{stringValue:yE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ip(c)&&(c=Zd(c)),c&&(h.fields[bE]=c),{mapValue:h}})(n,e):i instanceof hc?LE(i,e):i instanceof fc?UE(i,e):(function(o,c){const h=PE(o,c),m=ev(h)+ev(o.Ae);return Wm(h)&&Wm(o.Ae)?VE(m):kp(o.serializer,m)})(i,e)}function ND(i,e,n){return i instanceof hc?LE(i,e):i instanceof fc?UE(i,e):n}function PE(i,e){return i instanceof Od?(function(a){return Wm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class kd extends nh{}class hc extends nh{constructor(e){super(),this.elements=e}}function LE(i,e){const n=HE(e);for(const a of i.elements)n.some((o=>zi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class fc extends nh{constructor(e){super(),this.elements=e}}function UE(i,e){let n=HE(e);for(const a of i.elements)n=n.filter((o=>!zi(o,a)));return{arrayValue:{values:n}}}class Od extends nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ev(i){return bt(i.integerValue||i.doubleValue)}function HE(i){return Rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ID(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof hc&&o instanceof hc||a instanceof fc&&o instanceof fc?bo(a.elements,o.elements,zi):a instanceof Od&&o instanceof Od?zi(a.Ae,o.Ae):a instanceof kd&&o instanceof kd})(i.transform,e.transform)}class RD{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function md(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ih{}function zE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qE(i.key,hs.none()):new vc(i.key,i.data,hs.none());{const n=i.data,a=zn.empty();let o=new Vt(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?a.delete(c):a.set(c,h),o=o.add(c)}return new mr(i.key,a,new si(o.toArray()),hs.none())}}function CD(i,e,n){i instanceof vc?(function(o,c,h){const m=o.value.clone(),y=nv(o.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof mr?(function(o,c,h){if(!md(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=nv(o.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(BE(o)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function nc(i,e,n,a){return i instanceof vc?(function(c,h,m,y){if(!md(c.precondition,h))return m;const _=c.value.clone(),T=iv(c.fieldTransforms,y,h);return _.setAll(T),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(i,e,n,a):i instanceof mr?(function(c,h,m,y){if(!md(c.precondition,h))return m;const _=iv(c.fieldTransforms,y,h),T=h.data;return T.setAll(BE(c)),T.setAll(_),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,a):(function(c,h,m){return md(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function DD(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),c=PE(a.transform,o||null);c!=null&&(n===null&&(n=zn.empty()),n.set(a.field,c))}return n||null}function tv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&bo(a,o,((c,h)=>ID(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vc extends ih{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends ih{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function nv(i,e,n){const a=new Map;Ke(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,m=e.data.field(c.field);a.set(c.field,ND(h,m,n[o]))}return a}function iv(i,e,n){const a=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);a.set(o.field,AD(c,h,e))}return a}class qE extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MD extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&CD(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=nc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=nc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=jE();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const y=zE(h,m);y!==null&&a.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((n,a)=>tv(n,a)))&&bo(this.baseMutations,e.baseMutations,((n,a)=>tv(n,a)))}}class Op{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return ED})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,a[h].version);return new Op(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function VD(i){switch(i){case K.OK:return ve(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function $E(i){if(i===void 0)return ps("GRPC error has no .code"),K.UNKNOWN;switch(i){case Rt.OK:return K.OK;case Rt.CANCELLED:return K.CANCELLED;case Rt.UNKNOWN:return K.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return K.INTERNAL;case Rt.UNAVAILABLE:return K.UNAVAILABLE;case Rt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Rt.NOT_FOUND:return K.NOT_FOUND;case Rt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Rt.ABORTED:return K.ABORTED;case Rt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Rt.DATA_LOSS:return K.DATA_LOSS;default:return ve(39323,{code:i})}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new aa([4294967295,4294967295],0);function sv(i){const e=PD().encode(i),n=new sE;return n.update(e),new Uint8Array(n.digest())}function av(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new aa([n,a],0),new aa([o,c],0)]}class jp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=aa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(aa.fromNumber(a)));return o.compare(LD)===1&&(o=new aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sv(e),[a,o]=av(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(a,o,c);if(!this.we(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new jp(c,o,n);return a.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=sv(e),[a,o]=av(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(a,o,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new sh(Se.min(),o,new ht(Ue),gs(),He())}}class Ec{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Ec(a,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class FE{constructor(e,n){this.targetId=e,this.Ce=n}}class GE{constructor(e,n,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class rv{constructor(){this.ve=0,this.Fe=ov(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),a=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new Ec(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UD{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=sd(),this.He=sd(),this.Ye=new ht(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Zm(c))if(a===0){const h=new ye(c.path);this.et(n,h,nn.newNoDocument(h,Se.min()))}else Ke(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=ha(a).toUint8Array()}catch(y){if(y instanceof gE)return _o("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new jp(h,o,c)}catch(y){return _o(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Zm(m.target)){const y=new ye(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,nn.newNoDocument(y,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let a=He();this.He.forEach(((c,h)=>{let m=!0;h.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new sh(e,n,this.Ye,this.je,a);return this.je=gs(),this.Je=sd(),this.He=sd(),this.Ye=new ht(Ue),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sd(){return new ht(ye.comparator)}function ov(){return new ht(ye.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BD={and:"AND",or:"OR"};class qD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(i,e){return i.useProto3Json||Jd(e)?e:{value:e}}function jd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $D(i,e){return jd(i,e.toTimestamp())}function Vi(i){return Ke(!!i,49232),Se.fromTimestamp((function(n){const a=da(n);return new lt(a.seconds,a.nanos)})(i))}function Vp(i,e){return np(i,e).canonicalString()}function np(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function QE(i){const e=at.fromString(i);return Ke(ZE(e),10190,{key:e.toString()}),e}function ip(i,e){return Vp(i.databaseId,e.path)}function Rm(i,e){const n=QE(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(XE(n))}function KE(i,e){return Vp(i.databaseId,e)}function FD(i){const e=QE(i);return e.length===4?at.emptyPath():XE(e)}function sp(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function XE(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function lv(i,e,n){return{name:ip(i,e),fields:n.value.mapValue.fields}}function GD(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(_){const T=_.code===void 0?K.UNKNOWN:$E(_.code);return new ae(T,_.message||"")})(h);n=new GE(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Rm(i,a.document.name),c=Vi(a.document.updateTime),h=a.document.createTime?Vi(a.document.createTime):Se.min(),m=new zn({mapValue:{fields:a.document.fields}}),y=nn.newFoundDocument(o,c,h,m),_=a.targetIds||[],T=a.removedTargetIds||[];n=new pd(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Rm(i,a.document),c=a.readTime?Vi(a.readTime):Se.min(),h=nn.newNoDocument(o,c),m=a.removedTargetIds||[];n=new pd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Rm(i,a.document),c=a.removedTargetIds||[];n=new pd([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,h=new jD(o,c),m=a.targetId;n=new FE(m,h)}}return n}function YD(i,e){let n;if(e instanceof vc)n={update:lv(i,e.key,e.value)};else if(e instanceof qE)n={delete:ip(i,e.key)};else if(e instanceof mr)n={update:lv(i,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof MD))return ve(16599,{Vt:e.type});n={verify:ip(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,h){const m=h.transform;if(m instanceof kd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Od)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:$D(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(i,e.precondition)),n}function QD(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?Vi(o.updateTime):Vi(c);return h.isEqual(Se.min())&&(h=Vi(c)),new RD(h,o.transformResults||[])})(n,e)))):[]}function KD(i,e){return{documents:[KE(i,e.path)]}}function XD(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=KE(i,o);const c=(function(_){if(_.length!==0)return JE(oi.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(_){if(_.length!==0)return _.map((T=>(function(C){return{field:co(C.field),direction:ZD(C.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=tp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function WD(i){let e=FD(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(E){const C=WE(E);return C instanceof oi&&AE(C)?C.getFilters():[C]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((C=>(function(X){return new dc(uo(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let C;return C=typeof E=="object"?E.value:E,Jd(C)?null:C})(n.limit));let y=null;n.startAt&&(y=(function(E){const C=!!E.before,z=E.values||[];return new Dd(z,C)})(n.startAt));let _=null;return n.endAt&&(_=(function(E){const C=!E.before,z=E.values||[];return new Dd(z,C)})(n.endAt)),gD(e,o,h,c,m,"F",y,_)}function JD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=uo(n.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(n.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(n.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ct.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((a=>WE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function ZD(i){return HD[i]}function e4(i){return zD[i]}function t4(i){return BD[i]}function co(i){return{fieldPath:i.canonicalString()}}function uo(i){return Wt.fromServerFormat(i.fieldPath)}function JE(i){return i instanceof Ct?(function(n){if(n.op==="=="){if(Kb(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kb(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:e4(n.op),value:n.value}}})(i):i instanceof oi?(function(n){const a=n.getFilters().map((o=>JE(o)));return a.length===1?a[0]:{compositeFilter:{op:t4(n.op),filters:a}}})(i):ve(54877,{filter:i})}function n4(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,a,o,c=Se.min(),h=Se.min(),m=Jt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.yt=e}}function s4(i){const e=WD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Md(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Cn=new r4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ua.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Vt(at.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(eT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",o4=1048576;function dv([i,e],[n,a]){const o=Ue(i,n);return o===0?Ue(e,a):o}class l4{constructor(e){this.Ir=e,this.buffer=new Vt(dv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();dv(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c4{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?oe(uv,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class u4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Wd.ce);const a=new l4(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(cv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,h,m,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(a=E,m=Date.now(),this.removeTargets(e,a,n)))).next((E=>(c=E,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(_=Date.now(),oo()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${E} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function d4(i,e){return new u4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.changes=new fr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&nc(a.mutation,o,si.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=He()){const o=er();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let h=Gl();return c.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const a=er();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,He())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,a,o){let c=gs();const h=tc(),m=(function(){return tc()})();return n.forEach(((y,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof mr)?c=c.insert(_.key,_):T!==void 0?(h.set(_.key,T.mutation.getFieldMask()),nc(T.mutation,_,T.mutation.getFieldMask(),lt.now())):h.set(_.key,si.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>h.set(_,T))),n.forEach(((_,T)=>m.set(_,new f4(T,h.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=tc();let o=new ht(((h,m)=>h-m)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let T=a.get(y)||si.empty();T=m.applyToLocalView(_,T),a.set(y,T);const E=(o.get(m.batchId)||He()).add(y);o=o.insert(m.batchId,E)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,T=y.value,E=jE();T.forEach((C=>{if(!c.has(C)){const z=zE(n.get(C),a.get(C));z!==null&&E.set(C,z),c=c.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,E))}return ee.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):ee.resolve(er());let m=oc,y=c;return h.next((_=>ee.forEach(_,((T,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),c.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{y=y.insert(T,C)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,He()))).next((T=>({batchId:m,changes:OE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((a=>{let o=Gl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,c).next((m=>ee.forEach(m,(y=>{const _=(function(E,C){return new Co(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((T=>{T.forEach(((E,C)=>{h=h.insert(E,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((h=>{c.forEach(((y,_)=>{const T=_.getKey();h.get(T)===null&&(h=h.insert(T,nn.newInvalidDocument(T)))}));let m=Gl();return h.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&nc(T.mutation,_,si.empty(),lt.now()),th(n,_)&&(m=m.insert(y,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:s4(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=er();return ee.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.St(e,n,c)})),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=er(),c=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new ht(((_,T)=>_-T));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=er(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=er(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>m.set(_,T))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new OD(n,a));let c=this.qr.get(n);c===void 0&&(c=He(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new zt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ye(new at([])),a=new zt(n,e),o=new zt(n,e+1),c=[];return this.Ur.forEachInRange([a,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),a=new zt(n,e),o=new zt(n,e+1);let c=He();return this.Ur.forEachInRange([a,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new zt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kD(c,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Np:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(h=>{const m=this.Xr(h.Yr);c.push(m)})),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Vt(Ue);return n.forEach((o=>{const c=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(m=>{a=a.add(m.Yr)}))})),ee.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const h=new zt(new ye(c),0);let m=new Vt(Ue);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ee.forEach(n.mutations,(o=>{const c=new zt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new zt(n,0),o=this.Zr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let a=gs();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))})),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=gs();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||QC(YC(T),a)<=0||(o.has(T.key)||th(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,n,a,o){ve(9500)}ii(e,n){return ee.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new v4(this)}getSize(e){return ee.resolve(this.size)}}class v4 extends h4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.persistence=e,this.si=new fr((n=>Cp(n)),Dp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new To(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(c).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wd(0),this.li=!1,this.li=!0,this.hi=new y4,this.referenceDelegate=e(this),this.Pi=new E4(this),this.indexManager=new a4,this.remoteDocumentCache=(function(o){return new b4(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new i4(n),this.Ii=new p4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new _4(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){oe("MemoryPersistence","Starting transaction:",e);const o=new T4(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ee.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class T4 extends XC{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vd{constructor(e,n){this.persistence=e,this.pi=new fr((a=>ZC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=d4(this,n)}static mi(e,n){return new Vd(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?ee.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(a++,c.removeEntry(h,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hd(e.data.value)),n}br(e,n,a){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=He(),o=He();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Up(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W2()?8:WC(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,o,a).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new x4;return this.Ss(e,n,h).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>c.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(oo()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(oo()<=Le.DEBUG&&oe("QueryEngine","Query:",lo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(oo()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ee.resolve())}ys(e,n){if(Zb(n))return ee.resolve(null);let a=ji(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Md(n,null,"F"),a=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const h=He(...c);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(n,m);return this.Cs(n,_,h,y.readTime)?this.ys(e,Md(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,a,o){return Zb(n)||o.isEqual(Se.min())?ee.resolve(null):this.ps.getDocuments(e,a).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,a,o)?ee.resolve(null):(oo()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,GC(o,oc)).next((m=>m)))}))}Ds(e,n){let a=new Vt(ME(e));return n.forEach(((o,c)=>{th(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return oo()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,ua.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",S4=3e8;class A4{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ue),this.xs=new fr((c=>Cp(c)),Dp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function N4(i,e,n,a){return new A4(i,e,n,a)}async function nT(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const h=[],m=[];let y=He();for(const _ of o){h.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){m.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:h,addedBatchIds:m})))}))}))}function I4(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,_,T){const E=_.batch,C=E.keys();let z=ee.resolve();return C.forEach((X=>{z=z.next((()=>T.getEntry(y,X))).next((J=>{const Z=_.docVersions.get(X);Ke(Z!==null,48541),J.version.compareTo(Z)<0&&(E.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(y,E)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let y=He();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function iT(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function R4(i,e){const n=Ne(i),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,E)=>{const C=o.get(E);if(!C)return;m.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,E))));let z=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?z=z.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,a)),o=o.insert(E,z),(function(J,Z,te){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=S4?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(C,z,T)&&m.push(n.Pi.updateTargetData(c,z))}));let y=gs(),_=He();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),m.push(C4(c,h,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!a.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));m.push(T)}return ee.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.Ms=o,c)))}function C4(i,e,n){let a=He(),o=He();return n.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let h=gs();return n.forEach(((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):oe(Hp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function D4(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function M4(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((c=>c?(o=c,ee.resolve(o)):n.Pi.allocateTargetId(a).next((h=>(o=new ta(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function ap(i,e,n){const a=Ne(i),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(h=>a.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ro(h))throw h;oe(Hp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function hv(i,e,n){const a=Ne(i);let o=Se.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,_,T){const E=Ne(y),C=E.xs.get(T);return C!==void 0?ee.resolve(E.Ms.get(C)):E.Pi.getTargetData(_,T)})(a,h,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?c:He()))).next((m=>(k4(a,_D(e),m),{documents:m,Qs:c})))))}function k4(i,e,n){let a=i.Os.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class fv{constructor(){this.activeTargetIds=wD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.Mo=new fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fv,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(mv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(mv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function rp(){return ad===null?ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",V4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Rd?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const h=rp(),m=this.zo(e,n.toUriEncodedString());oe(Cm,`Sending RPC '${e}' ${h}:`,m,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(m),T=wo(_);return this.Jo(e,m,y,a,T).then((E=>(oe(Cm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw _o(Cm,`RPC '${e}' ${h} failed with error: `,E,"url: ",m,"request:",a),E}))}Ho(e,n,a,o,c,h){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const a=V4[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class U4 extends P4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const h=rp();return new Promise(((m,y)=>{const _=new aE;_.setWithCredentials(!0),_.listenOnce(rE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case dd.NO_ERROR:const E=_.getResponseJson();oe(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),m(E);break;case dd.TIMEOUT:oe(en,`RPC '${e}' ${h} timed out`),y(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const C=_.getStatus();if(oe(en,`RPC '${e}' ${h} failed with status:`,C,"response text:",_.getResponseText()),C>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const X=z==null?void 0:z.error;if(X&&X.status&&X.message){const J=(function(te){const re=te.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(re)>=0?re:K.UNKNOWN})(X.status);y(new ae(J,X.message))}else y(new ae(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae(K.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(en,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);oe(en,`RPC '${e}' ${h} sending request:`,o),_.send(n,"POST",T,a,15)}))}T_(e,n,a){const o=rp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=cE(),m=lE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const T=c.join("");oe(en,`Creating RPC '${e}' stream ${o}: ${T}`,y);const E=h.createWebChannel(T,y);this.I_(E);let C=!1,z=!1;const X=new L4({Yo:Z=>{z?oe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(C||(oe(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),C=!0),oe(en,`RPC '${e}' stream ${o} sending:`,Z),E.send(Z))},Zo:()=>E.close()}),J=(Z,te,re)=>{Z.listen(te,(ce=>{try{re(ce)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return J(E,Fl.EventType.OPEN,(()=>{z||(oe(en,`RPC '${e}' stream ${o} transport opened.`),X.o_())})),J(E,Fl.EventType.CLOSE,(()=>{z||(z=!0,oe(en,`RPC '${e}' stream ${o} transport closed`),X.a_(),this.E_(E))})),J(E,Fl.EventType.ERROR,(Z=>{z||(z=!0,_o(en,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),X.a_(new ae(K.UNAVAILABLE,"The operation could not be completed")))})),J(E,Fl.EventType.MESSAGE,(Z=>{var te;if(!z){const re=Z.data[0];Ke(!!re,16349);const ce=re,Ee=(ce==null?void 0:ce.error)||((te=ce[0])==null?void 0:te.error);if(Ee){oe(en,`RPC '${e}' stream ${o} received error:`,Ee);const fe=Ee.status;let de=(function(N){const D=Rt[N];if(D!==void 0)return $E(D)})(fe),R=Ee.message;de===void 0&&(de=K.INTERNAL,R="Unknown error status: "+fe+" with message "+Ee.message),z=!0,X.a_(new ae(de,R)),E.close()}else oe(en,`RPC '${e}' stream ${o} received:`,re),X.u_(re)}})),J(m,oE.STAT_EVENT,(Z=>{Z.stat===Qm.PROXY?oe(en,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Qm.NOPROXY&&oe(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i){return new qD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="PersistentStream";class aT{constructor(e,n,a,o,c,h,m,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new ae(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H4 extends aT{constructor(e,n,a,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GD(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Vi(h.readTime):Se.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(c,h){let m;const y=h.target;if(m=Zm(y)?{documents:KD(c,y)}:{query:XD(c,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=YE(c,h.resumeToken);const _=tp(c,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=jd(c,h.snapshotVersion.toTimestamp());const _=tp(c,h.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const a=JD(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class z4 extends aT{constructor(e,n,a,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QD(e.writeResults,e.commitTime),a=Vi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>YD(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{}class q4 extends B4{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,np(n,a),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(K.UNKNOWN,c.toString())}))}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,np(n,a),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(K.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="RemoteStore";class F4{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{pr(this)&&(oe(or,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await Tc(_),_.Ra.set("Unknown"),_.Ea.delete(4),await rh(_)})(this))}))})),this.Ra=new $4(a,o)}}async function rh(i){if(pr(i))for(const e of i.da)await e(!0)}async function Tc(i){for(const e of i.da)await e(!1)}function rT(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?qp(n):Do(n).O_()&&Bp(n,e))}function zp(i,e){const n=Ne(i),a=Do(n);n.Ia.delete(e),a.O_()&&oT(n,e),n.Ia.size===0&&(a.O_()?a.L_():pr(n)&&n.Ra.set("Unknown"))}function Bp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function oT(i,e){i.Va.Ue(e),Do(i).Z_(e)}function qp(i){i.Va=new UD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function $p(i){return pr(i)&&!Do(i).x_()&&i.Ia.size>0}function pr(i){return Ne(i).Ea.size===0}function lT(i){i.Va=void 0}async function G4(i){i.Ra.set("Online")}async function Y4(i){i.Ia.forEach(((e,n)=>{Bp(i,e)}))}async function Q4(i,e){lT(i),$p(i)?(i.Ra.ha(e),qp(i)):i.Ra.set("Unknown")}async function K4(i,e,n){if(i.Ra.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(a){oe(or,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Pd(i,a)}else if(e instanceof pd?i.Va.Ze(e):e instanceof FE?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const a=await iT(i.localStore);n.compareTo(a)>=0&&await(function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),oT(c,y);const E=new ta(T.target,y,_,T.sequenceNumber);Bp(c,E)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(a){oe(or,"Failed to raise snapshot:",a),await Pd(i,a)}}async function Pd(i,e,n){if(!Ro(e))throw e;i.Ea.add(1),await Tc(i),i.Ra.set("Offline"),n||(n=()=>iT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(or,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await rh(i)}))}function cT(i,e){return e().catch((n=>Pd(i,n,e)))}async function oh(i){const e=Ne(i),n=ma(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;X4(e);)try{const o=await D4(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,W4(e,o)}catch(o){await Pd(e,o)}uT(e)&&dT(e)}function X4(i){return pr(i)&&i.Ta.length<10}function W4(i,e){i.Ta.push(e);const n=ma(i);n.O_()&&n.X_&&n.ea(e.mutations)}function uT(i){return pr(i)&&!ma(i).x_()&&i.Ta.length>0}function dT(i){ma(i).start()}async function J4(i){ma(i).ra()}async function Z4(i){const e=ma(i);for(const n of i.Ta)e.ea(n.mutations)}async function eM(i,e,n){const a=i.Ta.shift(),o=Op.from(a,e,n);await cT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await oh(i)}async function tM(i,e){e&&ma(i).X_&&await(async function(a,o){if((function(h){return VD(h)&&h!==K.ABORTED})(o.code)){const c=a.Ta.shift();ma(a).B_(),await cT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await oh(a)}})(i,e),uT(i)&&dT(i)}async function yv(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),oe(or,"RemoteStore received new credentials");const a=pr(n);n.Ea.add(3),await Tc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rh(n)}async function nM(i,e){const n=Ne(i);e?(n.Ea.delete(2),await rh(n)):e||(n.Ea.add(2),await Tc(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,a,o){const c=Ne(n);return c.sa(),new H4(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:G4.bind(null,i),t_:Y4.bind(null,i),r_:Q4.bind(null,i),H_:K4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),$p(i)?qp(i):i.Ra.set("Unknown")):(await i.ma.stop(),lT(i))}))),i.ma}function ma(i){return i.fa||(i.fa=(function(n,a,o){const c=Ne(n);return c.sa(),new z4(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:J4.bind(null,i),r_:tM.bind(null,i),ta:Z4.bind(null,i),na:eM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await oh(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(or,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const h=Date.now()+a,m=new Fp(e,n,h,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(i,e){if(ps("AsyncQueue",`${e}: ${i}`),Ro(i))return new ae(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Gl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new po;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class xo{constructor(e,n,a,o,c,h,m,y,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new xo(e,n,po.emptySet(n),h,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sM{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ne(n),c=o.queries;o.queries=bv(),c.forEach(((h,m)=>{for(const y of m.Sa)y.onError(a)}))})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function bv(){return new fr((i=>DE(i)),eh)}async function hT(i,e){const n=Ne(i);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new iM,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Gp(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Yp(n)}async function fT(i,e){const n=Ne(i),a=e.query;let o=3;const c=n.queries.get(a);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function aM(i,e){const n=Ne(i);let a=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(o)&&(a=!0);h.wa=o}}a&&Yp(n)}function rM(i,e,n){const a=Ne(i),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function Yp(i){i.Ca.forEach((e=>{e.next()}))}var op,vv;(vv=op||(op={})).Ma="default",vv.Cache="cache";class mT{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new xo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class oM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=ME(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new _v,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,E)=>{const C=o.get(T),z=th(this.query,E)?E:null,X=!!C&&this.mutatedKeys.has(C.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;C&&z?C.data.isEqual(z.data)?X!==J&&(a.track({type:3,doc:z}),Z=!0):this.su(C,z)||(a.track({type:2,doc:z}),Z=!0,(y&&this.eu(z,y)>0||_&&this.eu(z,_)<0)&&(m=!0)):!C&&z?(a.track({type:0,doc:z}),Z=!0):C&&!z&&(a.track({type:1,doc:C}),Z=!0,(y||_)&&(m=!0)),Z&&(z?(h=h.add(z),c=J?c.add(T):c.delete(T)):(h=h.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:h,iu:a,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,E)=>(function(z,X){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:Z})}};return J(z)-J(X)})(T.type,E.type)||this.eu(T.doc,E.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,h.length!==0||_?{snapshot:new xo(this.query,e.tu,c,h,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new gT(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new pT(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class lM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class cM{constructor(e){this.key=e,this.hu=!1}}class uM{constructor(e,n,a,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fr((m=>DE(m)),eh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dM(i,e,n=!0){const a=TT(i);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yT(a,e,n,!0),o}async function hM(i,e){const n=TT(i);await yT(n,e,!0,!1)}async function yT(i,e,n,a){const o=await M4(i.localStore,ji(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await fM(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&rT(i.remoteStore,o),m}async function fM(i,e,n,a,o){i.pu=(E,C,z)=>(async function(J,Z,te,re){let ce=Z.view.ru(te);ce.Cs&&(ce=await hv(J.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,ce))));const Ee=re&&re.targetChanges.get(Z.targetId),fe=re&&re.targetMismatches.get(Z.targetId)!=null,de=Z.view.applyChanges(ce,J.isPrimaryClient,Ee,fe);return Tv(J,Z.targetId,de.au),de.snapshot})(i,E,C,z);const c=await hv(i.localStore,e,!0),h=new oM(e,c.Qs),m=h.ru(c.documents),y=Ec.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),_=h.applyChanges(m,i.isPrimaryClient,y);Tv(i,n,_.au);const T=new lM(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),_.snapshot}async function mM(i,e,n){const a=Ne(i),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((h=>!eh(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&zp(a.remoteStore,o.targetId),lp(a,o.targetId)})).catch(Io)):(lp(a,o.targetId),await ap(a.localStore,o.targetId,!0))}async function pM(i,e){const n=Ne(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),zp(n.remoteStore,a.targetId))}async function gM(i,e,n){const a=xM(i);try{const o=await(function(h,m){const y=Ne(h),_=lt.now(),T=m.reduce(((z,X)=>z.add(X.key)),He());let E,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let X=gs(),J=He();return y.Ns.getEntries(z,T).next((Z=>{X=Z,X.forEach(((te,re)=>{re.isValidDocument()||(J=J.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(z,X))).next((Z=>{E=Z;const te=[];for(const re of m){const ce=DD(re,E.get(re.key).overlayedDocument);ce!=null&&te.push(new mr(re.key,ce,xE(ce.value.mapValue),hs.exists(!0)))}return y.mutationQueue.addMutationBatch(z,_,te,m)})).next((Z=>{C=Z;const te=Z.applyToLocalDocumentSet(E,J);return y.documentOverlayCache.saveOverlays(z,Z.batchId,te)}))})).then((()=>({batchId:C.batchId,changes:OE(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let _=h.Vu[h.currentUser.toKey()];_||(_=new ht(Ue)),_=_.insert(m,y),h.Vu[h.currentUser.toKey()]=_})(a,o.batchId,n),await xc(a,o.changes),await oh(a.remoteStore)}catch(o){const c=Gp(o,"Failed to persist write");n.reject(c)}}async function _T(i,e){const n=Ne(i);try{const a=await R4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await xc(n,a,e)}catch(a){await Io(a)}}function Ev(i,e,n){const a=Ne(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=Ne(h);y.onlineState=m;let _=!1;y.queries.forEach(((T,E)=>{for(const C of E.Sa)C.va(m)&&(_=!0)})),_&&Yp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function yM(i,e,n){const a=Ne(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let h=new ht(ye.comparator);h=h.insert(c,nn.newNoDocument(c,Se.min()));const m=He().add(c),y=new sh(Se.min(),new Map,new ht(Ue),h,m);await _T(a,y),a.du=a.du.remove(c),a.Au.delete(e),Kp(a)}else await ap(a.localStore,e,!1).then((()=>lp(a,e,n))).catch(Io)}async function _M(i,e){const n=Ne(i),a=e.batch.batchId;try{const o=await I4(n.localStore,e);vT(n,a,null),bT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await xc(n,o)}catch(o){await Io(o)}}async function bM(i,e,n){const a=Ne(i);try{const o=await(function(h,m){const y=Ne(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,m).next((E=>(Ke(E!==null,37113),T=E.keys(),y.mutationQueue.removeMutationBatch(_,E)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);vT(a,e,n),bT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await xc(a,o)}catch(o){await Io(o)}}function bT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function vT(i,e,n){const a=Ne(i);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||ET(i,a)}))}function ET(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(zp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Kp(i))}function Tv(i,e,n){for(const a of n)a instanceof pT?(i.Ru.addReference(a.key,e),vM(i,a)):a instanceof gT?(oe(Qp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||ET(i,a.key)):ve(19791,{wu:a})}function vM(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Eu.has(a)||(oe(Qp,"New document in limbo: "+n),i.Eu.add(a),Kp(i))}function Kp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(at.fromString(e)),a=i.fu.next();i.Au.set(a,new cM(n)),i.du=i.du.insert(n,a),rT(i.remoteStore,new ta(ji(Mp(n.path)),a,"TargetPurposeLimboResolution",Wd.ce))}}async function xc(i,e,n){const a=Ne(i),o=[],c=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,y)=>{h.push(a.pu(y,e,n).then((_=>{var T;if((_||n)&&a.isPrimaryClient){const E=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:T.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Up.As(y.targetId,_);c.push(E)}})))})),await Promise.all(h),a.Pu.H_(o),await(async function(y,_){const T=Ne(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(_,(C=>ee.forEach(C.Es,(z=>T.persistence.referenceDelegate.addReference(E,C.targetId,z))).next((()=>ee.forEach(C.ds,(z=>T.persistence.referenceDelegate.removeReference(E,C.targetId,z)))))))))}catch(E){if(!Ro(E))throw E;oe(Hp,"Failed to update sequence numbers: "+E)}for(const E of _){const C=E.targetId;if(!E.fromCache){const z=T.Ms.get(C),X=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(X);T.Ms=T.Ms.insert(C,J)}}})(a.localStore,c))}async function EM(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){oe(Qp,"User change. New user:",e.toKey());const a=await nT(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new ae(K.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await xc(n,a.Ls)}}function TM(i,e){const n=Ne(i),a=n.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function TT(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yM.bind(null,e),e.Pu.H_=aM.bind(null,e.eventManager),e.Pu.yu=rM.bind(null,e.eventManager),e}function xM(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bM.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return N4(this.persistence,new w4,e.initialUser,this.serializer)}Cu(e){return new tT(Lp.mi,this.serializer)}Du(e){return new O4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class wM extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Vd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new c4(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new tT((a=>Vd.mi(a,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=EM.bind(null,this.syncEngine),await nM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sM})()}createDatastore(e){const n=ah(e.databaseInfo.databaseId),a=(function(c){return new U4(c)})(e.databaseInfo);return(function(c,h,m,y){return new q4(c,h,m,y)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,h,m){return new F4(a,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ev(this.syncEngine,n,0)),(function(){return pv.v()?new pv:new j4})())}createSyncEngine(e,n){return(function(o,c,h,m,y,_,T){const E=new uM(o,c,h,m,y,_);return T&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Ne(o);oe(or,"RemoteStore shutting down."),c.Ea.add(5),await Tc(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class SM{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async h=>{oe(pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(oe(pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Gp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Mm(i,e){i.asyncQueue.verifyOperationInProgress(),oe(pa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await nT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function xv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await AM(i);oe(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>yv(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>yv(e.remoteStore,o))),i._onlineComponents=e}async function AM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(pa,"Using user provided OfflineComponentProvider");try{await Mm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Mm(i,new Ld)}}else oe(pa,"Using default OfflineComponentProvider"),await Mm(i,new wM(void 0));return i._offlineComponents}async function wT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(pa,"Using user provided OnlineComponentProvider"),await xv(i,i._uninitializedComponentsProvider._online)):(oe(pa,"Using default OnlineComponentProvider"),await xv(i,new cp))),i._onlineComponents}function NM(i){return wT(i).then((e=>e.syncEngine))}async function ST(i){const e=await wT(i),n=e.eventManager;return n.onListen=dM.bind(null,e.syncEngine),n.onUnlisten=mM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pM.bind(null,e.syncEngine),n}function IM(i,e,n={}){const a=new ds;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,_){const T=new xT({next:C=>{T.Nu(),h.enqueueAndForget((()=>fT(c,E)));const z=C.docs.has(m);!z&&C.fromCache?_.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&C.fromCache&&y&&y.source==="server"?_.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),E=new mT(Mp(m.path),T,{includeMetadataChanges:!0,qa:!0});return hT(c,E)})(await ST(i),i.asyncQueue,e,n,a))),a.promise}function RM(i,e,n={}){const a=new ds;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,_){const T=new xT({next:C=>{T.Nu(),h.enqueueAndForget((()=>fT(c,E))),C.fromCache&&y.source==="server"?_.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),E=new mT(m,T,{includeMetadataChanges:!0,qa:!0});return hT(c,E)})(await ST(i),i.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firestore.googleapis.com",Sv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o4)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new jC;switch(a.type){case"firstParty":return new UC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=wv.get(n);a&&(oe("ComponentProvider","Removing Datastore"),wv.delete(n),a.terminate())})(this),Promise.resolve()}}function CM(i,e,n,a={}){var _;i=rr(i,lh);const o=wo(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(m1(`https://${m}`),p1("Firestore",!0)),c.host!==NT&&c.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:a};if(!ca(y,h)&&(i._setSettings(y),a.mockUserToken)){let T,E;if(typeof a.mockUserToken=="string")T=a.mockUserToken,E=tn.MOCK_USER;else{T=q2(a.mockUserToken,(_=i._app)==null?void 0:_.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(C)}i._authCredentials=new VC(new dE(T,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class Mt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(bc(n,Mt._jsonSchema))return new Mt(e,a||null,new ye(at.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Dt("string",Mt._jsonSchemaVersion),referencePath:Dt("string")};class ra extends ba{constructor(e,n,a){super(e,n,Mp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ye(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function IT(i,e,...n){if(i=qt(i),hE("collection","path",e),i instanceof lh){const a=at.fromString(e,...n);return Ub(a),new ra(i,null,a)}{if(!(i instanceof Mt||i instanceof ra))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(at.fromString(e,...n));return Ub(a),new ra(i.firestore,null,a)}}function Nv(i,e,...n){if(i=qt(i),arguments.length===1&&(e=Ap.newId()),hE("doc","path",e),i instanceof lh){const a=at.fromString(e,...n);return Lb(a),new Mt(i,null,new ye(a))}{if(!(i instanceof Mt||i instanceof ra))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(at.fromString(e,...n));return Lb(a),new Mt(i.firestore,i instanceof ra?i.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const a=Dm();a&&oe(Iv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;oe(Iv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Cv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Cv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ch extends lh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function DM(i,e){const n=typeof i=="object"?i:mp(),a=typeof i=="string"?i:Rd,o=dr(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=z2("firestore");c&&CM(o,...c)}return o}function Xp(i){if(i._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MM(i),i._firestoreClient}function MM(i){var a,o,c;const e=i._freezeSettings(),n=(function(m,y,_,T){return new nD(m,y,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,AT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,((a=i._app)==null?void 0:a.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new SM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Jt.fromBase64String(e))}catch(n){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Dt("string",Bn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Dt("string",Pi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new ae(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Dt("string",Li._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^__.*__$/;class OM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}function CT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Jp{constructor(e,n,a,o,c,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&kM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||ah(e)}Cc(e,n,a,o=!1){return new Jp({Ac:e,methodName:n,Dc:a,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(i){const e=i._freezeSettings(),n=ah(i._databaseId);return new jM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function VM(i,e,n,a,o,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);OT("Data must be an object, but it was:",h,a);const m=MT(a,h);let y,_;if(c.merge)y=new si(h.fieldMask),_=h.fieldTransforms;else if(c.mergeFields){const T=[];for(const E of c.mergeFields){const C=LM(e,E,n);if(!h.contains(C))throw new ae(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);HM(T,C)||T.push(C)}y=new si(T),_=h.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,_=h.fieldTransforms;return new OM(new zn(m),y,_)}function PM(i,e,n,a=!1){return Zp(n,i.Cc(a?4:3,e))}function Zp(i,e){if(kT(i=qt(i)))return OT("Unsupported field value:",e,i),MT(i,e);if(i instanceof RT)return(function(a,o){if(!CT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let h=0;for(const m of a){let y=Zp(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(i,e)}return(function(a,o){if((a=qt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return SD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=lt.fromDate(a);return{timestampValue:jd(o.serializer,c)}}if(a instanceof lt){const c=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jd(o.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:YE(o.serializer,a._byteString)};if(a instanceof Mt){const c=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Li)return(function(h,m){return{mapValue:{fields:{[EE]:{stringValue:TE},[Cd]:{arrayValue:{values:h.toArray().map((_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return kp(m.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Xd(a)}`)})(i,e)}function MT(i,e){const n={};return pE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hr(i,((a,o)=>{const c=Zp(o,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function kT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof lt||i instanceof Pi||i instanceof Bn||i instanceof Mt||i instanceof RT||i instanceof Li)}function OT(i,e,n){if(!kT(n)||!fE(n)){const a=Xd(n);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function LM(i,e,n){if((e=qt(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return jT(i,e);throw Ud("Field path arguments must be of type string or ",i,!1,void 0,n)}const UM=new RegExp("[~\\*/\\[\\]]");function jT(i,e,n){if(e.search(UM)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wp(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ud(i,e,n,a,o){const c=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${a}`),h&&(y+=` in document ${o}`),y+=")"),new ae(K.INVALID_ARGUMENT,m+i+y)}function HM(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zM extends VT{data(){return super.data()}}function eg(i,e){return typeof e=="string"?jT(i,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class ng extends tg{}function qM(i,e,...n){let a=[];e instanceof tg&&a.push(e),a=a.concat(n),(function(c){const h=c.filter((y=>y instanceof sg)).length,m=c.filter((y=>y instanceof ig)).length;if(h>1||h>0&&m>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)i=o._apply(i);return i}class ig extends ng{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ig(e,n,a)}_apply(e){const n=this._parse(e);return PT(e._query,n),new ba(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=DT(e.firestore);return(function(c,h,m,y,_,T,E){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Mv(E,T);const X=[];for(const J of E)X.push(Dv(y,c,J));C={arrayValue:{values:X}}}else C=Dv(y,c,E)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Mv(E,T),C=PM(m,h,E,T==="in"||T==="not-in");return Ct.create(_,T,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sg extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const y of m)PT(h,y),h=ep(h,y)})(e._query,n),new ba(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends ng{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ag(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(c,h)})(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,(function(o,c){const h=o.explicitOrderBy.concat([c]);return new Co(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function $M(i,e="asc"){const n=e,a=eg("orderBy",i);return ag._create(a,n)}class rg extends ng{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new rg(e,n,a)}_apply(e){return new ba(e.firestore,e.converter,Md(e._query,this._limit,this._limitType))}}function FM(i){return rg._create("limit",i,"F")}function Dv(i,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&n.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(at.fromString(n));if(!ye.isDocumentKey(a))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Yb(i,new ye(a))}if(n instanceof Mt)return Yb(i,n._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function Mv(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(i,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GM{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return hr(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){var a,o,c;const n=(c=(o=(a=e.fields)==null?void 0:a[Cd].arrayValue)==null?void 0:o.values)==null?void 0:c.map((h=>bt(h.doubleValue)));return new Li(n)}convertGeoPoint(e){return new Pi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Zd(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=da(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=at.fromString(e);Ke(ZE(a),9688,{name:e});const o=new cc(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(n)||ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nr extends VT{constructor(e,n,a,o,c,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(eg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",nr._jsonSchema={type:Dt("string",nr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class gd extends nr{data(e={}){return super.data(e)}}class go{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new gd(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new gd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new gd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:QM(m.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(i){i=rr(i,Mt);const e=rr(i.firestore,ch);return IM(Xp(e),i._key).then((n=>JM(e,i,n)))}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Dt("string",go._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class LT extends GM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function UT(i){i=rr(i,ba);const e=rr(i.firestore,ch),n=Xp(e),a=new LT(e);return BM(i._query),RM(n,i._query).then((o=>new go(e,a,i,o)))}function XM(i,e,n){i=rr(i,Mt);const a=rr(i.firestore,ch),o=YM(i.converter,e,n);return WM(a,[VM(DT(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,hs.none())])}function WM(i,e){return(function(a,o){const c=new ds;return a.asyncQueue.enqueueAndForget((async()=>gM(await NM(a),o,c))),c.promise})(Xp(i),e)}function JM(i,e,n){const a=n.docs.get(e._key),o=new LT(i);return new nr(i,o,e._key,a,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){No=o})(So),Hi(new ri("firestore",((a,{instanceIdentifier:o,options:c})=>{const h=a.getProvider("app").getImmediate(),m=new ch(new PC(a.getProvider("auth-internal")),new HC(h,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(_.options.projectId,T)})(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),qn(Ob,jb,e),qn(Ob,jb,"esm2020")})();const HT="@firebase/installations",og="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=1e4,BT=`w:${og}`,qT="FIS_v2",ZM="https://firebaseinstallations.googleapis.com/v1",e6=3600*1e3,t6="installations",n6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lr=new ur(t6,n6,i6);function $T(i){return i instanceof li&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT({projectId:i}){return`${ZM}/projects/${i}/installations`}function GT(i){return{token:i.token,requestStatus:2,expiresIn:a6(i.expiresIn),creationTime:Date.now()}}async function YT(i,e){const a=(await e.json()).error;return lr.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function QT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function s6(i,{refreshToken:e}){const n=QT(i);return n.append("Authorization",r6(e)),n}async function KT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function a6(i){return Number(i.replace("s","000"))}function r6(i){return`${qT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const a=FT(i),o=QT(i),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const h={fid:n,authVersion:qT,appId:i.appId,sdkVersion:BT},m={method:"POST",headers:o,body:JSON.stringify(h)},y=await KT(()=>fetch(a,m));if(y.ok){const _=await y.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:GT(_.authToken)}}else throw await YT("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=/^[cdef][\w-]{21}$/,up="";function u6(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=d6(i);return c6.test(n)?n:up}catch{return up}}function d6(i){return l6(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;function JT(i,e){const n=uh(i);ZT(n,e),h6(n,e)}function ZT(i,e){const n=WT.get(i);if(n)for(const a of n)a(e)}function h6(i,e){const n=f6();n&&n.postMessage({key:i,fid:e}),m6()}let tr=null;function f6(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=i=>{ZT(i.data.key,i.data.fid)}),tr}function m6(){WT.size===0&&tr&&(tr.close(),tr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="firebase-installations-database",g6=1,cr="firebase-installations-store";let km=null;function lg(){return km||(km=E1(p6,g6,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(cr)}}})),km}async function Hd(i,e){const n=uh(i),o=(await lg()).transaction(cr,"readwrite"),c=o.objectStore(cr),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&JT(i,e.fid),e}async function ex(i){const e=uh(i),a=(await lg()).transaction(cr,"readwrite");await a.objectStore(cr).delete(e),await a.done}async function dh(i,e){const n=uh(i),o=(await lg()).transaction(cr,"readwrite"),c=o.objectStore(cr),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&JT(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(i){let e;const n=await dh(i.appConfig,a=>{const o=y6(a),c=_6(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===up?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function y6(i){const e=i||{fid:u6(),registrationStatus:0};return tx(e)}function _6(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(lr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=b6(i,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:v6(i)}:{installationEntry:e}}async function b6(i,e){try{const n=await o6(i,e);return Hd(i.appConfig,n)}catch(n){throw $T(n)&&n.customData.serverCode===409?await ex(i.appConfig):await Hd(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function v6(i){let e=await kv(i.appConfig);for(;e.registrationStatus===1;)await XT(100),e=await kv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await cg(i);return a||n}return e}function kv(i){return dh(i,e=>{if(!e)throw lr.create("installation-not-found");return tx(e)})}function tx(i){return E6(i)?{fid:i.fid,registrationStatus:0}:i}function E6(i){return i.registrationStatus===1&&i.registrationTime+zT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6({appConfig:i,heartbeatServiceProvider:e},n){const a=x6(i,n),o=s6(i,n),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const h={installation:{sdkVersion:BT,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},y=await KT(()=>fetch(a,m));if(y.ok){const _=await y.json();return GT(_)}else throw await YT("Generate Auth Token",y)}function x6(i,{fid:e}){return`${FT(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(i,e=!1){let n;const a=await dh(i.appConfig,c=>{if(!nx(c))throw lr.create("not-registered");const h=c.authToken;if(!e&&A6(h))return c;if(h.requestStatus===1)return n=w6(i,e),c;{if(!navigator.onLine)throw lr.create("app-offline");const m=I6(c);return n=S6(i,m),m}});return n?await n:a.authToken}async function w6(i,e){let n=await Ov(i.appConfig);for(;n.authToken.requestStatus===1;)await XT(100),n=await Ov(i.appConfig);const a=n.authToken;return a.requestStatus===0?ug(i,e):a}function Ov(i){return dh(i,e=>{if(!nx(e))throw lr.create("not-registered");const n=e.authToken;return R6(n)?{...e,authToken:{requestStatus:0}}:e})}async function S6(i,e){try{const n=await T6(i,e),a={...e,authToken:n};return await Hd(i.appConfig,a),n}catch(n){if($T(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ex(i.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Hd(i.appConfig,a)}throw n}}function nx(i){return i!==void 0&&i.registrationStatus===2}function A6(i){return i.requestStatus===2&&!N6(i)}function N6(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+e6}function I6(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function R6(i){return i.requestStatus===1&&i.requestTime+zT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(i){const e=i,{installationEntry:n,registrationPromise:a}=await cg(e);return a?a.catch(console.error):ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(i,e=!1){const n=i;return await M6(n),(await ug(n,e)).token}async function M6(i){const{registrationPromise:e}=await cg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(i){if(!i||!i.options)throw Om("App Configuration");if(!i.name)throw Om("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Om(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Om(i){return lr.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="installations",O6="installations-internal",j6=i=>{const e=i.getProvider("app").getImmediate(),n=k6(e),a=dr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},V6=i=>{const e=i.getProvider("app").getImmediate(),n=dr(e,ix).getImmediate();return{getId:()=>C6(n),getToken:o=>D6(n,o)}};function P6(){Hi(new ri(ix,j6,"PUBLIC")),Hi(new ri(O6,V6,"PRIVATE"))}P6();qn(HT,og);qn(HT,og,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="analytics",L6="firebase_id",U6="origin",H6=60*1e3,z6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Gd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new ur("analytics","Analytics",B6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(i){if(!i.startsWith(dg)){const e=Nn.create("invalid-gtag-resource",{gtagURL:i});return ln.warn(e.message),""}return i}function sx(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function $6(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function F6(i,e){const n=$6("firebase-js-sdk-policy",{createScriptURL:q6}),a=document.createElement("script"),o=`${dg}?l=${i}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function G6(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Y6(i,e,n,a,o,c){const h=a[o];try{if(h)await e[h];else{const y=(await sx(n)).find(_=>_.measurementId===o);y&&await e[y.appId]}}catch(m){ln.error(m)}i("config",o,c)}async function Q6(i,e,n,a,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await sx(n);for(const y of h){const _=m.find(E=>E.measurementId===y),T=_&&e[_.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",a,o||{})}catch(c){ln.error(c)}}function K6(i,e,n,a){async function o(c,...h){try{if(c==="event"){const[m,y]=h;await Q6(i,e,n,m,y)}else if(c==="config"){const[m,y]=h;await Y6(i,e,n,a,m,y)}else if(c==="consent"){const[m,y]=h;i("consent",m,y)}else if(c==="get"){const[m,y,_]=h;i("get",m,y,_)}else if(c==="set"){const[m]=h;i("set",m)}else i(c,...h)}catch(m){ln.error(m)}}return o}function X6(i,e,n,a,o){let c=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=K6(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function W6(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=30,Z6=1e3;class ek{constructor(e={},n=Z6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ax=new ek;function tk(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function nk(i){var h;const{appId:e,apiKey:n}=i,a={method:"GET",headers:tk(n)},o=z6.replace("{app-id}",e),c=await fetch(o,a);if(c.status!==200&&c.status!==304){let m="";try{const y=await c.json();(h=y.error)!=null&&h.message&&(m=y.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function ik(i,e=ax,n){const{appId:a,apiKey:o,measurementId:c}=i.options;if(!a)throw Nn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:a};throw Nn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new rk;return setTimeout(async()=>{m.abort()},H6),rx({appId:a,apiKey:o,measurementId:c},h,m,e)}async function rx(i,{throttleEndTimeMillis:e,backoffCount:n},a,o=ax){var m;const{appId:c,measurementId:h}=i;try{await sk(a,e)}catch(y){if(h)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:h};throw y}try{const y=await nk(i);return o.deleteThrottleMetadata(c),y}catch(y){const _=y;if(!ak(_)){if(o.deleteThrottleMetadata(c),h)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:c,measurementId:h};throw y}const T=Number((m=_==null?void 0:_.customData)==null?void 0:m.httpStatus)===503?ab(n,o.intervalMillis,J6):ab(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(c,E),ln.debug(`Calling attemptFetch again in ${T} millis`),rx(i,E,a,o)}}function sk(i,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),a(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ak(i){if(!(i instanceof li)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class rk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ok(i,e,n,a,o){if(o&&o.global){i("event",n,a);return}else{const c=await e,h={...a,send_to:c};i("event",n,h)}}async function lk(i,e,n,a){if(a&&a.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(){if(y1())try{await _1()}catch(i){return ln.warn(Nn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return ln.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uk(i,e,n,a,o,c,h){const m=ik(i);m.then(C=>{n[C.measurementId]=C.appId,i.options.measurementId&&C.measurementId!==i.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>ln.error(C)),e.push(m);const y=ck().then(C=>{if(C)return a.getId()}),[_,T]=await Promise.all([m,y]);W6(c)||F6(c,_.measurementId),o("js",new Date);const E=(h==null?void 0:h.config)??{};return E[U6]="firebase",E.update=!0,T!=null&&(E[L6]=T),o("config",_.measurementId,E),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.app=e}_delete(){return delete yo[this.app.options.appId],Promise.resolve()}}let yo={},jv=[];const Vv={};let jm="dataLayer",hk="gtag",Pv,hg,Lv=!1;function fk(){const i=[];if(g1()&&i.push("This is a browser extension environment."),J2()||i.push("Cookies are not available."),i.length>0){const e=i.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Nn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function mk(i,e,n){fk();const a=i.options.appId;if(!a)throw Nn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(yo[a]!=null)throw Nn.create("already-exists",{id:a});if(!Lv){G6(jm);const{wrappedGtag:c,gtagCore:h}=X6(yo,jv,Vv,jm,hk);hg=c,Pv=h,Lv=!0}return yo[a]=uk(i,jv,Vv,e,Pv,jm,n),new dk(i)}function pk(i=mp()){i=qt(i);const e=dr(i,zd);return e.isInitialized()?e.getImmediate():gk(i)}function gk(i,e={}){const n=dr(i,zd);if(n.isInitialized()){const o=n.getImmediate();if(ca(e,n.getOptions()))return o;throw Nn.create("already-initialized")}return n.initialize({options:e})}function yk(i,e,n){i=qt(i),lk(hg,yo[i.app.options.appId],e,n).catch(a=>ln.error(a))}function _k(i,e,n,a){i=qt(i),ok(hg,yo[i.app.options.appId],e,n,a).catch(o=>ln.error(o))}const Uv="@firebase/analytics",Hv="0.10.19";function bk(){Hi(new ri(zd,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return mk(a,o,n)},"PUBLIC")),Hi(new ri("analytics-internal",i,"PRIVATE")),qn(Uv,Hv),qn(Uv,Hv,"esm2020");function i(e){try{const n=e.getProvider(zd).getImmediate();return{logEvent:(a,o,c)=>_k(n,a,o,c),setUserProperties:(a,o)=>yk(n,a,o)}}catch(n){throw Nn.create("interop-component-reg-failed",{reason:n})}}}bk();const vk={apiKey:"AIzaSyC40O4ZGyyd6oMf-F8dFXfpaVqsycEIofs",authDomain:"test-app-341fe.firebaseapp.com",projectId:"test-app-341fe",storageBucket:"test-app-341fe.firebasestorage.app",messagingSenderId:"872174691632",appId:"1:872174691632:web:9e53184741861ae70a14f5",measurementId:"G-BC2PWXLEML"},fg=T1(vk),zl=kC(fg),Bd=DM(fg);pk(fg);const na={async getUserConfig(i){const e=Nv(Bd,"users",i),n=await KM(e);return n.exists()?n.data():null},async updateUserConfig(i,e){const n=Nv(Bd,"users",i);await XM(n,e,{merge:!0})}},Ek=new os,rd={async loginWithGoogle(){const e=(await BR(zl,Ek)).user;return await na.getUserConfig(e.email)||await na.updateUserConfig(e.email,{name:e.displayName||"Student",email:e.email,phone:"",schoolName:"Vidyabodhini Integrated Public School",classLevel:10,syllabusType:"CBSE",selectedSubjectIds:[],customSubjects:[],manualChapters:{},examDate:new Date(Date.now()+1e3*60*60*24*60).toISOString().split("T")[0],availableHours:[{weekday:0,hours:6},{weekday:1,hours:3},{weekday:2,hours:3},{weekday:3,hours:3},{weekday:4,hours:3},{weekday:5,hours:3},{weekday:6,hours:5}],chapterProgress:{},completedTopicIds:[],onboarded:!1,gamification:{streak:0,lastStudyDate:"",points:0,unlockedAchievementIds:[]}}),{email:e.email,uid:e.uid,name:e.displayName,photoURL:e.photoURL}},async login(i){const e=await _R(zl,i.email,i.password);return{email:e.user.email,uid:e.user.uid}},async register(i){const e=await yR(zl,i.email,i.password);return await na.updateUserConfig(i.email,{name:i.name,email:i.email,phone:i.phone,schoolName:i.schoolName,classLevel:parseInt(i.classLevel),syllabusType:i.syllabusType,selectedSubjectIds:[],customSubjects:[],manualChapters:{},examDate:new Date(Date.now()+1e3*60*60*24*60).toISOString().split("T")[0],availableHours:[{weekday:0,hours:6},{weekday:1,hours:3},{weekday:2,hours:3},{weekday:3,hours:3},{weekday:4,hours:3},{weekday:5,hours:3},{weekday:6,hours:5}],chapterProgress:{},completedTopicIds:[],onboarded:!1,gamification:{streak:0,lastStudyDate:"",points:0,unlockedAchievementIds:[]}}),{email:e.user.email,uid:e.user.uid}},async logout(){return TR(zl)},async getSession(){return new Promise(i=>{const e=ER(zl,async n=>{if(e(),n&&n.email){const a=await na.getUserConfig(n.email);i(a||{email:n.email})}else i(null)})})}},zv=[{id:"first_step",title:"First Steps",description:"Complete your first study task.",icon:"",conditionType:"task_count",threshold:1},{id:"streak_3",title:"On Fire",description:"Maintain a 3-day study streak.",icon:"",conditionType:"streak",threshold:3},{id:"streak_7",title:"Unstoppable",description:"Maintain a 7-day study streak.",icon:"",conditionType:"streak",threshold:7},{id:"early_bird",title:"Early Bird",description:"Complete a task before 8 AM.",icon:"",conditionType:"early_bird",threshold:1},{id:"night_owl",title:"Night Owl",description:"Complete a task after 9 PM.",icon:"",conditionType:"night_owl",threshold:1},{id:"mastery_50",title:"Halfway There",description:"Reach 50% Syllabus Mastery.",icon:"",conditionType:"mastery",threshold:50},{id:"mastery_100",title:"Completionist",description:"Reach 100% Syllabus Mastery.",icon:"",conditionType:"mastery",threshold:100}],ox={checkStreak(i){var h,m,y,_;const e=la(new Date,"yyyy-MM-dd"),n=(h=i.gamification)==null?void 0:h.lastStudyDate;let a=((m=i.gamification)==null?void 0:m.streak)||0,o=((y=i.gamification)==null?void 0:y.points)||0;if(!n)return{...i,gamification:{streak:0,lastStudyDate:"",points:o,unlockedAchievementIds:((_=i.gamification)==null?void 0:_.unlockedAchievementIds)||[]}};const c=$d(new Date(e),new Date(n));return c===0||(c===1?a+=1:a=0),c!==0?{...i,gamification:{...i.gamification,streak:a,lastStudyDate:e}}:i},checkAchievements(i,e,n){const a=i.gamification||{streak:0,lastStudyDate:la(new Date,"yyyy-MM-dd"),points:0,unlockedAchievementIds:[]},o=new Set(a.unlockedAchievementIds);let c=a.points+10;zv.filter(m=>m.conditionType==="streak").forEach(m=>{a.streak>=m.threshold&&o.add(m.id)}),zv.filter(m=>m.conditionType==="mastery").forEach(m=>{e>=m.threshold&&o.add(m.id)});const h=m2(n);return h<8&&o.add("early_bird"),h>=21&&o.add("night_owl"),o.add("first_step"),{...i,gamification:{...a,points:c,unlockedAchievementIds:Array.from(o)}}},async getLeaderboard(){try{const i=IT(Bd,"users"),e=qM(i,$M("gamification.points","desc"),FM(10));return(await UT(e)).docs.map((o,c)=>{var m,y;const h=o.data();return{rank:c+1,name:h.name||"Anonymous",points:((m=h.gamification)==null?void 0:m.points)||0,streak:((y=h.gamification)==null?void 0:y.streak)||0,class:h.classLevel?String(h.classLevel):"N/A"}})}catch(i){return console.error("Error fetching leaderboard:",i),[]}}},Tk=({setView:i})=>p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[p.jsxs("div",{className:"bg-emerald-900 text-white py-20 px-6 text-center rounded-b-[3rem] mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6",children:"Our Legacy"}),p.jsx("p",{className:"text-emerald-100 text-lg max-w-2xl mx-auto",children:"Since 1995, Vidyabodhini has been a beacon of educational excellence, shaping the leaders of tomorrow."})]}),p.jsxs("div",{className:"max-w-5xl mx-auto px-6 space-y-20 pb-20",children:[p.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-emerald-950 mb-6",children:"Principal's Message"}),p.jsx("p",{className:"text-slate-600 leading-relaxed mb-6",children:'"Education is not just about filling a bucket, but lighting a fire. At Vidyabodhini, we strive to ignite the curiosity within every child. Our holistic approach ensures that students not only excel academically but also grow into compassionate, responsible global citizens."'}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-emerald-950",children:"Dr. Sarah Johnson"}),p.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Principal"})]})]})]}),p.jsx("div",{className:"bg-slate-100 rounded-[2rem] h-80 w-full"})]}),p.jsx("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[{icon:Qv,title:"Vision",desc:"To be a global center of learning that nurtures creativity and character."},{icon:Kv,title:"Mission",desc:"Empowering students with knowledge, skills, and values for a changing world."},{icon:QS,title:"Values",desc:"Integrity, Excellence, Empathy, and Innovation."}].map((e,n)=>p.jsxs("div",{className:"p-8 bg-white border border-slate-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center mx-auto mb-6",children:p.jsx(e.icon,{className:"w-6 h-6"})}),p.jsx("h3",{className:"text-xl font-black text-emerald-950 mb-3",children:e.title}),p.jsx("p",{className:"text-slate-500 text-sm",children:e.desc})]},n))})]})]}),xk=({setView:i})=>p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[p.jsxs("div",{className:"bg-blue-900 text-white py-20 px-6 text-center rounded-b-[3rem] mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6",children:"Academic Excellence"}),p.jsx("p",{className:"text-blue-100 text-lg max-w-2xl mx-auto",children:"A rigorous, student-centered curriculum designed to challenge and inspire."})]}),p.jsx("div",{className:"max-w-6xl mx-auto px-6 pb-20",children:p.jsx("div",{className:"grid grid-cols-1 gap-12",children:[{title:"Primary Years (KG - Grade 5)",desc:"Focus on literacy, numeracy, and social skills through play-based and inquiry-based learning.",color:"bg-orange-50",text:"text-orange-900",accent:"bg-orange-500"},{title:"Middle School (Grade 6 - 8)",desc:"Transition to subject-specific learning with a focus on critical thinking and project-based assessments.",color:"bg-blue-50",text:"text-blue-900",accent:"bg-blue-500"},{title:"Senior School (Grade 9 - 12)",desc:"Intensive preparation for Board Exams (CBSE) along with career counseling and competitive exam coaching.",color:"bg-emerald-50",text:"text-emerald-900",accent:"bg-emerald-500"}].map((e,n)=>p.jsxs("div",{className:`p-10 rounded-[2.5rem] ${e.color} flex flex-col md:flex-row gap-8 items-start`,children:[p.jsx("div",{className:`w-16 h-16 ${e.accent} text-white rounded-2xl flex items-center justify-center font-black text-2xl shrink-0`,children:n+1}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-2xl font-black ${e.text} mb-4`,children:e.title}),p.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:e.desc}),p.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Expert Faculty","Smart Classrooms","Regular Assessments","Remedial Support"].map((a,o)=>p.jsxs("li",{className:"flex items-center gap-2 text-sm font-bold text-slate-500",children:[p.jsx(oa,{className:"w-4 h-4"})," ",a]},o))})]})]},n))})})]}),wk=({setView:i})=>p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[p.jsxs("div",{className:"bg-orange-900 text-white py-20 px-6 text-center rounded-b-[3rem] mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6",children:"Beyond The Classroom"}),p.jsx("p",{className:"text-orange-100 text-lg max-w-2xl mx-auto",children:"Sports, Arts, and Leadership - building well-rounded personalities."})]}),p.jsx("div",{className:"max-w-6xl mx-auto px-6 pb-20 grid grid-cols-1 md:grid-cols-2 gap-8",children:[{title:"Sports Academy",desc:"Cricket, Football, Basketball, and Swimming with professional coaches.",icon:Jv},{title:"Performing Arts",desc:"Music, Dance, and Theater clubs to unleash creativity.",icon:XS},{title:"Robotics & AI",desc:"STEM labs equipped with the latest technology.",icon:Qv},{title:"Community Service",desc:"NSS and social outreach programs.",icon:Kv}].map((e,n)=>p.jsxs("div",{className:"group bg-white p-8 rounded-3xl border border-slate-100 hover:border-orange-200 hover:shadow-xl transition-all",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:p.jsx(e.icon,{className:"w-7 h-7"})}),p.jsx("h3",{className:"text-xl font-black text-slate-900 mb-3",children:e.title}),p.jsx("p",{className:"text-slate-500 leading-relaxed",children:e.desc})]},n))})]}),Sk=({setView:i})=>p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[p.jsxs("div",{className:"bg-indigo-900 text-white py-20 px-6 text-center rounded-b-[3rem] mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6",children:"Join Our Family"}),p.jsx("p",{className:"text-indigo-100 text-lg max-w-2xl mx-auto",children:"Admissions open for the Academic Year 2025-26."})]}),p.jsx("div",{className:"max-w-4xl mx-auto px-6 pb-20 space-y-12",children:p.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] shadow-xl border border-slate-100",children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950 mb-8 text-center",children:"Admission Process"}),p.jsx("div",{className:"space-y-8",children:[{step:1,title:"Online Registration",desc:"Fill out the enquiry form or register on our portal."},{step:2,title:"Campus Visit & Interaction",desc:"Meet our counselors and tour the campus."},{step:3,title:"Assessment",desc:"Basic aptitude test for Grade 1 onwards."},{step:4,title:"Document Submission",desc:"Submit previous records and birth certificate."}].map((e,n)=>p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-900 text-white flex items-center justify-center font-black text-sm z-10",children:e.step}),n<3&&p.jsx("div",{className:"w-0.5 h-full bg-indigo-100 -my-2"})]}),p.jsxs("div",{className:"pb-8",children:[p.jsx("h3",{className:"text-lg font-black text-indigo-950",children:e.title}),p.jsx("p",{className:"text-slate-500 text-sm",children:e.desc})]})]},n))}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx("button",{onClick:()=>i("register"),className:"bg-indigo-600 text-white px-8 py-4 rounded-xl font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg",children:"Apply Now"})})]})})]}),Ak=({userConfig:i,setUserConfig:e,setView:n,onReset:a})=>{const[o,c]=xe.useState({name:i.name,schoolName:i.schoolName,phone:i.phone,classLevel:i.classLevel.toString()}),[h,m]=xe.useState(""),y=()=>{e({...i,name:o.name,schoolName:o.schoolName,phone:o.phone,classLevel:parseInt(o.classLevel)}),m("Profile updated successfully!"),setTimeout(()=>n("dashboard"),1500)},_=()=>{confirm("Are you sure you want to reset all progress? This will clear your completed tasks but keep your account settings.")&&(a(),m("Progress reset successfully!"))};return p.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:p.jsxs("div",{className:"w-full max-w-md bg-white rounded-[2.5rem] shadow-2xl p-10 space-y-6 animate-in zoom-in-95",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Edit Profile"}),p.jsx("button",{onClick:()=>n("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full",children:p.jsx(Zv,{className:"w-6 h-6 text-slate-400"})})]}),h&&p.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-xs font-bold flex items-center gap-2",children:[p.jsx(oa,{className:"w-4 h-4"})," ",h]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:"Full Name"}),p.jsx("input",{type:"text",value:o.name,onChange:T=>c({...o,name:T.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950 mt-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:"School Name"}),p.jsx("input",{type:"text",value:o.schoolName,onChange:T=>c({...o,schoolName:T.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950 mt-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:"Phone Number"}),p.jsx("input",{type:"tel",value:o.phone,onChange:T=>c({...o,phone:T.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950 mt-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:"Class"}),p.jsx("select",{value:o.classLevel,onChange:T=>c({...o,classLevel:T.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950 mt-1",children:[8,9,10,11,12].map(T=>p.jsxs("option",{value:T,children:["Class ",T]},T))})]}),p.jsx("button",{onClick:y,className:"w-full bg-indigo-900 text-white py-4 rounded-xl font-black hover:bg-indigo-800 transition-all shadow-lg mt-4",children:"Save Changes"}),p.jsx("button",{onClick:_,className:"w-full bg-red-50 text-red-500 py-4 rounded-xl font-black hover:bg-red-100 transition-all mt-4 text-xs uppercase tracking-widest",children:"Reset All Schedule Progress"})]})]})})},Nk=({userConfig:i,currentSyllabus:e})=>{const[n,a]=xe.useState("all"),[o,c]=xe.useState("all"),[h,m]=xe.useState(""),y=e.subjects.filter(T=>i.selectedSubjectIds.includes(T.id)),_=D2.filter(T=>!(!i.selectedSubjectIds.includes(T.subjectId)||n!=="all"&&T.subjectId!==n||o!=="all"&&T.type!==o||h&&!T.title.toLowerCase().includes(h.toLowerCase())));return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-3xl border shadow-sm space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Digital Library"}),p.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Access official resources, sample papers, and notes."})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(Wv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Search resources...",value:h,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-xs text-indigo-900"})]}),p.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[p.jsxs("select",{value:n,onChange:T=>a(T.target.value),className:"px-4 py-3 rounded-xl bg-slate-50 border-r-8 border-transparent outline-none font-bold text-xs text-slate-500 cursor-pointer hover:bg-slate-100",children:[p.jsx("option",{value:"all",children:"All Subjects"}),y.map(T=>p.jsx("option",{value:T.id,children:T.name},T.id))]}),p.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"px-4 py-3 rounded-xl bg-slate-50 border-r-8 border-transparent outline-none font-bold text-xs text-slate-500 cursor-pointer hover:bg-slate-100",children:[p.jsx("option",{value:"all",children:"All Types"}),p.jsx("option",{value:"Sample Paper",children:"Sample Papers"}),p.jsx("option",{value:"PYQ",children:"Previous Year Qs"}),p.jsx("option",{value:"Notes",children:"Notes"})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.length===0?p.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:[p.jsx(yd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),p.jsx("p",{className:"font-bold text-sm",children:"No resources found matching your filters."})]}):_.map(T=>{var C;const E=((C=y.find(z=>z.id===T.subjectId))==null?void 0:C.name)||"Unknown";return p.jsxs("div",{className:"bg-white p-6 rounded-3xl border shadow-sm hover:shadow-lg transition-all group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("span",{className:"px-3 py-1 rounded-lg bg-indigo-50 text-indigo-700 text-[9px] font-black uppercase tracking-widest border border-indigo-100",children:E}),p.jsxs("span",{className:`px-2 py-1 rounded-md text-[8px] font-bold uppercase ${T.type==="PYQ"?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"}`,children:[T.type," ",T.year&&` ${T.year}`]})]}),p.jsx("h4",{className:"font-black text-indigo-950 text-base leading-tight mb-2 min-h-[3rem]",children:T.title}),p.jsx("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-50",children:p.jsxs("a",{href:T.link,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl bg-slate-900 text-white font-bold text-xs hover:bg-indigo-600 transition-colors",children:[p.jsx(_S,{className:"w-4 h-4"})," Download"]})})]},T.id)})})]})},Ik=({tasks:i})=>{const[e,n]=xe.useState(1500),[a,o]=xe.useState(!1),[c,h]=xe.useState("focus"),[m,y]=xe.useState("self"),[_,T]=xe.useState(!1),E=xe.useRef(null);xe.useEffect(()=>(a&&e>0?E.current=window.setInterval(()=>{n(te=>te-1)},1e3):e===0&&(o(!1),E.current&&clearInterval(E.current)),()=>{E.current&&clearInterval(E.current)}),[a,e]);const C=()=>o(!a),z=()=>{o(!1),n(c==="focus"?1500:300)},X=te=>{h(te),o(!1),n(te==="focus"?1500:300)},J=te=>{const re=Math.floor(te/60),ce=te%60;return`${re.toString().padStart(2,"0")}:${ce.toString().padStart(2,"0")}`},Z=i.find(te=>te.id===m);return p.jsxs("div",{className:"max-w-xl mx-auto min-h-[80vh] flex flex-col items-center justify-center",children:[p.jsxs("div",{className:"flex gap-8 mb-12",children:[p.jsx("button",{onClick:()=>X("focus"),className:`text-sm font-black uppercase tracking-widest transition-colors ${c==="focus"?"text-indigo-950 border-b-2 border-indigo-950 pb-1":"text-slate-300 hover:text-slate-400"}`,children:"Focus"}),p.jsx("button",{onClick:()=>X("break"),className:`text-sm font-black uppercase tracking-widest transition-colors ${c==="break"?"text-emerald-600 border-b-2 border-emerald-600 pb-1":"text-slate-300 hover:text-slate-400"}`,children:"Break"})]}),p.jsx("div",{className:`text-[12rem] leading-none font-black tracking-tighter tabular-nums mb-12 ${c==="focus"?"text-indigo-950":"text-emerald-500"}`,children:J(e)}),p.jsxs("div",{className:"flex items-center gap-6 mb-16",children:[p.jsx("button",{onClick:z,className:"p-4 rounded-full text-slate-300 hover:bg-slate-50 hover:text-slate-500 transition-all",children:p.jsx(qS,{className:"w-6 h-6"})}),p.jsx("button",{onClick:C,className:`w-24 h-24 rounded-[2rem] flex items-center justify-center shadow-xl hover:scale-105 active:scale-95 transition-all ${c==="focus"?"bg-indigo-950 text-white shadow-indigo-200":"bg-emerald-500 text-white shadow-emerald-200"}`,children:a?p.jsx(LS,{className:"w-8 h-8 fill-current"}):p.jsx(HS,{className:"w-8 h-8 fill-current ml-1"})})]}),p.jsxs("div",{className:"w-full relative",children:[p.jsxs("button",{onClick:()=>T(!_),className:"w-full bg-slate-50 hover:bg-white border rounded-2xl p-4 flex items-center justify-between transition-all group shadow-sm hover:shadow-md",children:[p.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[p.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${c==="focus"?"bg-indigo-100 text-indigo-700":"bg-emerald-100 text-emerald-700"}`,children:p.jsx(Kl,{className:"w-4 h-4"})}),p.jsxs("div",{className:"text-left overflow-hidden",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Current Task"}),p.jsx("p",{className:"font-bold text-indigo-950 truncate",children:m==="self"?"Self Study / General":Z==null?void 0:Z.topicName})]})]}),p.jsx(cS,{className:`w-5 h-5 text-slate-400 transition-transform ${_?"rotate-180":""}`})]}),_&&p.jsxs("div",{className:"absolute top-full text-left left-0 w-full bg-white border rounded-2xl shadow-xl mt-2 p-2 z-20 max-h-60 overflow-y-auto animate-in slide-in-from-top-2",children:[p.jsxs("button",{onClick:()=>{y("self"),T(!1)},className:`w-full p-3 rounded-xl flex items-center gap-3 transition-colors ${m==="self"?"bg-indigo-50 text-indigo-900":"hover:bg-slate-50 text-slate-600"}`,children:[p.jsx("div",{className:"w-6 h-6 rounded-md bg-indigo-100 flex items-center justify-center shrink-0",children:p.jsx(Kl,{className:"w-3 h-3 text-indigo-600"})}),p.jsx("span",{className:"font-bold text-xs",children:"Self Study / General"}),m==="self"&&p.jsx(oa,{className:"ml-auto w-4 h-4 text-indigo-600"})]}),p.jsx("div",{className:"h-px bg-slate-100 my-1"}),i.length>0?i.filter(te=>!te.isCompleted).map(te=>p.jsxs("button",{onClick:()=>{y(te.id),T(!1)},className:`w-full p-3 rounded-xl flex items-center gap-3 transition-colors ${m===te.id?"bg-indigo-50 text-indigo-900":"hover:bg-slate-50 text-slate-600"}`,children:[p.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-100 flex items-center justify-center shrink-0",children:p.jsx(_d,{className:"w-3 h-3 text-slate-500"})}),p.jsxs("div",{className:"text-left overflow-hidden",children:[p.jsx("p",{className:"font-bold text-xs truncate",children:te.topicName}),p.jsxs("p",{className:"text-[9px] text-slate-400 truncate",children:[te.subjectName,"  ",te.chapterName]})]}),m===te.id&&p.jsx(oa,{className:"ml-auto w-4 h-4 text-indigo-600"})]},te.id)):p.jsx("div",{className:"p-4 text-center text-xs text-slate-400 font-medium",children:"No other tasks scheduled for today."})]})]})]})},Rk=({userConfig:i,setUserConfig:e,schedule:n})=>{const[a,o]=xe.useState(!i.dailyRoutine),[c,h]=xe.useState(i.dailyRoutine||{wakeTime:"06:00",morningFreshUpTime:"06:15",breakfastTime:"07:30",schoolStartTime:"08:30",schoolEndTime:"15:30",eveningFreshUpTime:"16:00",lunchTime:"12:30",snackTime:"16:30",dinnerTime:"20:00",bedTime:"22:00",freeSlotBuffers:15}),m=()=>{e(E=>({...E,dailyRoutine:c})),o(!1)},y=(E,C)=>{h(z=>({...z,[E]:C}))};if(a)return p.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-sm border border-slate-100",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-50 text-indigo-600 mb-4",children:p.jsx(Vm,{className:"w-6 h-6"})}),p.jsx("h2",{className:"text-2xl font-black text-indigo-950 mb-2",children:"Let's Build Your Perfect Day"}),p.jsx("p",{className:"text-slate-500",children:"Tell us your routine so we can fit study sessions around your life."})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"p-4 bg-yellow-50 rounded-xl space-y-4 text-yellow-900",children:[p.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[p.jsx(JS,{className:"w-4 h-4"})," Morning"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Mi,{label:"Wake Up",value:c.wakeTime,onChange:E=>y("wakeTime",E)}),p.jsx(Mi,{label:"Fresh Up",value:c.morningFreshUpTime,onChange:E=>y("morningFreshUpTime",E)})]})]}),p.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl space-y-4",children:[p.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[p.jsx(aS,{className:"w-4 h-4"})," School / College"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Mi,{label:"Starts",value:c.schoolStartTime,onChange:E=>y("schoolStartTime",E)}),p.jsx(Mi,{label:"Ends (Home)",value:c.schoolEndTime,onChange:E=>y("schoolEndTime",E)})]}),p.jsx("div",{className:"pt-2 border-t border-slate-200",children:p.jsx(Mi,{label:"Fresh Up (After School)",value:c.eveningFreshUpTime,onChange:E=>y("eveningFreshUpTime",E)})})]}),p.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl space-y-4 text-orange-900",children:[p.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[p.jsx(gS,{className:"w-4 h-4"})," Meals"]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx(Mi,{label:"Breakfast",value:c.breakfastTime,onChange:E=>y("breakfastTime",E)}),p.jsx(Mi,{label:"Lunch",value:c.lunchTime,onChange:E=>y("lunchTime",E)}),p.jsx(Mi,{label:"Snacks",value:c.snackTime,onChange:E=>y("snackTime",E)})]}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.jsx(Mi,{label:"Dinner",value:c.dinnerTime,onChange:E=>y("dinnerTime",E)})})]}),p.jsxs("div",{className:"p-4 bg-indigo-50 rounded-xl space-y-4 text-indigo-900",children:[p.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[p.jsx(jS,{className:"w-4 h-4"})," Night"]}),p.jsx(Mi,{label:"Bed Time",value:c.bedTime,onChange:E=>y("bedTime",E)})]}),p.jsxs("button",{onClick:m,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(FS,{className:"w-4 h-4"})," Save Routine"]})]})]});const T=(()=>{const E=[],C=c,z=(fe,de,R)=>{fe&&E.push({time:fe,title:de,type:"fixed",color:R})};z(C.wakeTime,"Wake Up","bg-yellow-100 text-yellow-800"),z(C.morningFreshUpTime,"Fresh Up","bg-teal-50 text-teal-700"),z(C.breakfastTime,"Breakfast","bg-orange-100 text-orange-800"),z(C.schoolStartTime,"School Starts","bg-slate-100 text-slate-800"),z(C.schoolEndTime,"Back from School","bg-slate-100 text-slate-800"),z(C.eveningFreshUpTime,"Fresh Up & Relax","bg-teal-50 text-teal-700"),z(C.lunchTime,"Lunch","bg-orange-100 text-orange-800"),z(C.snackTime,"Snacks","bg-orange-100 text-orange-800"),z(C.dinnerTime,"Dinner","bg-orange-100 text-orange-800"),z(C.bedTime,"Sleep","bg-indigo-900 text-white");const X=Ht(C.wakeTime),J=fe=>{const de=Ht(fe);return de<X?de+1440:de};E.sort((fe,de)=>J(fe.time)-J(de.time));const Z=E.findIndex(fe=>fe.title==="Snacks"),te=n.filter(fe=>!fe.isCompleted);let re=0;const ce=(fe,de,R)=>{if(fe===-1)return;const N=Ht(E[fe].time)+de,D=Math.floor(N/60),S=N%60,k=`${D.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`;E.splice(fe+1,0,{time:k,title:`Study: ${R.topicName}`,type:"study",duration:Dk(R.duration)})};Z!==-1&&te[re]&&(ce(Z,30,te[re]),re++),te[re]&&Z!==-1&&(ce(Z+1,60,te[re]),re++);const Ee=E.findIndex(fe=>fe.title==="Dinner");return Ee!==-1&&te[re]&&(ce(Ee,45,te[re]),re++),E})();return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-2xl font-black text-indigo-950",children:"Your Daily Timeline"}),p.jsx("button",{onClick:()=>o(!0),className:"text-sm font-bold text-indigo-600 hover:underline",children:"Edit Routine"})]}),(()=>{const E=c;[{t:Ht(E.wakeTime)},{t:Ht(E.morningFreshUpTime)},{t:Ht(E.breakfastTime)},{t:Ht(E.schoolStartTime)},{t:Ht(E.schoolEndTime)},{t:Ht(E.eveningFreshUpTime)},{t:Ht(E.lunchTime)},{t:Ht(E.snackTime)},{t:Ht(E.dinnerTime)},{t:Ht(E.bedTime)}].sort((fe,de)=>{const R=Ht(E.wakeTime),I=fe.t<R?fe.t+1440:fe.t,N=de.t<R?de.t+1440:de.t;return I-N});let C=Ht(E.schoolStartTime),z=Ht(E.schoolEndTime);z<C&&(z+=1440);const X=z-C;let J=Ht(E.bedTime),Z=Ht(E.wakeTime);Z<J&&(Z+=1440);const te=Z-J,ce=Math.max(0,(1440-X-te-180)/60),Ee=ce.toFixed(1);return p.jsxs("div",{className:"bg-indigo-900 text-white p-4 rounded-xl flex flex-col md:flex-row items-center justify-between gap-4 shadow-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:p.jsx(_d,{className:"w-5 h-5 text-indigo-300"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-sm",children:"Sync Daily Target?"}),p.jsxs("p",{className:"text-xs text-indigo-200",children:["Based on your routine, you have about ",p.jsxs("span",{className:"font-black text-white",children:[Ee," hours"]})," of free time."]})]})]}),p.jsxs("button",{onClick:()=>{const fe=Math.floor(ce),de=i.availableHours.map(R=>({...R,hours:fe}));e(R=>({...R,availableHours:de})),alert(`Daily target updated to ${fe} hours for all days!`)},className:"px-4 py-2 bg-white text-indigo-900 text-xs font-black uppercase tracking-widest rounded-lg hover:bg-indigo-50 transition-colors whitespace-nowrap",children:["Set Goal to ",Math.floor(ce),"h"]})]})})()]}),p.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 relative",children:[p.jsx("div",{className:"absolute top-6 bottom-6 left-[27px] w-0.5 bg-slate-100"}),p.jsx("div",{className:"space-y-8",children:T.map((E,C)=>p.jsxs("div",{className:"flex gap-6 relative",children:[p.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 z-10 border-4 border-white leading-tight text-center ${E.type==="study"?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"bg-slate-100 text-slate-500"}`,children:Ck(E.time)}),p.jsxs("div",{className:`flex-1 p-4 rounded-xl border ${E.type==="study"?"bg-indigo-50 border-indigo-100":"bg-white border-slate-100"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h3",{className:`font-bold ${E.type==="study"?"text-indigo-900":"text-slate-700"}`,children:E.title}),E.duration&&p.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-white rounded-md text-indigo-600 shadow-sm",children:E.duration})]}),E.type==="study"&&p.jsxs("div",{className:"mt-2 text-xs text-indigo-600 font-medium flex items-center gap-1",children:[p.jsx(_d,{className:"w-3 h-3"})," Targeted Session"]})]})]},C))})]})]})},Mi=({label:i,value:e,onChange:n,icon:a})=>p.jsxs("div",{className:"space-y-1",children:[p.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 flex items-center gap-1",children:[a," ",i]}),p.jsx("input",{type:"time",value:e,onChange:o=>n(o.target.value),className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),Ht=i=>{if(!i)return 0;const[e,n]=i.split(":").map(Number);return e*60+(n||0)},Ck=i=>{if(!i)return"";const[e,n]=i.split(":").map(Number),a=e%24,o=a>=12?"PM":"AM";return`${a%12||12}:${n.toString().padStart(2,"0")} ${o}`},Dk=i=>{const e=Math.round(i*60),n=Math.floor(e/60),a=e%60;return n>0&&a>0?`${n}h ${a}m`:n>0?`${n}h`:`${a}m`},Mk=()=>{const i=ox.getLeaderboard();return p.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-600 rounded-lg",children:p.jsx(Jv,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-black text-indigo-950 text-sm uppercase tracking-wider",children:"Top Performers"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"This Week's Leaders"})]})]}),p.jsx("div",{className:"space-y-3",children:i.map((e,n)=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 transition-colors group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full font-black text-xs ${n===0?"bg-yellow-100 text-yellow-700":n===1?"bg-slate-100 text-slate-600":n===2?"bg-orange-100 text-orange-700":"bg-white border text-slate-400"}`,children:n<3?p.jsx(DS,{className:"w-4 h-4"}):`#${n+1}`}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-indigo-950 text-xs",children:e.name}),p.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:["Class ",e.class]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-black text-indigo-600 text-xs",children:e.points}),p.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase",children:"Points"})]})]},n))}),p.jsx("div",{className:"pt-3 border-t border-slate-50 text-center",children:p.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-indigo-600 transition-colors",children:"View All Rankings"})})]})},mg="/assets/logo-0O8hYSew.png",kk=["Read","Revised","Practiced","Thorough"],Ok=({userConfig:i,setUserConfig:e,schedule:n,setSchedule:a,currentSyllabus:o,activeTab:c,setActiveTab:h,setView:m,onLogout:y,currentTime:_,daysLeft:T,masteryScore:E,todayTasks:C})=>{var fe,de,R,I,N,D;const[z,X]=xe.useState(3),[J,Z]=xe.useState(null);Fv.useEffect(()=>{const S=Pm(new Date),k=i.availableHours.find(A=>A.weekday===S);k&&X(k.hours)},[i.availableHours]);const te=(S,k)=>{e(A=>{const he=A.chapterProgress[S]||{difficulty:P.MEDIUM,checkpoints:[]},F=he.checkpoints.includes(k)?he.checkpoints.filter(ie=>ie!==k):[...he.checkpoints,k];return{...A,chapterProgress:{...A.chapterProgress,[S]:{...he,checkpoints:F}}}})},re=(S,k)=>{e(A=>{const he=A.chapterProgress[S]||{difficulty:k,checkpoints:[]};return{...A,chapterProgress:{...A.chapterProgress,[S]:{...he,difficulty:k}}}})},ce=(S,k)=>{a(A=>A.map(he=>he.id===S?{...he,isCompleted:!he.isCompleted}:he)),e(A=>{const Te=A.completedTopicIds.includes(k)?A.completedTopicIds.filter(F=>F!==k):[...A.completedTopicIds,k];return{...A,completedTopicIds:Te}})},Ee=(S,k,A,he)=>{e(Te=>{var $e,j;const F=(($e=Te.manualChapters)==null?void 0:$e[S])||[],ie=(j=Te.customSubjects)==null?void 0:j.find(Y=>Y.id===S),pe={id:`t-${Date.now()}`,name:A,estimatedHours:he},je={id:`c-${Date.now()}`,name:k,difficulty:P.MEDIUM,topics:[pe]};return ie?{...Te,customSubjects:Te.customSubjects.map(Y=>Y.id===S?{...Y,chapters:[...Y.chapters,je]}:Y)}:{...Te,manualChapters:{...Te.manualChapters,[S]:[...F,je]}}})};return p.jsxs("div",{className:"min-h-screen bg-slate-50 pb-24 lg:pb-0",children:[p.jsxs("nav",{className:"fixed top-0 w-full bg-white border-b px-6 py-3 flex justify-between items-center z-50 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:mg,alt:"Logo",className:"w-8 h-8 rounded-md"}),p.jsx("h1",{className:"font-black text-base text-indigo-950 hidden md:block",children:"Vidyabodhini LMS"})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("div",{className:"text-xs font-black text-indigo-950 uppercase tracking-widest",children:[la(_,"EEEE, d MMM yyyy")," ",p.jsx("span",{className:"text-indigo-400",children:"|"})," ",la(_,"h:mm a")]}),p.jsx("div",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full mt-0.5",children:T>0?`${T} Days to Exam`:"Exams Started!"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-orange-50 text-orange-600 px-3 py-1.5 rounded-full border border-orange-100",children:[p.jsx(vS,{className:"w-4 h-4 fill-orange-500"}),p.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[((fe=i.gamification)==null?void 0:fe.streak)||0," Day Streak"]})]}),p.jsx("span",{className:"hidden sm:block text-[10px] font-black text-slate-400 uppercase tracking-widest",children:i.name}),p.jsx("button",{onClick:y,className:"w-9 h-9 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-900 font-black text-xs border border-white shadow-sm hover:bg-red-50 hover:text-red-600 transition-colors",children:i.name.substring(0,1)})]})]}),p.jsxs("main",{className:"pt-20 max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("aside",{className:"fixed left-0 top-16 h-full w-64 bg-white border-r hidden lg:flex flex-col py-8 px-6 z-40",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("button",{onClick:()=>{h("plan"),m("dashboard")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${c==="plan"?"bg-indigo-50 text-indigo-900":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(eA,{className:"w-5 h-5"})," My Plan"]}),p.jsxs("button",{onClick:()=>{h("syllabus"),m("dashboard")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${c==="syllabus"?"bg-indigo-50 text-indigo-900":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(_m,{className:"w-5 h-5"})," Syllabus"]}),p.jsxs("button",{onClick:()=>{h("insights"),m("dashboard")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${c==="insights"?"bg-indigo-50 text-indigo-900":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(ym,{className:"w-5 h-5"})," Insights"]}),p.jsxs("button",{onClick:()=>{h("library"),m("dashboard")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${c==="library"?"bg-indigo-50 text-indigo-900":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(yd,{className:"w-5 h-5"})," Library"]}),p.jsxs("button",{onClick:()=>{h("focus"),m("dashboard")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${c==="focus"?"bg-indigo-50 text-indigo-900":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(Kl,{className:"w-5 h-5"})," Focus Zone"]}),p.jsxs("button",{onClick:()=>{h("timetable"),m("dashboard")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${c==="timetable"?"bg-indigo-50 text-indigo-900":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(Vm,{className:"w-5 h-5"})," Timetable"]})]}),p.jsxs("div",{className:"p-5 bg-white rounded-2xl border shadow-sm animate-in fade-in mt-8",children:[p.jsx("h4",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-3",children:"Overall Progress"}),p.jsx("div",{className:"h-2 bg-slate-50 rounded-full overflow-hidden mb-2 border border-slate-100",children:p.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-1000",style:{width:`${E}%`}})}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("p",{className:"text-[10px] font-black text-indigo-900",children:[E,"% Complete"]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-[8px] font-bold text-slate-300",children:["Class ",i.classLevel]}),p.jsx("p",{className:"text-[8px] font-bold text-slate-300 truncate max-w-[100px]",children:i.schoolName})]})]}),p.jsx("button",{onClick:()=>m("profile"),className:"w-full mt-4 py-2 rounded-lg border border-slate-100 text-slate-400 text-[10px] font-bold uppercase tracking-widest hover:bg-slate-50 hover:text-indigo-900 transition-colors",children:"Edit Profile"})]})]}),p.jsxs("section",{className:"lg:col-span-9 xl:col-span-7 space-y-6",children:[c==="plan"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-3xl border shadow-sm flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Study Desk"}),p.jsxs("p",{className:"text-slate-400 text-sm font-medium",children:["Class ",i.classLevel," Board Preparation Plan"]})]}),p.jsxs("div",{className:"flex gap-4 text-center",children:[p.jsxs("div",{className:"px-3",children:[p.jsxs("div",{className:"text-xl font-black text-indigo-900",children:[E,"%"]}),p.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Mastery"})]}),p.jsx("div",{className:"w-[1px] bg-slate-100"}),p.jsxs("div",{className:"px-3",children:[p.jsx("div",{className:"text-xl font-black text-slate-900",children:C.length}),p.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Tasks"})]})]})]}),p.jsx("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"text-lg font-black text-indigo-950",children:"Customize Today's Plan"}),p.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:["Available Hours: ",z,"h"]})]}),p.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-3 rounded-2xl border-2 border-slate-100 flex-1 w-full max-w-xs",children:[p.jsx(_d,{className:"w-5 h-5 text-indigo-400"}),p.jsx("input",{type:"range",min:"2",max:"12",step:"1",value:z,onChange:S=>X(parseInt(S.target.value)),className:"flex-1 accent-indigo-600 cursor-pointer h-2 bg-slate-200 rounded-lg appearance-none"})]}),p.jsxs("button",{onClick:()=>{const S=Pm(new Date),k=i.availableHours.map(A=>A.weekday===S?{...A,hours:z}:A);e({...i,availableHours:k}),setTimeout(()=>a(Xl(o,{...i,availableHours:k})),50)},className:"bg-indigo-900 text-white px-6 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-indigo-800 transition-all shadow-md flex items-center gap-2",children:[p.jsx(G_,{className:"w-4 h-4"})," Update Schedule"]})]})}),p.jsxs("div",{className:"flex items-center gap-3 ml-1",children:[p.jsx("h3",{className:"text-lg font-black text-indigo-950",children:"Today's Schedule"}),p.jsx("button",{onClick:()=>{const S=Xl(o,i,void 0,!0);a(S)},className:"p-2 rounded-xl bg-white border border-slate-100 text-slate-400 hover:text-indigo-600 hover:border-indigo-100 hover:shadow-sm transition-all",title:"Refresh Schedule",children:p.jsx(G_,{className:"w-3.5 h-3.5"})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.length===0?p.jsxs("div",{className:"col-span-full p-12 bg-white rounded-3xl border border-dashed border-slate-200 text-center",children:[p.jsx(oa,{className:"w-8 h-8 text-emerald-500 mx-auto mb-4"}),p.jsx("h4",{className:"font-black text-indigo-950",children:"Daily Goals Achieved"}),p.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Check back tomorrow or review your syllabus checkpoints."})]}):C.map(S=>{const A=(he=>{const Te=(he||"").toLowerCase();return Te.includes("math")?{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",badge:"bg-blue-100 text-blue-700"}:Te.includes("phy")?{bg:"bg-violet-50",text:"text-violet-600",border:"border-violet-200",badge:"bg-violet-100 text-violet-700"}:Te.includes("chem")?{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200",badge:"bg-emerald-100 text-emerald-700"}:Te.includes("bio")?{bg:"bg-rose-50",text:"text-rose-600",border:"border-rose-200",badge:"bg-rose-100 text-rose-700"}:Te.includes("eng")?{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200",badge:"bg-amber-100 text-amber-700"}:Te.includes("soc")||Te.includes("hist")?{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200",badge:"bg-orange-100 text-orange-700"}:{bg:"bg-slate-50",text:"text-indigo-600",border:"border-slate-100",badge:"bg-slate-200 text-slate-600"}})(S.subjectName);return p.jsxs("div",{className:`bg-white p-6 rounded-3xl border-l-4 shadow-sm transition-all flex flex-col justify-between group ${S.isCompleted?"opacity-50 grayscale":""} ${A.border}`,children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-md ${A.badge}`,children:S.subjectName||"General"}),p.jsx("span",{className:"text-[9px] font-bold text-slate-400",children:(()=>{const he=Math.round(S.duration*60),Te=Math.floor(he/60),F=he%60;return Te>0&&F>0?`${Te}h ${F}m`:Te>0?`${Te}h`:`${F}m`})()})]}),p.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest mb-1 block ${A.text}`,children:S.chapterName}),p.jsx("h4",{className:`text-lg font-black text-indigo-950 leading-tight ${S.isCompleted?"line-through":""}`,children:S.topicName})]}),p.jsxs("div",{className:"mt-6 flex items-center justify-between border-t pt-4 border-slate-50",children:[p.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:[S.difficulty," Priority"]}),p.jsx("button",{onClick:()=>ce(S.id,S.topicId),className:`p-3 rounded-xl transition-all shadow-md ${S.isCompleted?"bg-emerald-500 text-white":"bg-indigo-900 text-white hover:bg-indigo-800"}`,children:S.isCompleted?p.jsx(oa,{className:"w-4 h-4"}):p.jsx(Kl,{className:"w-4 h-4"})})]})]},S.id)})})]}),c==="syllabus"&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 px-1 scrollbar-hide",children:i.selectedSubjectIds.map(S=>{var k;return p.jsx("button",{onClick:()=>Z(S),className:`px-4 py-2 rounded-xl text-[9px] font-black transition-all whitespace-nowrap shadow-sm ${J===S?"bg-indigo-900 text-white":"bg-white text-slate-400"}`,children:(k=o.subjects.find(A=>A.id===S))==null?void 0:k.name},S)})}),p.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(de=o.subjects.find(S=>S.id===J))==null?void 0:de.chapters.map(S=>{const k=i.chapterProgress[S.id],A=(k==null?void 0:k.difficulty)||S.difficulty;return p.jsxs("div",{className:"bg-white p-6 rounded-3xl border shadow-sm space-y-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-black text-indigo-950 text-lg",children:S.name}),p.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:kk.map(he=>{const Te=k==null?void 0:k.checkpoints.includes(he);return p.jsx("button",{onClick:()=>te(S.id,he),className:`px-2.5 py-1.5 rounded-lg text-[8px] font-black uppercase transition-all border ${Te?"bg-indigo-900 text-white border-indigo-900 shadow-sm":"bg-slate-50 text-slate-300 border-transparent"}`,children:he},he)})})]}),p.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px]",children:[p.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase text-center",children:"Your Difficulty"}),p.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl",children:[P.EASY,P.MEDIUM,P.HARD].map(he=>p.jsx("button",{onClick:()=>re(S.id,he),className:`flex-1 py-1 px-2 rounded-lg text-[8px] font-black transition-all ${A===he?"bg-white shadow-sm text-indigo-900":"text-slate-300 hover:text-slate-400"}`,children:he.substring(0,1)},he))})]})]}),p.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-slate-50",children:p.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black text-indigo-400",children:[p.jsx(ym,{className:"w-3 h-3"}),A.toUpperCase()," PRIORITY"]})})]},S.id)}),((R=o.subjects.find(S=>S.id===J))==null?void 0:R.isManual)&&p.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 p-6 rounded-3xl flex flex-col items-center justify-center gap-4 text-center hover:bg-indigo-50 hover:border-indigo-200 transition-all group",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center text-slate-400 group-hover:text-indigo-600 transition-colors",children:p.jsx(_m,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-black text-indigo-950",children:"Add New Chapter"}),p.jsx("p",{className:"text-xs text-slate-400 font-bold mt-1",children:"Missing a chapter? Add it manually."})]}),p.jsxs("form",{onSubmit:S=>{S.preventDefault();const k=S.target,A=k.elements.namedItem("chName").value,he=k.elements.namedItem("topicName").value;A&&he&&J&&(Ee(J,A,he,2),k.reset())},className:"w-full space-y-2 mt-2",children:[p.jsx("input",{name:"chName",placeholder:"Chapter Name",required:!0,className:"w-full p-3 rounded-xl text-xs font-bold border-2 border-transparent focus:border-indigo-500 outline-none"}),p.jsx("input",{name:"topicName",placeholder:"Topic Name",required:!0,className:"w-full p-3 rounded-xl text-xs font-bold border-2 border-transparent focus:border-indigo-500 outline-none"}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-indigo-800",children:"Add Chapter"})]})]})]})]}),c==="insights"&&p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border shadow-sm flex flex-col items-center justify-center animate-in zoom-in-95",children:[p.jsx("span",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-10",children:"Academic Readiness Score"}),p.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[p.jsxs("svg",{viewBox:"0 0 256 256",className:"w-full h-full transform -rotate-90",children:[p.jsx("circle",{cx:"128",cy:"128",r:"110",stroke:"#f8fafc",strokeWidth:"20",fill:"transparent"}),p.jsx("circle",{cx:"128",cy:"128",r:"110",stroke:"#1e1b4b",strokeWidth:"20",fill:"transparent",strokeDasharray:"691.15",strokeDashoffset:691.15-691.15*E/100,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[p.jsxs("span",{className:"text-7xl font-black text-indigo-950 leading-none",children:[E,"%"]}),p.jsx("span",{className:"text-[11px] font-black text-indigo-500 uppercase mt-2 tracking-widest",children:"Syllabus Mastery"})]})]}),p.jsxs("div",{className:"mt-12 flex items-center gap-3 bg-indigo-50 text-indigo-900 px-6 py-3 rounded-2xl border border-indigo-100",children:[p.jsx(nA,{className:"w-5 h-5"}),p.jsx("p",{className:"font-black text-[10px] uppercase tracking-widest",children:"Tracking Board Excellence"})]}),p.jsx("p",{className:"mt-6 text-slate-400 font-bold text-xs text-center max-w-xs",children:"Achieve 100% by marking all chapters as 'Thorough' in the Syllabus tab."})]}),c==="library"&&p.jsx(Nk,{userConfig:i,currentSyllabus:o}),c==="focus"&&p.jsx(Ik,{tasks:C}),c==="timetable"&&p.jsx(Rk,{userConfig:i,setUserConfig:e,schedule:n})]}),p.jsxs("aside",{className:"hidden xl:flex col-span-3 flex-col gap-6 sticky top-24 h-fit",children:[p.jsx(Mk,{}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm",children:[p.jsx("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-4",children:"Your Achievements"}),p.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[(((I=i.gamification)==null?void 0:I.unlockedAchievementIds)||[]).map(S=>p.jsx("div",{title:S,className:"w-8 h-8 bg-yellow-50 rounded-lg flex items-center justify-center text-sm border border-yellow-100",children:""},S)),!((D=(N=i.gamification)==null?void 0:N.unlockedAchievementIds)!=null&&D.length)&&p.jsx("p",{className:"col-span-4 text-[9px] text-slate-400 font-bold",children:"No badges yet. Start studying!"})]})]})]})]}),p.jsx("nav",{className:"lg:hidden fixed bottom-0 w-full bg-white border-t px-6 py-4 flex justify-between items-center z-50 rounded-t-[2.5rem] shadow-lg",children:[{id:"plan",icon:Xv},{id:"syllabus",icon:_m},{id:"library",icon:yd},{id:"timetable",icon:Vm},{id:"focus",icon:Kl},{id:"insights",icon:ym}].map(S=>p.jsx("button",{onClick:()=>h(S.id),className:`p-4 rounded-2xl transition-all ${c===S.id?"bg-indigo-900 text-white shadow-lg":"text-slate-400"}`,children:p.jsx(S.icon,{className:"w-6 h-6"})},S.id))})]})},Bv={async getAllStudents(){try{const i=IT(Bd,"users");return(await UT(i)).docs.map(n=>{var y,_;const a=n.data(),o=(y=a.gamification)==null?void 0:y.lastStudyDate;let c="Inactive",h="Never";if(o){const T=$d(new Date,new Date(o));T===0?(c="Active",h="Today"):T===1?(c="Active",h="Yesterday"):(h=`${T} days ago`,T<7&&(c="Active"))}const m=Math.min(100,Math.floor((((_=a.completedTopicIds)==null?void 0:_.length)||0)*2));return{id:n.id,name:a.name||"Unknown",class:a.classLevel?String(a.classLevel):"-",section:"A",syllabus:a.syllabusType||"CBSE",progress:m,lastActive:h,status:c,email:a.email||n.id}})}catch(i){return console.error("Error fetching students:",i),[]}},async getStats(){const i=await this.getAllStudents(),e=i.length,n=i.filter(c=>c.lastActive==="Today").length,a=e>0?Math.floor(i.reduce((c,h)=>c+h.progress,0)/e):0,o={};return i.forEach(c=>{o[c.class]=(o[c.class]||0)+1}),{totalStudents:e,activeToday:n,averageProgress:a,classDistribution:o}}},jk=({setView:i})=>{const[e,n]=xe.useState([]),[a,o]=xe.useState([]),[c,h]=xe.useState(null),[m,y]=xe.useState("All"),[_,T]=xe.useState("");return xe.useEffect(()=>{Bv.getAllStudents().then(E=>{n(E),o(E)}),h(Bv.getStats())},[]),xe.useEffect(()=>{let E=e;if(m!=="All"&&(E=E.filter(C=>C.class===m)),_){const C=_.toLowerCase();E=E.filter(z=>z.name.toLowerCase().includes(C)||z.email.toLowerCase().includes(C))}o(E)},[m,_,e]),p.jsxs("div",{className:"min-h-screen bg-slate-50 font-['Inter']",children:[p.jsxs("nav",{className:"bg-indigo-950 text-white px-8 py-4 flex justify-between items-center shadow-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("img",{src:mg,className:"w-8 h-8 rounded-lg border-2 border-indigo-800"}),p.jsxs("div",{children:[p.jsx("h1",{className:"font-black text-lg leading-none uppercase tracking-tight",children:"Admin Portal"}),p.jsx("p",{className:"text-[10px] font-bold text-indigo-300 uppercase tracking-widest",children:"Vidyabodhini School"})]})]}),p.jsxs("button",{onClick:()=>i("landing"),className:"flex items-center gap-2 text-xs font-bold bg-indigo-900 hover:bg-indigo-800 px-4 py-2 rounded-lg transition-colors border border-indigo-700",children:[p.jsx(RS,{className:"w-4 h-4"})," Logout"]})]}),p.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-10 space-y-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-xl",children:p.jsx(aA,{className:"w-6 h-6"})}),p.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:"+12 new"})]}),p.jsx("h3",{className:"text-3xl font-black text-slate-900",children:(c==null?void 0:c.totalStudents)||0}),p.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Students"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-xl",children:p.jsx(Vk,{className:"w-6 h-6"})})}),p.jsx("h3",{className:"text-3xl font-black text-slate-900",children:(c==null?void 0:c.activeToday)||0}),p.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Active Today"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:p.jsx(yd,{className:"w-6 h-6"})})}),p.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:[(c==null?void 0:c.averageProgress)||0,"%"]}),p.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Avg. Syllabus Compl."})]}),p.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-indigo-800 p-6 rounded-2xl text-white shadow-xl",children:[p.jsx("h4",{className:"font-bold text-indigo-200 uppercase text-xs tracking-widest mb-4",children:"Class Distribution"}),p.jsx("div",{className:"flex justify-between items-end h-16 gap-2",children:Object.entries((c==null?void 0:c.classDistribution)||{}).map(([E,C])=>p.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-1 group cursor-pointer",children:[p.jsx("div",{className:"w-full bg-indigo-400/30 rounded-t-lg transition-all group-hover:bg-indigo-400",style:{height:`${C/150*100}%`}}),p.jsx("span",{className:"text-[10px] font-bold",children:E})]},E))})]})]}),p.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsx("h2",{className:"text-xl font-black text-indigo-950",children:"Student Directories"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Wv,{className:"w-4 h-4 absolute left-3 top-3 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Search students...",className:"pl-10 pr-4 py-2.5 bg-slate-50 rounded-xl border-none text-sm font-bold text-slate-600 outline-none focus:ring-2 focus:ring-indigo-100 w-64",value:_,onChange:E=>T(E.target.value)})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-4 rounded-xl",children:[p.jsx(TS,{className:"w-4 h-4 text-slate-400"}),p.jsxs("select",{className:"bg-transparent border-none text-sm font-bold text-slate-600 outline-none cursor-pointer py-2.5",value:m,onChange:E=>y(E.target.value),children:[p.jsx("option",{value:"All",children:"All Classes"}),p.jsx("option",{value:"8",children:"Class 8"}),p.jsx("option",{value:"9",children:"Class 9"}),p.jsx("option",{value:"10",children:"Class 10"}),p.jsx("option",{value:"11",children:"Class 11"}),p.jsx("option",{value:"12",children:"Class 12"})]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] font-black uppercase tracking-widest border-b border-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4",children:"Student Name"}),p.jsx("th",{className:"px-6 py-4",children:"Class & Section"}),p.jsx("th",{className:"px-6 py-4",children:"Syllabus"}),p.jsx("th",{className:"px-6 py-4",children:"Progress"}),p.jsx("th",{className:"px-6 py-4",children:"Last Active"}),p.jsx("th",{className:"px-6 py-4",children:"Status"}),p.jsx("th",{className:"px-6 py-4",children:"Action"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:a.map(E=>p.jsxs("tr",{className:"hover:bg-indigo-50/50 transition-colors group",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-black text-xs",children:E.name.substring(0,1)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-indigo-950 text-sm",children:E.name}),p.jsx("p",{className:"text-[10px] text-slate-400",children:E.email})]})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("span",{className:"font-bold text-slate-600 text-xs",children:["Class ",E.class," - ",E.section]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:"bg-slate-100 text-slate-500 px-2 py-1 rounded-md text-[10px] font-bold uppercase",children:E.syllabus})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-24 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full ${E.progress>75?"bg-emerald-500":E.progress>40?"bg-indigo-500":"bg-orange-500"}`,style:{width:`${E.progress}%`}})}),p.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[E.progress,"%"]})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:"text-xs font-bold text-slate-500",children:E.lastActive})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-wide ${E.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:E.status})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("button",{className:"text-slate-300 hover:text-indigo-600 transition-colors",children:p.jsx(nS,{className:"w-4 h-4"})})})]},E.id))})]})})]})]})]})},Vk=({className:i})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:p.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),Pk="/assets/school_building-B32BHMz5.jpg",Lk=["Read","Revised","Practiced","Thorough"],dp=mg,Bl=({children:i,setView:e})=>{const[n,a]=xe.useState(!1);return p.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-['Inter']",children:[p.jsxs("div",{className:"bg-emerald-900 text-emerald-50 py-2 px-6 text-[10px] font-bold uppercase tracking-widest flex justify-between items-center z-50 relative",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx("span",{children:"Affiliated to the CBSE (#831498)"}),p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsx("span",{className:"hidden sm:inline",children:"School Code (#47177)"})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("span",{children:"+91-70222 55677"}),p.jsx("span",{children:"info@vidyabodhini.org"})]})]}),p.jsxs("header",{className:"bg-white/80 backdrop-blur-md border-b border-slate-100 px-6 py-4 sticky top-0 z-50 shadow-sm transition-all",children:[p.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>e("landing"),children:[p.jsx("img",{src:dp,alt:"VIPS Logo",className:"w-12 h-12 md:w-16 md:h-16 rounded-xl object-cover border-2 border-slate-50 shadow-sm"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-emerald-950 font-black text-lg md:text-xl leading-none uppercase tracking-tight",children:"Vidyabodhini"}),p.jsx("p",{className:"text-emerald-800 text-[10px] md:text-xs font-bold uppercase tracking-widest mt-1",children:"Integrated Public School"})]})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-8 text-xs font-bold text-slate-500 uppercase tracking-wider",children:[p.jsx("button",{onClick:()=>e("about"),className:"hover:text-emerald-900 transition-colors",children:"About Us"}),p.jsx("button",{onClick:()=>e("academics"),className:"hover:text-emerald-900 transition-colors",children:"Academics (K-12)"}),p.jsx("button",{onClick:()=>e("beyond"),className:"hover:text-emerald-900 transition-colors",children:"Beyond Classroom"}),p.jsx("button",{onClick:()=>e("admissions"),className:"hover:text-emerald-900 transition-colors",children:"Admissions"})]}),p.jsx("button",{onClick:()=>a(!n),className:"md:hidden p-2 text-emerald-950",children:n?p.jsx(Zv,{}):p.jsx(kS,{})})]}),n&&p.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white/95 backdrop-blur-xl border-b border-slate-100 shadow-xl animate-in slide-in-from-top-2 p-6 flex flex-col gap-4 text-center",children:[p.jsx("button",{onClick:()=>{e("about"),a(!1)},className:"py-3 font-black text-emerald-900 uppercase tracking-widest border-b border-slate-50",children:"About Us"}),p.jsx("button",{onClick:()=>{e("academics"),a(!1)},className:"py-3 font-black text-emerald-900 uppercase tracking-widest border-b border-slate-50",children:"Academics"}),p.jsx("button",{onClick:()=>{e("beyond"),a(!1)},className:"py-3 font-black text-emerald-900 uppercase tracking-widest border-b border-slate-50",children:"Beyond Classroom"}),p.jsx("button",{onClick:()=>{e("admissions"),a(!1)},className:"py-3 font-black text-emerald-900 uppercase tracking-widest border-b border-slate-50",children:"Admissions"}),p.jsx("button",{onClick:()=>{e("login"),a(!1)},className:"py-3 bg-emerald-50 text-emerald-700 rounded-xl font-black uppercase tracking-widest mt-2",children:"Login / Register"})]})]}),p.jsx("main",{className:"flex-1",children:i}),p.jsxs("footer",{className:"bg-emerald-950 text-emerald-200 py-16 px-6",children:[p.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12",children:[p.jsxs("div",{className:"col-span-1 md:col-span-2",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("img",{src:dp,alt:"Logo",className:"w-12 h-12 rounded-xl border-2 border-emerald-800"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-white font-black text-lg uppercase tracking-tight",children:"Vidyabodhini"}),p.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-emerald-400",children:"Integrated Public School"})]})]}),p.jsx("p",{className:"text-sm leading-relaxed max-w-sm text-emerald-300/80",children:"A center of learning where tradition meets modernity. We strive to create global citizens who are rooted in values and ready for the future."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-widest mb-6",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-3 text-sm font-medium",children:[p.jsx("li",{children:p.jsx("button",{onClick:()=>e("about"),className:"hover:text-white transition-colors",children:"About the School"})}),p.jsx("li",{children:p.jsx("button",{onClick:()=>e("admissions"),className:"hover:text-white transition-colors",children:"Admission Process"})}),p.jsx("li",{children:p.jsx("button",{onClick:()=>e("admissions"),className:"hover:text-white transition-colors",children:"Fee Structure"})}),p.jsx("li",{children:p.jsx("button",{onClick:()=>e("login"),className:"hover:text-white transition-colors",children:"Parent Portal"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-widest mb-6",children:"Contact Us"}),p.jsxs("ul",{className:"space-y-3 text-sm font-medium",children:[p.jsx("li",{children:"Vidyabodhini Integrated Public School,"}),p.jsx("li",{children:"47/7, Chowdadenahalli, Narasapura-Vemgal Road,"}),p.jsx("li",{children:"Narasapura - 563133."}),p.jsx("li",{className:"pt-2 text-white font-bold",children:"+91-70222 55677"}),p.jsx("li",{children:"info@vidyabodhini.org"})]})]})]}),p.jsxs("div",{className:"max-w-7xl mx-auto mt-16 pt-8 border-t border-emerald-900 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] font-bold uppercase tracking-widest text-emerald-400",children:[p.jsx("p",{children:" 2025 Vidyabodhini School. All rights reserved."}),p.jsxs("div",{className:"flex gap-6",children:[p.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy Policy"}),p.jsx("a",{href:"#",className:"hover:text-white",children:"Terms of Use"}),p.jsx("a",{href:"#",className:"hover:text-white",children:"Mandatory Disclosure"})]}),p.jsx("button",{onClick:()=>e("admin-login"),className:"text-emerald-800 hover:text-white transition-colors",children:"Admin Portal"})]})]})]})},Uk=({setView:i})=>p.jsxs(p.Fragment,{children:[p.jsxs("section",{className:"relative py-32 px-6 overflow-hidden min-h-[600px] flex items-center",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{src:Pk,alt:"School Building",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-950/90 via-emerald-900/70 to-emerald-900/30"})]}),p.jsx("div",{className:"max-w-7xl mx-auto relative z-10 w-full",children:p.jsxs("div",{className:"max-w-3xl space-y-8 animate-in slide-in-from-left duration-700",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/50 backdrop-blur-md px-4 py-2 rounded-full border border-emerald-500/30 shadow-sm",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),p.jsx("span",{className:"text-[10px] font-black text-emerald-100 uppercase tracking-widest",children:"Admissions Open 2025-26"})]}),p.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-7xl font-black text-white tracking-tight leading-[1.1]",children:["Nurturing Hearts, ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-200 to-teal-200",children:"Inspiring Minds."})]}),p.jsx("p",{className:"text-emerald-100 text-lg font-medium max-w-xl leading-relaxed",children:"A premier K-12 institution committed to academic excellence, character building, and holistic development for every child."}),p.jsxs("div",{className:"flex flex-wrap gap-4",children:[p.jsx("button",{onClick:()=>i("about"),className:"px-8 py-4 bg-white text-emerald-950 rounded-xl font-black text-sm uppercase tracking-wider shadow-xl hover:bg-emerald-50 hover:-translate-y-1 transition-all",children:"Virtual Tour"}),p.jsx("button",{onClick:()=>i("login"),className:"px-8 py-4 bg-transparent text-white border border-emerald-200/50 rounded-xl font-black text-sm uppercase tracking-wider hover:bg-emerald-900/50 transition-all",children:"Student Portal"})]})]})})]}),p.jsx("section",{className:"py-16 px-6 bg-slate-50 border-b border-slate-200",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h3",{className:"text-emerald-950 font-black text-3xl mb-4",children:"Our Tools"}),p.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"Digital platforms to support learning and administration."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 justify-center",children:p.jsxs("div",{className:"md:col-start-2 bg-white p-8 rounded-[2rem] border border-slate-100 shadow-xl hover:shadow-2xl transition-all text-center group",children:[p.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:p.jsx(Xv,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-2xl font-black text-slate-900 mb-2",children:"LMS Portal"}),p.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"Learning Management System for Students and Parents."}),p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsx("button",{onClick:()=>i("login"),className:"px-6 py-3 rounded-xl border-2 border-indigo-50 text-indigo-900 font-black text-xs uppercase tracking-wider hover:bg-indigo-50 transition-all",children:"Login"}),p.jsx("button",{onClick:()=>i("register"),className:"px-6 py-3 rounded-xl bg-indigo-900 text-white font-black text-xs uppercase tracking-wider shadow-lg hover:bg-indigo-800 transition-all",children:"Register"})]})]})})]})}),p.jsx("section",{className:"py-20 px-6 bg-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h3",{className:"text-emerald-950 font-black text-3xl mb-4",children:"A Journey of Excellence"}),p.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"From their first steps in Kindergarten to their graduation day, we guide every student towards their full potential."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Primary Years",range:"KG - Grade 5",desc:"Foundation of curiosity and creativity.",color:"bg-orange-50 text-orange-600"},{title:"Middle School",range:"Grade 6 - 8",desc:"Exploration and skill development.",color:"bg-blue-50 text-blue-600"},{title:"Senior School",range:"Grade 9 - 12",desc:"Academic rigor and career readiness.",color:"bg-emerald-50 text-emerald-600"}].map((e,n)=>p.jsxs("div",{className:"p-8 rounded-[2rem] border border-slate-100 hover:shadow-xl transition-all group",children:[p.jsx("div",{className:`w-16 h-16 rounded-2xl ${e.color} flex items-center justify-center font-black text-xl mb-6 group-hover:scale-110 transition-transform`,children:e.range.substring(0,1)}),p.jsx("h4",{className:"text-xl font-black text-slate-900 mb-2",children:e.title}),p.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-slate-100 text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-4",children:e.range}),p.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:e.desc})]},n))})]})}),p.jsx("section",{className:"py-20 px-6 bg-slate-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-emerald-950 font-black text-3xl mb-8",children:"The Vidyabodhini Advantage"}),p.jsx("div",{className:"space-y-6",children:[{title:"Holistic Curriculum",desc:"Balanced focus on Academics, Arts, and Sports."},{title:"World-Class Campus",desc:"Smart classrooms, Olympic-size pool, and modern labs."},{title:"Expert Faculty",desc:"1:15 Teacher-Student ratio for personalized attention."}].map((e,n)=>p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center text-emerald-600 shrink-0",children:p.jsx(oa,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h5",{className:"font-black text-emerald-950 text-lg",children:e.title}),p.jsx("p",{className:"text-slate-500 text-sm",children:e.desc})]})]},n))})]}),p.jsxs("div",{className:"bg-emerald-900 rounded-[3rem] p-12 text-white text-center relative overflow-hidden",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsx("h4",{className:"text-3xl font-black mb-4",children:"Admissions Open"}),p.jsx("p",{className:"text-emerald-200 mb-8",children:"For the Academic Session 2025-26. Limited seats available."}),p.jsx("button",{onClick:()=>i("admissions"),className:"bg-white text-emerald-900 px-8 py-4 rounded-xl font-black uppercase tracking-widest hover:bg-emerald-50 transition-colors",children:"Apply Online"})]}),p.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"})]})]})})]}),qv=({mode:i,onSubmit:e,onToggle:n,onBack:a,error:o})=>{const[c,h]=xe.useState({name:"",email:"",password:"",schoolName:"",phone:"",classLevel:"10",syllabusType:"CBSE"});return p.jsx("div",{className:"min-h-screen bg-indigo-950 flex items-center justify-center p-6",children:p.jsxs("div",{className:"w-full max-w-md bg-white rounded-[2.5rem] shadow-2xl p-10 space-y-8 animate-in zoom-in-95",children:[p.jsxs("div",{className:"relative text-center",children:[p.jsx("button",{onClick:a,className:"absolute left-0 top-0 p-2 hover:bg-slate-100 rounded-full transition-colors",children:p.jsx(Yv,{className:"w-6 h-6 text-slate-400"})}),p.jsx("img",{src:dp,alt:"Logo",className:"w-16 h-16 rounded-2xl mx-auto mb-4 object-cover border-4 border-slate-50"}),p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:i==="login"?"Student Login":"Student Registration"}),p.jsx("p",{className:"text-slate-400 text-xs font-bold mt-1",children:"Vidyabodhini Integrated Public School"}),i==="register"&&p.jsx("p",{className:"text-emerald-600 text-[10px] font-black uppercase tracking-widest mt-2 bg-emerald-50 py-1 px-3 rounded-full inline-block",children:"Free for all students of all schools"})]}),o&&p.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-xl text-xs font-bold border border-red-100 flex items-center gap-2",children:[p.jsx(hS,{className:"w-4 h-4"})," ",o]}),p.jsxs("form",{onSubmit:m=>{m.preventDefault(),e(c)},className:"space-y-4",children:[i==="register"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"text",required:!0,placeholder:"Full Name",value:c.name,onChange:m=>h({...c,name:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("input",{type:"text",required:!0,placeholder:"School Name",value:c.schoolName,onChange:m=>h({...c,schoolName:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("input",{type:"tel",required:!0,placeholder:"Phone Number",value:c.phone,onChange:m=>h({...c,phone:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("select",{value:c.classLevel,onChange:m=>h({...c,classLevel:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950",children:[8,9,10,11,12].map(m=>p.jsxs("option",{value:m,children:["Class ",m]},m))}),p.jsxs("select",{value:c.syllabusType,onChange:m=>h({...c,syllabusType:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950",children:[p.jsx("option",{value:"CBSE",children:"CBSE"}),p.jsx("option",{value:"State",children:"State Board"})]}),p.jsx("p",{className:"text-xs text-center font-bold text-emerald-600 bg-emerald-50 py-2 rounded-lg",children:" Free for all students of all schools "})]}),p.jsx("input",{type:"email",required:!0,placeholder:"Registration Email",value:c.email,onChange:m=>h({...c,email:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("input",{type:"password",required:!0,placeholder:"Password",value:c.password,onChange:m=>h({...c,password:m.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-900 text-white py-4 rounded-xl font-black hover:bg-indigo-800 transition-all shadow-lg",children:i==="login"?"Sign In":"Register Now"})]}),p.jsx("div",{className:"text-center space-y-4 pt-4",children:p.jsx("button",{onClick:n,className:"text-indigo-600 font-bold text-xs hover:underline",children:i==="login"?"Don't have an account? Register":"Already have an account? Login"})})]})})},Hk=({userConfig:i,setUserConfig:e,onboardingStep:n,setOnboardingStep:a,currentSyllabus:o,onComplete:c,onAddCustomSubject:h})=>{const[m,y]=xe.useState("");return p.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"w-full max-w-xl bg-white rounded-[2.5rem] shadow-2xl p-8 md:p-12 space-y-8 animate-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsxs("h3",{className:"text-lg font-black text-indigo-900",children:["Step ",n," of 4"]}),p.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4].map(_=>p.jsx("div",{className:`w-8 h-1.5 rounded-full ${_<=n?"bg-indigo-900":"bg-slate-100"}`},_))})]}),n===1&&p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Complete Your Profile"}),p.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Please provide a few more details to get started."}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"text",placeholder:"Full Name",required:!0,value:i.name,onChange:_=>e({...i,name:_.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("input",{type:"text",placeholder:"School Name",required:!0,value:i.schoolName,onChange:_=>e({...i,schoolName:_.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"}),p.jsx("input",{type:"tel",placeholder:"Phone Number",required:!0,value:i.phone,onChange:_=>e({...i,phone:_.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-indigo-950"})]})]}),n===2&&p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Select Standard"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[8,9,10,11,12].map(_=>p.jsxs("button",{onClick:()=>e({...i,classLevel:_,selectedSubjectIds:[]}),className:`p-8 rounded-2xl border-4 transition-all flex flex-col items-center gap-3 ${i.classLevel===_?"border-indigo-900 bg-indigo-50 text-indigo-900":"border-slate-50 text-slate-400"}`,children:[p.jsx(SS,{className:"w-8 h-8"}),p.jsxs("span",{className:"font-black text-lg",children:["Class ",_]})]},_))})]}),n===3&&p.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Your Subjects"}),p.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-64 overflow-y-auto pr-2",children:o.subjects.map(_=>p.jsxs("button",{onClick:()=>{const T=i.selectedSubjectIds.includes(_.id);e({...i,selectedSubjectIds:T?i.selectedSubjectIds.filter(E=>E!==_.id):[...i.selectedSubjectIds,_.id]})},className:`p-4 rounded-xl border-2 flex justify-between font-bold items-center ${i.selectedSubjectIds.includes(_.id)?"border-indigo-600 bg-indigo-50 text-indigo-900":"border-slate-100 text-slate-500"}`,children:[_.name," ",i.selectedSubjectIds.includes(_.id)&&p.jsx(oa,{className:"w-5 h-5 text-indigo-600"})]},_.id))}),p.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100",children:[p.jsx("input",{type:"text",placeholder:"Add Custom Subject (e.g. Psychology)",className:"flex-1 p-3 rounded-xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-bold text-xs",value:m,onChange:_=>y(_.target.value),onKeyDown:_=>{_.key==="Enter"&&m&&(h(m),y(""))}}),p.jsx("button",{disabled:!m,onClick:()=>{h(m),y("")},className:"bg-indigo-900 text-white px-4 rounded-xl font-black text-xs disabled:opacity-50",children:"+"})]})]}),n===4&&p.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[p.jsx("h2",{className:"text-2xl font-black text-indigo-950",children:"Exam Date"}),p.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"When do your board exams start?"}),p.jsx("input",{type:"date",className:"w-full p-5 rounded-2xl bg-slate-50 border-2 border-transparent focus:border-indigo-600 outline-none font-black text-indigo-900",value:i.examDate,onChange:_=>e({...i,examDate:_.target.value})})]}),p.jsxs("div",{className:"flex gap-4 pt-4",children:[n>1&&p.jsx("button",{onClick:()=>a(n-1),className:"p-5 rounded-2xl bg-slate-100",children:p.jsx(Yv,{})}),p.jsx("button",{onClick:()=>{n<4?a(n+1):c()},disabled:n===1&&(!i.phone||!i.schoolName||!i.name)||n===3&&i.selectedSubjectIds.length===0,className:"flex-1 bg-indigo-900 text-white py-5 rounded-2xl font-black disabled:opacity-50 hover:bg-indigo-800 transition-all shadow-xl",children:n===4?"Generate My Plan":"Continue"})]})]})})},zk=()=>{const[i,e]=xe.useState("landing"),[n,a]=xe.useState("plan"),[o,c]=xe.useState(""),[h,m]=xe.useState(()=>({name:"",email:"",phone:"",schoolName:"Vidyabodhini Integrated Public School",classLevel:10,syllabusType:"CBSE",selectedSubjectIds:[],customSubjects:[],manualChapters:{},examDate:la(new Date(Date.now()+1e3*60*60*24*60),"yyyy-MM-dd"),availableHours:M2,chapterProgress:{},completedTopicIds:[],onboarded:!1,gamification:{streak:0,lastStudyDate:"",points:0,unlockedAchievementIds:[]}})),[y,_]=xe.useState([]),[T,E]=xe.useState(1),[C,z]=xe.useState(null),[X,J]=xe.useState(new Date);xe.useEffect(()=>{const N=setInterval(()=>J(new Date),1e3);return()=>clearInterval(N)},[]);const Z=mA(Lm(h.examDate),new Date),te=xe.useMemo(()=>{var A;const N=h.syllabusType||"CBSE",D=h.classLevel||10,S=((A=tb[N])==null?void 0:A[D])||tb.CBSE[10],k=S.subjects.map(he=>{var Te;return he.isManual?{...he,chapters:((Te=h.manualChapters)==null?void 0:Te[he.id])||[]}:he});return{...S,subjects:[...k,...h.customSubjects||[]]}},[h.classLevel,h.syllabusType,h.manualChapters,h.customSubjects]);xe.useEffect(()=>{(async()=>{try{const D=await rd.getSession();if(D){m(k=>({...k,...D}));const S=await na.getUserConfig(D.email);if(S){const k=ox.checkStreak(S);m(k),JSON.stringify(k.gamification)!==JSON.stringify(S.gamification)&&na.updateUserConfig(D.email,k),k.onboarded?e("dashboard"):e("onboarding")}else e("onboarding")}}catch(D){console.error("Session init failed",D)}})()},[]),xe.useEffect(()=>{h.email&&h.onboarded&&na.updateUserConfig(h.email,h).catch(console.error)},[h]),xe.useEffect(()=>{h.onboarded&&!C?h.selectedSubjectIds.includes(C||"")?_(Xl(te,h)):(_(Xl(te,h)),z(h.selectedSubjectIds[0]||null)):h.onboarded&&_(Xl(te,h))},[h.onboarded,te,h.chapterProgress]);const re=async N=>{try{await rd.register(N);const D=parseInt(N.classLevel);m({...h,name:N.name,email:N.email,schoolName:N.schoolName,phone:N.phone,classLevel:D,syllabusType:N.syllabusType,selectedSubjectIds:[],customSubjects:[],manualChapters:{},onboarded:!1,gamification:{streak:0,lastStudyDate:"",points:0,unlockedAchievementIds:[]}}),E(2),e("onboarding")}catch(D){c(D.message||"Registration failed")}},ce=async N=>{try{const D=await rd.login(N);if(D){const S=await na.getUserConfig(D.email);S?(m(S),e("dashboard")):(m({...h,name:D.name,email:D.email,schoolName:D.schoolName||h.schoolName,phone:D.phone||h.phone}),e("onboarding"))}}catch(D){c(D.message||"Invalid email or password.")}},Ee=async()=>{await rd.logout(),window.location.reload()},fe=N=>{const D={id:`custom-${Date.now()}`,name:N,chapters:[],isCustom:!0,isManual:!0};m(S=>({...S,customSubjects:[...S.customSubjects||[],D],selectedSubjectIds:[...S.selectedSubjectIds,D.id]}))},de=xe.useMemo(()=>{const D=te.subjects.filter(k=>h.selectedSubjectIds.includes(k.id)).reduce((k,A)=>k+A.chapters.length,0);if(D===0)return 0;const S=Object.values(h.chapterProgress).reduce((k,A)=>k+A.checkpoints.length,0);return Math.round(S/(D*Lk.length)*100)},[h.chapterProgress,h.selectedSubjectIds,te]),R=xe.useMemo(()=>y.filter(N=>N.scheduledDate===la(new Date,"yyyy-MM-dd")),[y]),I=()=>{m(N=>({...N,completedTopicIds:[],chapterProgress:{}}))};return p.jsxs("div",{className:"font-['Inter'] antialiased",children:[i==="landing"&&p.jsx(Bl,{setView:e,children:p.jsx(Uk,{setView:e})}),i==="about"&&p.jsx(Bl,{setView:e,children:p.jsx(Tk,{setView:e})}),i==="academics"&&p.jsx(Bl,{setView:e,children:p.jsx(xk,{setView:e})}),i==="beyond"&&p.jsx(Bl,{setView:e,children:p.jsx(wk,{setView:e})}),i==="admissions"&&p.jsx(Bl,{setView:e,children:p.jsx(Sk,{setView:e})}),i==="login"&&p.jsx(qv,{mode:"login",error:o,onToggle:()=>{e("register"),c("")},onBack:()=>e("landing"),onSubmit:ce}),i==="register"&&p.jsx(qv,{mode:"register",error:o,onToggle:()=>{e("login"),c("")},onBack:()=>e("landing"),onSubmit:re}),i==="onboarding"&&p.jsx(Hk,{userConfig:h,setUserConfig:m,onboardingStep:T,setOnboardingStep:E,currentSyllabus:te,onAddCustomSubject:fe,onComplete:()=>{m({...h,onboarded:!0}),e("dashboard")}}),i==="profile"&&p.jsx(Ak,{userConfig:h,setUserConfig:m,setView:e,onReset:I}),i==="dashboard"&&p.jsx(Ok,{userConfig:h,setUserConfig:m,schedule:y,setSchedule:_,currentSyllabus:te,activeTab:n,setActiveTab:a,setView:e,onLogout:Ee,currentTime:X,daysLeft:Z,masteryScore:de,todayTasks:R}),i==="admin-login"&&p.jsx("div",{className:"min-h-screen bg-indigo-950 flex items-center justify-center p-6",children:p.jsxs("div",{className:"w-full max-w-sm bg-white rounded-3xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"text-xl font-black text-indigo-950",children:"School Admin"}),p.jsx("p",{className:"text-xs text-slate-400 font-bold",children:"Authorized Personnel Only"})]}),p.jsxs("form",{onSubmit:N=>{N.preventDefault(),e("admin-dashboard")},className:"space-y-4",children:[p.jsx("input",{type:"email",placeholder:"Admin Email",className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-100 text-sm font-bold outline-none focus:border-indigo-500"}),p.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-3 rounded-xl bg-slate-50 border border-slate-100 text-sm font-bold outline-none focus:border-indigo-500"}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-900 text-white py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-indigo-800",children:"Login"})]}),p.jsx("button",{onClick:()=>e("landing"),className:"w-full mt-4 text-xs text-slate-400 hover:text-indigo-600 font-bold",children:"Back to Site"})]})}),i==="admin-dashboard"&&p.jsx(jk,{setView:e})]})},lx=document.getElementById("root");if(!lx)throw new Error("Could not find root element to mount to");const Bk=Kw.createRoot(lx);Bk.render(p.jsx(Fv.StrictMode,{children:p.jsx(zk,{})}));
